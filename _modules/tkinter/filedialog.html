

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tkinter.filedialog &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="tkinter" href="../tkinter.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
          <li><a href="../tkinter.html">tkinter</a> &raquo;</li>
      
    <li>tkinter.filedialog</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for tkinter.filedialog</h1><div class="highlight"><pre>
<span class="sd">&quot;&quot;&quot;File selection dialog classes.</span>

<span class="sd">Classes:</span>

<span class="sd">- FileDialog</span>
<span class="sd">- LoadFileDialog</span>
<span class="sd">- SaveFileDialog</span>

<span class="sd">This module also presents tk common file dialogues, it provides interfaces</span>
<span class="sd">to the native file dialogues available in Tk 4.2 and newer, and the</span>
<span class="sd">directory dialogue available in Tk 8.3 and newer.</span>
<span class="sd">These interfaces were written by Fredrik Lundh, May 1997.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">tkinter.dialog</span> <span class="kn">import</span> <span class="n">Dialog</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">commondialog</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">fnmatch</span>


<span class="n">dialogstates</span> <span class="o">=</span> <span class="p">{}</span>


<div class="viewcode-block" id="FileDialog"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog">[docs]</a><span class="k">class</span> <span class="nc">FileDialog</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;Standard file selection dialog -- no checks on selected file.</span>

<span class="sd">    Usage:</span>

<span class="sd">        d = FileDialog(master)</span>
<span class="sd">        fname = d.go(dir_or_file, pattern, default, key)</span>
<span class="sd">        if fname is None: ...canceled...</span>
<span class="sd">        else: ...open file...</span>

<span class="sd">    All arguments to go() are optional.</span>

<span class="sd">    The &#39;key&#39; argument specifies a key in the global dictionary</span>
<span class="sd">    &#39;dialogstates&#39;, which keeps track of the values for the directory</span>
<span class="sd">    and pattern arguments, overriding the values passed in (it does</span>
<span class="sd">    not keep track of the default argument!).  If no key is specified,</span>
<span class="sd">    the dialog keeps no memory of previous state.  Note that memory is</span>
<span class="sd">    kept even when the dialog is canceled.  (All this emulates the</span>
<span class="sd">    behavior of the Macintosh file selection dialogs.)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;File Selection Dialog&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span> <span class="o">=</span> <span class="n">master</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directory</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">top</span> <span class="o">=</span> <span class="n">Toplevel</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">iconname</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">botframe</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">botframe</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;&lt;Return&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ok_event</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">X</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;&lt;Return&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_command</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">midframe</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">midframe</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="n">YES</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">filesbar</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">midframe</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">files</span> <span class="o">=</span> <span class="n">Listbox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">midframe</span><span class="p">,</span> <span class="n">exportselection</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                             <span class="n">yscrollcommand</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filesbar</span><span class="p">,</span> <span class="s">&#39;set&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">YES</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="n">btags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">bindtags</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">bindtags</span><span class="p">(</span><span class="n">btags</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">btags</span><span class="p">[:</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;&lt;ButtonRelease-1&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">files_select_event</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;&lt;Double-ButtonRelease-1&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">files_double_event</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesbar</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="p">,</span> <span class="s">&#39;yview&#39;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dirsbar</span> <span class="o">=</span> <span class="n">Scrollbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">midframe</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirsbar</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span> <span class="o">=</span> <span class="n">Listbox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">midframe</span><span class="p">,</span> <span class="n">exportselection</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                            <span class="n">yscrollcommand</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dirsbar</span><span class="p">,</span> <span class="s">&#39;set&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">YES</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">BOTH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirsbar</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="p">,</span> <span class="s">&#39;yview&#39;</span><span class="p">))</span>
        <span class="n">btags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="o">.</span><span class="n">bindtags</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="o">.</span><span class="n">bindtags</span><span class="p">(</span><span class="n">btags</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">btags</span><span class="p">[:</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;&lt;ButtonRelease-1&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs_select_event</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;&lt;Double-ButtonRelease-1&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs_double_event</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ok_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botframe</span><span class="p">,</span>
                                 <span class="n">text</span><span class="o">=</span><span class="s">&quot;OK&quot;</span><span class="p">,</span>
                                 <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ok_command</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ok_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botframe</span><span class="p">,</span>
                                    <span class="n">text</span><span class="o">=</span><span class="s">&quot;Filter&quot;</span><span class="p">,</span>
                                    <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_command</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">YES</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cancel_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">botframe</span><span class="p">,</span>
                                    <span class="n">text</span><span class="o">=</span><span class="s">&quot;Cancel&quot;</span><span class="p">,</span>
                                    <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cancel_command</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cancel_button</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">RIGHT</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s">&#39;WM_DELETE_WINDOW&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancel_command</span><span class="p">)</span>
        <span class="c"># XXX Are the following okay for a general audience?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;&lt;Alt-w&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancel_command</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s">&#39;&lt;Alt-W&gt;&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cancel_command</span><span class="p">)</span>

<div class="viewcode-block" id="FileDialog.go"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.go">[docs]</a>    <span class="k">def</span> <span class="nf">go</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dir_or_file</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">curdir</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">dialogstates</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="n">dialogstates</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dir_or_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="n">dir_or_file</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_or_file</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">directory</span> <span class="o">=</span> <span class="n">dir_or_file</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">dir_or_file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_filter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_selection</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_command</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="o">.</span><span class="n">focus_set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">wait_visibility</span><span class="p">()</span> <span class="c"># window needs to be visible for the grab</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">how</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>          <span class="c"># Exited by self.quit(how)</span>
        <span class="k">if</span> <span class="n">key</span><span class="p">:</span>
            <span class="n">directory</span><span class="p">,</span> <span class="n">pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filter</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">how</span><span class="p">:</span>
                <span class="n">directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">how</span><span class="p">)</span>
            <span class="n">dialogstates</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">directory</span><span class="p">,</span> <span class="n">pattern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">how</span>
</div>
<div class="viewcode-block" id="FileDialog.quit"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.quit">[docs]</a>    <span class="k">def</span> <span class="nf">quit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">how</span> <span class="o">=</span> <span class="n">how</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>              <span class="c"># Exit mainloop()</span>
</div>
<div class="viewcode-block" id="FileDialog.dirs_double_event"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.dirs_double_event">[docs]</a>    <span class="k">def</span> <span class="nf">dirs_double_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_command</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="FileDialog.dirs_select_event"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.dirs_select_event">[docs]</a>    <span class="k">def</span> <span class="nf">dirs_select_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="nb">dir</span><span class="p">,</span> <span class="n">pat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filter</span><span class="p">()</span>
        <span class="n">subdir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;active&#39;</span><span class="p">)</span>
        <span class="nb">dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="n">subdir</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_filter</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">pat</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FileDialog.files_double_event"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.files_double_event">[docs]</a>    <span class="k">def</span> <span class="nf">files_double_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ok_command</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="FileDialog.files_select_event"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.files_select_event">[docs]</a>    <span class="k">def</span> <span class="nf">files_select_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="nb">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;active&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_selection</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FileDialog.ok_event"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.ok_event">[docs]</a>    <span class="k">def</span> <span class="nf">ok_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ok_command</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="FileDialog.ok_command"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.ok_command">[docs]</a>    <span class="k">def</span> <span class="nf">ok_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_selection</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="FileDialog.filter_command"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.filter_command">[docs]</a>    <span class="k">def</span> <span class="nf">filter_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">dir</span><span class="p">,</span> <span class="n">pat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_filter</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">names</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">bell</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directory</span> <span class="o">=</span> <span class="nb">dir</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_filter</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">pat</span><span class="p">)</span>
        <span class="n">names</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">subdirs</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">]</span>
        <span class="n">matchingfiles</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
            <span class="n">fullname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">fullname</span><span class="p">):</span>
                <span class="n">subdirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">fnmatch</span><span class="o">.</span><span class="n">fnmatch</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">pat</span><span class="p">):</span>
                <span class="n">matchingfiles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">subdirs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dirs</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">END</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">matchingfiles</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">END</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">head</span><span class="p">,</span> <span class="n">tail</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_selection</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">tail</span> <span class="o">==</span> <span class="n">os</span><span class="o">.</span><span class="n">curdir</span><span class="p">:</span> <span class="n">tail</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_selection</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FileDialog.get_filter"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.get_filter">[docs]</a>    <span class="k">def</span> <span class="nf">get_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">filter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="nb">filter</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="nb">filter</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">filter</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="nb">filter</span><span class="p">):</span>
            <span class="nb">filter</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="s">&quot;*&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="nb">filter</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="FileDialog.get_selection"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.get_selection">[docs]</a>    <span class="k">def</span> <span class="nf">get_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="nb">file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">file</span>
</div>
<div class="viewcode-block" id="FileDialog.cancel_command"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.cancel_command">[docs]</a>    <span class="k">def</span> <span class="nf">cancel_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="FileDialog.set_filter"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.set_filter">[docs]</a>    <span class="k">def</span> <span class="nf">set_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="p">,</span> <span class="n">pat</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isabs</span><span class="p">(</span><span class="nb">dir</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">pwd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                <span class="n">pwd</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">if</span> <span class="n">pwd</span><span class="p">:</span>
                <span class="nb">dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pwd</span><span class="p">,</span> <span class="nb">dir</span><span class="p">)</span>
                <span class="nb">dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">END</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">dir</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">curdir</span><span class="p">,</span> <span class="n">pat</span> <span class="ow">or</span> <span class="s">&quot;*&quot;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="FileDialog.set_selection"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.FileDialog.set_selection">[docs]</a>    <span class="k">def</span> <span class="nf">set_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">file</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">END</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">END</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span> <span class="nb">file</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="LoadFileDialog"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.LoadFileDialog">[docs]</a><span class="k">class</span> <span class="nc">LoadFileDialog</span><span class="p">(</span><span class="n">FileDialog</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;File selection dialog which checks that the file exists.&quot;&quot;&quot;</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Load File Selection Dialog&quot;</span>

<div class="viewcode-block" id="LoadFileDialog.ok_command"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.LoadFileDialog.ok_command">[docs]</a>    <span class="k">def</span> <span class="nf">ok_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="nb">file</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">bell</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="SaveFileDialog"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.SaveFileDialog">[docs]</a><span class="k">class</span> <span class="nc">SaveFileDialog</span><span class="p">(</span><span class="n">FileDialog</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;File selection dialog which checks that the file may be created.&quot;&quot;&quot;</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Save File Selection Dialog&quot;</span>

<div class="viewcode-block" id="SaveFileDialog.ok_command"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.SaveFileDialog.ok_command">[docs]</a>    <span class="k">def</span> <span class="nf">ok_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_selection</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="nb">file</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="nb">file</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">bell</span><span class="p">()</span>
                <span class="k">return</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">Dialog</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top</span><span class="p">,</span>
                       <span class="n">title</span><span class="o">=</span><span class="s">&quot;Overwrite Existing File Question&quot;</span><span class="p">,</span>
                       <span class="n">text</span><span class="o">=</span><span class="s">&quot;Overwrite existing file </span><span class="si">%r</span><span class="s">?&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">file</span><span class="p">,),</span>
                       <span class="n">bitmap</span><span class="o">=</span><span class="s">&#39;questhead&#39;</span><span class="p">,</span>
                       <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                       <span class="n">strings</span><span class="o">=</span><span class="p">(</span><span class="s">&quot;Yes&quot;</span><span class="p">,</span> <span class="s">&quot;Cancel&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">num</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">head</span><span class="p">,</span> <span class="n">tail</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">head</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">bell</span><span class="p">()</span>
                <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>



<span class="c"># For the following classes and modules:</span>
<span class="c">#</span>
<span class="c"># options (all have default values):</span>
<span class="c">#</span>
<span class="c"># - defaultextension: added to filename if not explicitly given</span>
<span class="c">#</span>
<span class="c"># - filetypes: sequence of (label, pattern) tuples.  the same pattern</span>
<span class="c">#   may occur with several patterns.  use &quot;*&quot; as pattern to indicate</span>
<span class="c">#   all files.</span>
<span class="c">#</span>
<span class="c"># - initialdir: initial directory.  preserved by dialog instance.</span>
<span class="c">#</span>
<span class="c"># - initialfile: initial file (ignored by the open dialog).  preserved</span>
<span class="c">#   by dialog instance.</span>
<span class="c">#</span>
<span class="c"># - parent: which window to place the dialog on top of</span>
<span class="c">#</span>
<span class="c"># - title: dialog title</span>
<span class="c">#</span>
<span class="c"># - multiple: if true user may select more than one file</span>
<span class="c">#</span>
<span class="c"># options for the directory chooser:</span>
<span class="c">#</span>
<span class="c"># - initialdir, parent, title: see above</span>
<span class="c">#</span>
<span class="c"># - mustexist: if true, user must pick an existing directory</span>
<span class="c">#</span>

</div></div>
<span class="k">class</span> <span class="nc">_Dialog</span><span class="p">(</span><span class="n">commondialog</span><span class="o">.</span><span class="n">Dialog</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">_fixoptions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c"># make sure &quot;filetypes&quot; is a tuple</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;filetypes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;filetypes&quot;</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_fixresult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">result</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
            <span class="c"># keep directory and filename until next time</span>
            <span class="c"># convert Tcl path objects to strings</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">string</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="c"># it already is a string</span>
                <span class="k">pass</span>
            <span class="n">path</span><span class="p">,</span> <span class="nb">file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;initialdir&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;initialfile&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">result</span> <span class="c"># compatibility</span>
        <span class="k">return</span> <span class="n">result</span>


<span class="c">#</span>
<span class="c"># file dialogs</span>

<div class="viewcode-block" id="Open"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.Open">[docs]</a><span class="k">class</span> <span class="nc">Open</span><span class="p">(</span><span class="n">_Dialog</span><span class="p">):</span>
    <span class="s">&quot;Ask for a filename to open&quot;</span>

    <span class="n">command</span> <span class="o">=</span> <span class="s">&quot;tk_getOpenFile&quot;</span>

    <span class="k">def</span> <span class="nf">_fixresult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">result</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="c"># multiple results:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="nb">getattr</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="s">&quot;string&quot;</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">result</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
                <span class="n">path</span><span class="p">,</span> <span class="nb">file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;initialdir&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span>
                <span class="c"># don&#39;t set initialfile or filename, as we have multiple of these</span>
            <span class="k">return</span> <span class="n">result</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">widget</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">wantobjects</span><span class="p">()</span> <span class="ow">and</span> <span class="s">&quot;multiple&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="c"># Need to split result explicitly</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fixresult</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">widget</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">_Dialog</span><span class="o">.</span><span class="n">_fixresult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SaveAs"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.SaveAs">[docs]</a><span class="k">class</span> <span class="nc">SaveAs</span><span class="p">(</span><span class="n">_Dialog</span><span class="p">):</span>
    <span class="s">&quot;Ask for a filename to save as&quot;</span>

    <span class="n">command</span> <span class="o">=</span> <span class="s">&quot;tk_getSaveFile&quot;</span>


<span class="c"># the directory dialog has its own _fix routines.</span></div>
<div class="viewcode-block" id="Directory"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.Directory">[docs]</a><span class="k">class</span> <span class="nc">Directory</span><span class="p">(</span><span class="n">commondialog</span><span class="o">.</span><span class="n">Dialog</span><span class="p">):</span>
    <span class="s">&quot;Ask for a directory&quot;</span>

    <span class="n">command</span> <span class="o">=</span> <span class="s">&quot;tk_chooseDirectory&quot;</span>

    <span class="k">def</span> <span class="nf">_fixresult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">result</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
            <span class="c"># convert Tcl path objects to strings</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">string</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="c"># it already is a string</span>
                <span class="k">pass</span>
            <span class="c"># keep directory until next time</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;initialdir&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directory</span> <span class="o">=</span> <span class="n">result</span> <span class="c"># compatibility</span>
        <span class="k">return</span> <span class="n">result</span>

<span class="c">#</span>
<span class="c"># convenience stuff</span>
</div>
<div class="viewcode-block" id="askopenfilename"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.askopenfilename">[docs]</a><span class="k">def</span> <span class="nf">askopenfilename</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
    <span class="s">&quot;Ask for a filename to open&quot;</span>

    <span class="k">return</span> <span class="n">Open</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="asksaveasfilename"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.asksaveasfilename">[docs]</a><span class="k">def</span> <span class="nf">asksaveasfilename</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
    <span class="s">&quot;Ask for a filename to save as&quot;</span>

    <span class="k">return</span> <span class="n">SaveAs</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="askopenfilenames"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.askopenfilenames">[docs]</a><span class="k">def</span> <span class="nf">askopenfilenames</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ask for multiple filenames to open</span>

<span class="sd">    Returns a list of filenames or empty list if</span>
<span class="sd">    cancel button selected</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">options</span><span class="p">[</span><span class="s">&quot;multiple&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">Open</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c"># FIXME: are the following  perhaps a bit too convenient?</span>
</div>
<div class="viewcode-block" id="askopenfile"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.askopenfile">[docs]</a><span class="k">def</span> <span class="nf">askopenfile</span><span class="p">(</span><span class="n">mode</span> <span class="o">=</span> <span class="s">&quot;r&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
    <span class="s">&quot;Ask for a filename to open, and returned the opened file&quot;</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="n">Open</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">filename</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>
</div>
<div class="viewcode-block" id="askopenfiles"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.askopenfiles">[docs]</a><span class="k">def</span> <span class="nf">askopenfiles</span><span class="p">(</span><span class="n">mode</span> <span class="o">=</span> <span class="s">&quot;r&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ask for multiple filenames and return the open file</span>
<span class="sd">    objects</span>

<span class="sd">    returns a list of open file objects or an empty list if</span>
<span class="sd">    cancel selected</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">files</span> <span class="o">=</span> <span class="n">askopenfilenames</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">ofiles</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="n">ofiles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
        <span class="n">files</span><span class="o">=</span><span class="n">ofiles</span>
    <span class="k">return</span> <span class="n">files</span>

</div>
<div class="viewcode-block" id="asksaveasfile"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.asksaveasfile">[docs]</a><span class="k">def</span> <span class="nf">asksaveasfile</span><span class="p">(</span><span class="n">mode</span> <span class="o">=</span> <span class="s">&quot;w&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
    <span class="s">&quot;Ask for a filename to save as, and returned the opened file&quot;</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="n">SaveAs</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">filename</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>
</div>
<div class="viewcode-block" id="askdirectory"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.askdirectory">[docs]</a><span class="k">def</span> <span class="nf">askdirectory</span> <span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
    <span class="s">&quot;Ask for a directory, and return the file name&quot;</span>
    <span class="k">return</span> <span class="n">Directory</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>



<span class="c"># --------------------------------------------------------------------</span>
<span class="c"># test stuff</span>
</div>
<div class="viewcode-block" id="test"><a class="viewcode-back" href="../../tkinter.html#tkinter.filedialog.test">[docs]</a><span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Simple test program.&quot;&quot;&quot;</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
    <span class="n">root</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>
    <span class="n">fd</span> <span class="o">=</span> <span class="n">LoadFileDialog</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="n">loadfile</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">go</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s">&quot;test&quot;</span><span class="p">)</span>
    <span class="n">fd</span> <span class="o">=</span> <span class="n">SaveFileDialog</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="n">savefile</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">go</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s">&quot;test&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">loadfile</span><span class="p">,</span> <span class="n">savefile</span><span class="p">)</span>

    <span class="c"># Since the file name may contain non-ASCII characters, we need</span>
    <span class="c"># to find an encoding that likely supports the file name, and</span>
    <span class="c"># displays correctly on the terminal.</span>

    <span class="c"># Start off with UTF-8</span>
    <span class="n">enc</span> <span class="o">=</span> <span class="s">&quot;utf-8&quot;</span>
    <span class="kn">import</span> <span class="nn">sys</span>

    <span class="c"># See whether CODESET is defined</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">import</span> <span class="nn">locale</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">enc</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">nl_langinfo</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">CODESET</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">ImportError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="c"># dialog for openening files</span>

    <span class="n">openfilename</span><span class="o">=</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">filetypes</span><span class="o">=</span><span class="p">[(</span><span class="s">&quot;all files&quot;</span><span class="p">,</span> <span class="s">&quot;*&quot;</span><span class="p">)])</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">fp</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">openfilename</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">)</span>
        <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;Could not open File: &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">print</span><span class="p">(</span><span class="s">&quot;open&quot;</span><span class="p">,</span> <span class="n">openfilename</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">enc</span><span class="p">))</span>

    <span class="c"># dialog for saving files</span>

    <span class="n">saveasfilename</span><span class="o">=</span><span class="n">asksaveasfilename</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s">&quot;saveas&quot;</span><span class="p">,</span> <span class="n">saveasfilename</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">enc</span><span class="p">))</span>
</div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">test</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>