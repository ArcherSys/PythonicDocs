

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_base64 &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_base64</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_base64</h1><div class="highlight"><pre>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="n">support</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">binascii</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">struct</span>
<span class="kn">from</span> <span class="nn">array</span> <span class="kn">import</span> <span class="n">array</span>


<div class="viewcode-block" id="LegacyBase64TestCase"><a class="viewcode-back" href="../../test.html#test.test_base64.LegacyBase64TestCase">[docs]</a><span class="k">class</span> <span class="nc">LegacyBase64TestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="c"># Legacy API is not as permissive as the modern API</span>
<div class="viewcode-block" id="LegacyBase64TestCase.check_type_errors"><a class="viewcode-back" href="../../test.html#test.test_base64.LegacyBase64TestCase.check_type_errors">[docs]</a>    <span class="k">def</span> <span class="nf">check_type_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">multidimensional</span> <span class="o">=</span> <span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;1234&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">multidimensional</span><span class="p">)</span>
        <span class="n">int_data</span> <span class="o">=</span> <span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;1234&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s">&#39;I&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">int_data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="LegacyBase64TestCase.test_encodebytes"><a class="viewcode-back" href="../../test.html#test.test_base64.LegacyBase64TestCase.test_encodebytes">[docs]</a>    <span class="k">def</span> <span class="nf">test_encodebytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;d3d3LnB5dGhvbi5vcmc=</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;YQ==</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;YWI=</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;YWJj</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>
                               <span class="n">b</span><span class="s">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>
                               <span class="n">b</span><span class="s">&quot;0123456789!@#0^&amp;*();:&lt;&gt;,. []{}&quot;</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNE&quot;</span>
           <span class="n">b</span><span class="s">&quot;RUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0</span><span class="se">\n</span><span class="s">NT&quot;</span>
           <span class="n">b</span><span class="s">&quot;Y3ODkhQCMwXiYqKCk7Ojw+LC4gW117fQ==</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">(</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">(</span><span class="n">array</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">encodebytes</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="LegacyBase64TestCase.test_decodebytes"><a class="viewcode-back" href="../../test.html#test.test_base64.LegacyBase64TestCase.test_decodebytes">[docs]</a>    <span class="k">def</span> <span class="nf">test_decodebytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;d3d3LnB5dGhvbi5vcmc=</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;YQ==</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;YWI=</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;YWJj</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNE&quot;</span>
                               <span class="n">b</span><span class="s">&quot;RUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0</span><span class="se">\n</span><span class="s">NT&quot;</span>
                               <span class="n">b</span><span class="s">&quot;Y3ODkhQCMwXiYqKCk7Ojw+LC4gW117fQ==</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>
           <span class="n">b</span><span class="s">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>
           <span class="n">b</span><span class="s">&quot;0123456789!@#0^&amp;*();:&lt;&gt;,. []{}&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">(</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">(</span><span class="n">array</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">decodebytes</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="LegacyBase64TestCase.test_encode"><a class="viewcode-back" href="../../test.html#test.test_base64.LegacyBase64TestCase.test_encode">[docs]</a>    <span class="k">def</span> <span class="nf">test_encode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span><span class="p">,</span> <span class="n">StringIO</span>
        <span class="n">infp</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span>
                       <span class="n">b</span><span class="s">&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;</span>
                       <span class="n">b</span><span class="s">&#39;0123456789!@#0^&amp;*();:&lt;&gt;,. []{}&#39;</span><span class="p">)</span>
        <span class="n">outfp</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
        <span class="n">base64</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">infp</span><span class="p">,</span> <span class="n">outfp</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">outfp</span><span class="o">.</span><span class="n">getvalue</span><span class="p">(),</span>
           <span class="n">b</span><span class="s">&#39;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNE&#39;</span>
           <span class="n">b</span><span class="s">&#39;RUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0</span><span class="se">\n</span><span class="s">NT&#39;</span>
           <span class="n">b</span><span class="s">&#39;Y3ODkhQCMwXiYqKCk7Ojw+LC4gW117fQ==</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="c"># Non-binary files</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">encode</span><span class="p">,</span> <span class="n">StringIO</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">),</span> <span class="n">BytesIO</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">encode</span><span class="p">,</span> <span class="n">BytesIO</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">),</span> <span class="n">StringIO</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">encode</span><span class="p">,</span> <span class="n">StringIO</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">),</span> <span class="n">StringIO</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="LegacyBase64TestCase.test_decode"><a class="viewcode-back" href="../../test.html#test.test_base64.LegacyBase64TestCase.test_decode">[docs]</a>    <span class="k">def</span> <span class="nf">test_decode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span><span class="p">,</span> <span class="n">StringIO</span>
        <span class="n">infp</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;d3d3LnB5dGhvbi5vcmc=&#39;</span><span class="p">)</span>
        <span class="n">outfp</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
        <span class="n">base64</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">infp</span><span class="p">,</span> <span class="n">outfp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">outfp</span><span class="o">.</span><span class="n">getvalue</span><span class="p">(),</span> <span class="n">b</span><span class="s">&#39;www.python.org&#39;</span><span class="p">)</span>
        <span class="c"># Non-binary files</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">encode</span><span class="p">,</span> <span class="n">StringIO</span><span class="p">(</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">),</span> <span class="n">BytesIO</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">encode</span><span class="p">,</span> <span class="n">BytesIO</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">),</span> <span class="n">StringIO</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">encode</span><span class="p">,</span> <span class="n">StringIO</span><span class="p">(</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">),</span> <span class="n">StringIO</span><span class="p">())</span>

</div></div>
<div class="viewcode-block" id="BaseXYTestCase"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase">[docs]</a><span class="k">class</span> <span class="nc">BaseXYTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="c"># Modern API completely ignores exported dimension and format data and</span>
    <span class="c"># treats any buffer as a stream of bytes</span>
<div class="viewcode-block" id="BaseXYTestCase.check_encode_type_errors"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.check_encode_type_errors">[docs]</a>    <span class="k">def</span> <span class="nf">check_encode_type_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="p">[])</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.check_decode_type_errors"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.check_decode_type_errors">[docs]</a>    <span class="k">def</span> <span class="nf">check_decode_type_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="p">[])</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.check_other_types"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.check_other_types">[docs]</a>    <span class="k">def</span> <span class="nf">check_other_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">bytes_data</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">bytes_data</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>
        <span class="c"># The bytearray wasn&#39;t mutated</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">bytes_data</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">memoryview</span><span class="p">(</span><span class="n">bytes_data</span><span class="p">)),</span> <span class="n">expected</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">array</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="n">bytes_data</span><span class="p">)),</span> <span class="n">expected</span><span class="p">)</span>
        <span class="c"># XXX why is b64encode hardcoded here?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_nonbyte_element_format</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">,</span> <span class="n">bytes_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_multidimensional</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">,</span> <span class="n">bytes_data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.check_multidimensional"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.check_multidimensional">[docs]</a>    <span class="k">def</span> <span class="nf">check_multidimensional</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">padding</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;</span><span class="se">\x00</span><span class="s">&quot;</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">b</span><span class="s">&quot;&quot;</span>
        <span class="n">bytes_data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">+</span> <span class="n">padding</span> <span class="c"># Make sure cast works</span>
        <span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bytes_data</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">multidimensional</span> <span class="o">=</span> <span class="n">memoryview</span><span class="p">(</span><span class="n">bytes_data</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">multidimensional</span><span class="p">),</span> <span class="n">f</span><span class="p">(</span><span class="n">bytes_data</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.check_nonbyte_element_format"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.check_nonbyte_element_format">[docs]</a>    <span class="k">def</span> <span class="nf">check_nonbyte_element_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">padding</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;</span><span class="se">\x00</span><span class="s">&quot;</span> <span class="o">*</span> <span class="p">((</span><span class="mi">4</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span> <span class="o">%</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">bytes_data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">+</span> <span class="n">padding</span> <span class="c"># Make sure cast works</span>
        <span class="n">int_data</span> <span class="o">=</span> <span class="n">memoryview</span><span class="p">(</span><span class="n">bytes_data</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="s">&#39;I&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">int_data</span><span class="p">),</span> <span class="n">f</span><span class="p">(</span><span class="n">bytes_data</span><span class="p">))</span>

</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b64encode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b64encode">[docs]</a>    <span class="k">def</span> <span class="nf">test_b64encode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="c"># Test default alphabet</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;d3d3LnB5dGhvbi5vcmc=&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;AA==&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;YQ==&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;YWI=&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;YWJj&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>
                            <span class="n">b</span><span class="s">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>
                            <span class="n">b</span><span class="s">&quot;0123456789!@#0^&amp;*();:&lt;&gt;,. []{}&quot;</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNE&quot;</span>
           <span class="n">b</span><span class="s">&quot;RUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NT&quot;</span>
           <span class="n">b</span><span class="s">&quot;Y3ODkhQCMwXiYqKCk7Ojw+LC4gW117fQ==&quot;</span><span class="p">)</span>
        <span class="c"># Test with arbitrary alternative characters</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xd3</span><span class="s">V</span><span class="se">\xbe</span><span class="s">o</span><span class="se">\xf7\x1d</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">altchars</span><span class="o">=</span><span class="n">b</span><span class="s">&#39;*$&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;01a*b$cd&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xd3</span><span class="s">V</span><span class="se">\xbe</span><span class="s">o</span><span class="se">\xf7\x1d</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">altchars</span><span class="o">=</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;*$&#39;</span><span class="p">)),</span>
           <span class="n">b</span><span class="s">&#39;01a*b$cd&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xd3</span><span class="s">V</span><span class="se">\xbe</span><span class="s">o</span><span class="se">\xf7\x1d</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">altchars</span><span class="o">=</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;*$&#39;</span><span class="p">)),</span>
           <span class="n">b</span><span class="s">&#39;01a*b$cd&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xd3</span><span class="s">V</span><span class="se">\xbe</span><span class="s">o</span><span class="se">\xf7\x1d</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">altchars</span><span class="o">=</span><span class="n">array</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;*$&#39;</span><span class="p">)),</span>
           <span class="n">b</span><span class="s">&#39;01a*b$cd&#39;</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;YWJjZA==&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_encode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">altchars</span><span class="o">=</span><span class="s">&quot;*$&quot;</span><span class="p">)</span>
        <span class="c"># Test standard alphabet</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;d3d3LnB5dGhvbi5vcmc=&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;YQ==&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;YWI=&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;YWJj&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>
                                     <span class="n">b</span><span class="s">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>
                                     <span class="n">b</span><span class="s">&quot;0123456789!@#0^&amp;*();:&lt;&gt;,. []{}&quot;</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNE&quot;</span>
           <span class="n">b</span><span class="s">&quot;RUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NT&quot;</span>
           <span class="n">b</span><span class="s">&quot;Y3ODkhQCMwXiYqKCk7Ojw+LC4gW117fQ==&quot;</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64encode</span><span class="p">,</span>
                               <span class="n">b</span><span class="s">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;YWJjZA==&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_encode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64encode</span><span class="p">)</span>
        <span class="c"># Test with &#39;URL safe&#39; alternative characters</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xd3</span><span class="s">V</span><span class="se">\xbe</span><span class="s">o</span><span class="se">\xf7\x1d</span><span class="s">&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;01a-b_cd&#39;</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64encode</span><span class="p">,</span>
                               <span class="n">b</span><span class="s">&#39;</span><span class="se">\xd3</span><span class="s">V</span><span class="se">\xbe</span><span class="s">o</span><span class="se">\xf7\x1d</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;01a-b_cd&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_encode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64encode</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b64decode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b64decode">[docs]</a>    <span class="k">def</span> <span class="nf">test_b64decode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>

        <span class="n">tests</span> <span class="o">=</span> <span class="p">{</span><span class="n">b</span><span class="s">&quot;d3d3LnB5dGhvbi5vcmc=&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;AA==&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&quot;YQ==&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&quot;YWI=&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&quot;YWJj&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&quot;YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNE&quot;</span>
                 <span class="n">b</span><span class="s">&quot;RUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0</span><span class="se">\n</span><span class="s">NT&quot;</span>
                 <span class="n">b</span><span class="s">&quot;Y3ODkhQCMwXiYqKCk7Ojw+LC4gW117fQ==&quot;</span><span class="p">:</span>

                 <span class="n">b</span><span class="s">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>
                 <span class="n">b</span><span class="s">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>
                 <span class="n">b</span><span class="s">&quot;0123456789!@#0^&amp;*();:&lt;&gt;,. []{}&quot;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                 <span class="p">}</span>
        <span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)),</span> <span class="n">res</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;YWJj&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_decode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">)</span>

        <span class="c"># Test with arbitrary alternative characters</span>
        <span class="n">tests_altchars</span> <span class="o">=</span> <span class="p">{(</span><span class="n">b</span><span class="s">&#39;01a*b$cd&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;*$&#39;</span><span class="p">):</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xd3</span><span class="s">V</span><span class="se">\xbe</span><span class="s">o</span><span class="se">\xf7\x1d</span><span class="s">&#39;</span><span class="p">,</span>
                          <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">altchars</span><span class="p">),</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests_altchars</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">data_str</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span>
            <span class="n">altchars_str</span> <span class="o">=</span> <span class="n">altchars</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span>

            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">altchars</span><span class="o">=</span><span class="n">altchars</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data_str</span><span class="p">,</span> <span class="n">altchars</span><span class="o">=</span><span class="n">altchars</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">altchars</span><span class="o">=</span><span class="n">altchars_str</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">data_str</span><span class="p">,</span> <span class="n">altchars</span><span class="o">=</span><span class="n">altchars_str</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>

        <span class="c"># Test standard alphabet</span>
        <span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64decode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)),</span> <span class="n">res</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;YWJj&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_decode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">standard_b64decode</span><span class="p">)</span>

        <span class="c"># Test with &#39;URL safe&#39; alternative characters</span>
        <span class="n">tests_urlsafe</span> <span class="o">=</span> <span class="p">{</span><span class="n">b</span><span class="s">&#39;01a-b_cd&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xd3</span><span class="s">V</span><span class="se">\xbe</span><span class="s">o</span><span class="se">\xf7\x1d</span><span class="s">&#39;</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                         <span class="p">}</span>
        <span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests_urlsafe</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64decode</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64decode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)),</span> <span class="n">res</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;01a-b_cd&#39;</span><span class="p">,</span>
                               <span class="n">b</span><span class="s">&#39;</span><span class="se">\xd3</span><span class="s">V</span><span class="se">\xbe</span><span class="s">o</span><span class="se">\xf7\x1d</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_decode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64decode</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b64decode_padding_error"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b64decode_padding_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_b64decode_padding_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b64decode_invalid_chars"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b64decode_invalid_chars">[docs]</a>    <span class="k">def</span> <span class="nf">test_b64decode_invalid_chars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># issue 1466065: Test some invalid characters.</span>
        <span class="n">tests</span> <span class="o">=</span> <span class="p">((</span><span class="n">b</span><span class="s">&#39;</span><span class="si">%3d</span><span class="s">==&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xdd</span><span class="s">&#39;</span><span class="p">),</span>
                 <span class="p">(</span><span class="n">b</span><span class="s">&#39;$3d==&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xdd</span><span class="s">&#39;</span><span class="p">),</span>
                 <span class="p">(</span><span class="n">b</span><span class="s">&#39;[==&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">),</span>
                 <span class="p">(</span><span class="n">b</span><span class="s">&#39;YW]3=&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;am&#39;</span><span class="p">),</span>
                 <span class="p">(</span><span class="n">b</span><span class="s">&#39;3{d==&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xdd</span><span class="s">&#39;</span><span class="p">),</span>
                 <span class="p">(</span><span class="n">b</span><span class="s">&#39;3d}==&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xdd</span><span class="s">&#39;</span><span class="p">),</span>
                 <span class="p">(</span><span class="n">b</span><span class="s">&#39;@@&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">),</span>
                 <span class="p">(</span><span class="n">b</span><span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">),</span>
                 <span class="p">(</span><span class="n">b</span><span class="s">&#39;YWJj</span><span class="se">\n</span><span class="s">YWI=&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abcab&#39;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">bstr</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">bstr</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">bstr</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)),</span> <span class="n">res</span><span class="p">)</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">):</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">bstr</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">):</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">bstr</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">validate</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b32encode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b32encode">[docs]</a>    <span class="k">def</span> <span class="nf">test_b32encode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;AA======&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;ME======&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ab&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;MFRA====&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;MFRGG===&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abcd&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;MFRGGZA=&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abcde&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;MFRGGZDF&#39;</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abcd&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;MFRGGZA=&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_encode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32encode</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b32decode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b32decode">[docs]</a>    <span class="k">def</span> <span class="nf">test_b32decode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">tests</span> <span class="o">=</span> <span class="p">{</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;AA======&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;ME======&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;MFRA====&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;ab&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;MFRGG===&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;MFRGGZA=&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;abcd&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;MFRGGZDF&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;abcde&#39;</span><span class="p">,</span>
                 <span class="p">}</span>
        <span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)),</span> <span class="n">res</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;MFRGG===&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_decode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b32decode_casefold"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b32decode_casefold">[docs]</a>    <span class="k">def</span> <span class="nf">test_b32decode_casefold</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">tests</span> <span class="o">=</span> <span class="p">{</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;ME======&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;MFRA====&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;ab&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;MFRGG===&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;MFRGGZA=&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;abcd&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;MFRGGZDF&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;abcde&#39;</span><span class="p">,</span>
                 <span class="c"># Lower cases</span>
                 <span class="n">b</span><span class="s">&#39;me======&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;mfra====&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;ab&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;mfrgg===&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;mfrggza=&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;abcd&#39;</span><span class="p">,</span>
                 <span class="n">b</span><span class="s">&#39;mfrggzdf&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;abcde&#39;</span><span class="p">,</span>
                 <span class="p">}</span>

        <span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">),</span> <span class="bp">True</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;me======&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">,</span> <span class="s">&#39;me======&#39;</span><span class="p">)</span>

        <span class="c"># Mapping zero and one</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MLO23456&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;b</span><span class="se">\xdd\xad\xf3\xbe</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="s">&#39;MLO23456&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;b</span><span class="se">\xdd\xad\xf3\xbe</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="n">map_tests</span> <span class="o">=</span> <span class="p">{(</span><span class="n">b</span><span class="s">&#39;M1023456&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;L&#39;</span><span class="p">):</span> <span class="n">b</span><span class="s">&#39;b</span><span class="se">\xdd\xad\xf3\xbe</span><span class="s">&#39;</span><span class="p">,</span>
                     <span class="p">(</span><span class="n">b</span><span class="s">&#39;M1023456&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;I&#39;</span><span class="p">):</span> <span class="n">b</span><span class="s">&#39;b</span><span class="se">\x1d\xad\xf3\xbe</span><span class="s">&#39;</span><span class="p">,</span>
                     <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">map01</span><span class="p">),</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">map_tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">data_str</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span>
            <span class="n">map01_str</span> <span class="o">=</span> <span class="n">map01</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span>

            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">map01</span><span class="o">=</span><span class="n">map01</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data_str</span><span class="p">,</span> <span class="n">map01</span><span class="o">=</span><span class="n">map01</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">map01</span><span class="o">=</span><span class="n">map01_str</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data_str</span><span class="p">,</span> <span class="n">map01</span><span class="o">=</span><span class="n">map01_str</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">,</span> <span class="n">data_str</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b32decode_error"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b32decode_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_b32decode_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ABCDEF==&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;==ABCDEF&#39;</span><span class="p">]:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">):</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">):</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b16encode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b16encode">[docs]</a>    <span class="k">def</span> <span class="nf">test_b16encode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;0102ABCDEF&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;00&#39;</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16encode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">,</span>
                               <span class="n">b</span><span class="s">&#39;0102ABCDEF&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_encode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16encode</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b16decode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b16decode">[docs]</a>    <span class="k">def</span> <span class="nf">test_b16decode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;0102ABCDEF&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">(</span><span class="s">&#39;0102ABCDEF&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;00&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">(</span><span class="s">&#39;00&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="c"># Lower case is not allowed without a flag</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;0102abcdef&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">,</span> <span class="s">&#39;0102abcdef&#39;</span><span class="p">)</span>
        <span class="c"># Case fold</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;0102abcdef&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">(</span><span class="s">&#39;0102abcdef&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="c"># Non-bytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;0102ABCDEF&quot;</span><span class="p">,</span>
                               <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_decode_type_errors</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;0102abcdef&quot;</span><span class="p">),</span> <span class="bp">True</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">(</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;0102abcdef&quot;</span><span class="p">),</span> <span class="bp">True</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">(</span><span class="n">array</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;0102abcdef&quot;</span><span class="p">),</span> <span class="bp">True</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&#39;</span><span class="se">\x01\x02\xab\xcd\xef</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_a85encode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_a85encode">[docs]</a>    <span class="k">def</span> <span class="nf">test_a85encode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>

        <span class="n">tests</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;GB</span><span class="se">\\</span><span class="s">6`E-ZP=Df.1GEb&gt;&#39;</span><span class="p">,</span>
            <span class="nb">bytes</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">255</span><span class="p">)):</span> <span class="n">b</span><span class="s">&quot;&quot;&quot;!!*-&#39;&quot;9eu7#RLhG$k3[W&amp;.oNg&#39;GVB&quot;(`=52*$$&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;(B+&lt;_pR,UFcb-n-Vr/1iJ-0JP==1c70M3&amp;s#]4?Ykm5X@_(6q&#39;R884cE&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;H9MJ8X:f1+h&lt;)lt#=BSg3&gt;[:ZC?t!MSA7]@cBPD3sCi+&#39;.E,fo&gt;FEMbN&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;G^4U^I!pHnJ:W&lt;)KS&gt;/9Ll%&quot;IN/`jYOHG]iPa.Q$R$jD4S=Q7DTV8*TU&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;nsrdW2ZetXKAY/Yd(L?[&#39;d?O</span><span class="se">\\</span><span class="s">@K2_]Y2</span><span class="si">%o</span><span class="s">^qmn*`5Ta:aN;TJbg&quot;GZd&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;*^:jeCE.</span><span class="si">%f</span><span class="se">\\</span><span class="s">,!5gtgiEi8N</span><span class="se">\\</span><span class="s">UjQ5OekiqBum-X60nF?)@o_%qPq&quot;ad`&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;r;HT&quot;&quot;&quot;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>
                <span class="n">b</span><span class="s">&quot;0123456789!@#0^&amp;*();:&lt;&gt;,. []{}&quot;</span><span class="p">:</span>
                <span class="n">b</span><span class="s">&#39;@:E_WAS,RgBkhF&quot;D/O92EH6,BF`qtRH$VbC6UX@47n?3D92&amp;&amp;T&#39;</span>
                <span class="n">b</span><span class="s">&quot;:Jand;cHat=&#39;/U/0JP==1c70M3&amp;r-I,;&lt;FN.OZ`-3]oSW/g+A(H[P&quot;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;no padding..&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;DJpY:@:Wn_DJ(RS&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;zero compression</span><span class="se">\0\0\0\0</span><span class="s">&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;H=_,8+Cf&gt;,E,oN2F(oQ1z&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;zero compression</span><span class="se">\0\0\0</span><span class="s">&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;H=_,8+Cf&gt;,E,oN2F(oQ1!!!!&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;Boundary:</span><span class="se">\0\0\0\0</span><span class="s">&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;6&gt;q!aA79M(3WK-[!!&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;Space compr:    &quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;;fH/TAKYK$D/aMV+&lt;VdL&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;rr&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">2</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;s8N&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">3</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;s8W*&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">4</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;s8W-!&#39;</span><span class="p">,</span>
            <span class="p">}</span>

        <span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">res</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">res</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;&lt;~&#39;</span> <span class="o">+</span> <span class="n">res</span> <span class="o">+</span> <span class="n">b</span><span class="s">&#39;~&gt;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span>
                               <span class="n">b</span><span class="s">&#39;GB</span><span class="se">\\</span><span class="s">6`E-ZP=Df.1GEb&gt;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>

        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span> <span class="n">wrapcol</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&#39;GB</span><span class="se">\\</span><span class="s">6`E-</span><span class="se">\n</span><span class="s">ZP=Df.1</span><span class="se">\n</span><span class="s">GEb&gt;&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;</span><span class="se">\0\0\0\0</span><span class="s">www.python.org&quot;</span><span class="p">,</span> <span class="n">wrapcol</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&#39;zGB</span><span class="se">\\</span><span class="s">6`E</span><span class="se">\n</span><span class="s">-ZP=Df.</span><span class="se">\n</span><span class="s">1GEb&gt;&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span> <span class="n">wrapcol</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
           <span class="n">b</span><span class="s">&#39;&lt;~GB</span><span class="se">\\</span><span class="s">6`</span><span class="se">\n</span><span class="s">E-ZP=Df</span><span class="se">\n</span><span class="s">.1GEb&gt;</span><span class="se">\n</span><span class="s">~&gt;&#39;</span><span class="p">)</span>

        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39; &#39;</span><span class="o">*</span><span class="mi">8</span><span class="p">,</span> <span class="n">foldspaces</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;yy&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39; &#39;</span><span class="o">*</span><span class="mi">7</span><span class="p">,</span> <span class="n">foldspaces</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;y+&lt;Vd&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39; &#39;</span><span class="o">*</span><span class="mi">6</span><span class="p">,</span> <span class="n">foldspaces</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;y+&lt;U&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39; &#39;</span><span class="o">*</span><span class="mi">5</span><span class="p">,</span> <span class="n">foldspaces</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;y+9&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b85encode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b85encode">[docs]</a>    <span class="k">def</span> <span class="nf">test_b85encode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>

        <span class="n">tests</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;www.python.org&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;cXxL#aCvlSZ*DGca%T&#39;</span><span class="p">,</span>
            <span class="nb">bytes</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">255</span><span class="p">)):</span> <span class="n">b</span><span class="s">&quot;&quot;&quot;009C61O)~M2nh-c3=Iws5D^j+6crX17#SKH9337X&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;AR!_nBqb&amp;%C@Cr{EG;fCFflSSG&amp;MFiI5|2yJUu=?KtV!7L`6nNNJ&amp;ad&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;OifNtP*GA-R8&gt;}2SXo+ITwPvYU}0ioWMyV&amp;XlZI|Y;A6DaB*^Tbai%j&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;czJqze0_d@fPsR8goTEOh&gt;41ejE#&lt;ukdcy;l$Dm3n3&lt;ZJoSmMZprN9p&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;q@|{(sHv)}tgWuEu(7hUw6(UkxVgH!yuH4^z`?@9#Kp$P$jQpf</span><span class="si">%+1c</span><span class="s">v&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;(9zP&lt;)YaD4*xB0K+}+;a;Njxq&lt;mKk)=;`X~?CtLF@bU8V^!4`l`1$(#&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;{Qdp&quot;&quot;&quot;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;&quot;&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;0123456789!@#0^&amp;*();:&lt;&gt;,. []{}&quot;&quot;&quot;</span><span class="p">:</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;VPa!sWoBn+X=-b1ZEkOHadLBXb#`}nd3r%YLqtVJM@UIZOH55pPf$@(&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;Q&amp;d$}S6EqEFflSSG&amp;MFiI5{CeBQRbjDkv#CIy^osE+AW7dwl&quot;&quot;&quot;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;no padding..&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;Zf_uPVPs@!Zf7no&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;zero compression</span><span class="se">\x00\x00\x00\x00</span><span class="s">&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;dS!BNAY*TBaB^jHb7^mG00000&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;zero compression</span><span class="se">\x00\x00\x00</span><span class="s">&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;dS!BNAY*TBaB^jHb7^mG0000&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;&quot;&quot;Boundary:</span><span class="se">\x00\x00\x00\x00</span><span class="s">&quot;&quot;&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&quot;&quot;&quot;LT`0$WMOi7IsgCw00&quot;&quot;&quot;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;Space compr:    &#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;Q*dEpWgug3ZE$irARr(h&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;{{&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">2</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;|Nj&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">3</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;|Ns9&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">4</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;|NsC0&#39;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85encode</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85encode</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span>
                               <span class="n">b</span><span class="s">&#39;cXxL#aCvlSZ*DGca%T&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_a85decode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_a85decode">[docs]</a>    <span class="k">def</span> <span class="nf">test_a85decode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>

        <span class="n">tests</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;GB</span><span class="se">\\</span><span class="s">6`E-ZP=Df.1GEb&gt;&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;&quot;&quot;! ! * -&#39;&quot;</span><span class="se">\n\t\t</span><span class="s">9eu</span><span class="se">\r\n</span><span class="s">7#  RL</span><span class="se">\v</span><span class="s">hG$k3[W&amp;.oNg&#39;GVB&quot;(`=52*$$&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;(B+&lt;_pR,UFcb-n-Vr/1iJ-0JP==1c70M3&amp;s#]4?Ykm5X@_(6q&#39;R884cE&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;H9MJ8X:f1+h&lt;)lt#=BSg3&gt;[:ZC?t!MSA7]@cBPD3sCi+&#39;.E,fo&gt;FEMbN&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;G^4U^I!pHnJ:W&lt;)KS&gt;/9Ll%&quot;IN/`jYOHG]iPa.Q$R$jD4S=Q7DTV8*TU&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;nsrdW2ZetXKAY/Yd(L?[&#39;d?O</span><span class="se">\\</span><span class="s">@K2_]Y2</span><span class="si">%o</span><span class="s">^qmn*`5Ta:aN;TJbg&quot;GZd&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;*^:jeCE.</span><span class="si">%f</span><span class="se">\\</span><span class="s">,!5gtgiEi8N</span><span class="se">\\</span><span class="s">UjQ5OekiqBum-X60nF?)@o_%qPq&quot;ad`&quot;&quot;&quot;</span>
               <span class="n">b</span><span class="s">&quot;&quot;&quot;r;HT&quot;&quot;&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">255</span><span class="p">)),</span>
            <span class="n">b</span><span class="s">&quot;&quot;&quot;@:E_WAS,RgBkhF&quot;D/O92EH6,BF`qtRH$VbC6UX@47n?3D92&amp;&amp;T:Jand;c&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;Hat=&#39;/U/0JP==1c70M3&amp;r-I,;&lt;FN.OZ`-3]oSW/g+A(H[P&quot;&quot;&quot;</span><span class="p">:</span>
                <span class="n">b</span><span class="s">&#39;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234&#39;</span>
                <span class="n">b</span><span class="s">&#39;56789!@#0^&amp;*();:&lt;&gt;,. []{}&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;DJpY:@:Wn_DJ(RS&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;no padding..&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;H=_,8+Cf&gt;,E,oN2F(oQ1z&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;zero compression</span><span class="se">\x00\x00\x00\x00</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;H=_,8+Cf&gt;,E,oN2F(oQ1!!!!&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;zero compression</span><span class="se">\x00\x00\x00</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;6&gt;q!aA79M(3WK-[!!&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&quot;Boundary:</span><span class="se">\x00\x00\x00\x00</span><span class="s">&quot;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;;fH/TAKYK$D/aMV+&lt;VdL&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;Space compr:    &#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;rr&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;s8N&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;s8W*&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">3</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;s8W-!&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">4</span><span class="p">,</span>
            <span class="p">}</span>

        <span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">res</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">res</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&quot;ascii&quot;</span><span class="p">),</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">res</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&lt;~&#39;</span> <span class="o">+</span> <span class="n">data</span> <span class="o">+</span> <span class="n">b</span><span class="s">&#39;~&gt;&#39;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">res</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="s">&#39;&lt;~</span><span class="si">%s</span><span class="s">~&gt;&#39;</span> <span class="o">%</span> <span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&quot;ascii&quot;</span><span class="p">),</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
               <span class="n">res</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;yy&#39;</span><span class="p">,</span> <span class="n">foldspaces</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39; &#39;</span><span class="o">*</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;y+&lt;Vd&#39;</span><span class="p">,</span> <span class="n">foldspaces</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39; &#39;</span><span class="o">*</span><span class="mi">7</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;y+&lt;U&#39;</span><span class="p">,</span> <span class="n">foldspaces</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39; &#39;</span><span class="o">*</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;y+9&#39;</span><span class="p">,</span> <span class="n">foldspaces</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39; &#39;</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;GB</span><span class="se">\\</span><span class="s">6`E-ZP=Df.1GEb&gt;&#39;</span><span class="p">,</span>
                               <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b85decode"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b85decode">[docs]</a>    <span class="k">def</span> <span class="nf">test_b85decode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>

        <span class="n">tests</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;cXxL#aCvlSZ*DGca%T&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;&quot;&quot;009C61O)~M2nh-c3=Iws5D^j+6crX17#SKH9337X&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;AR!_nBqb&amp;%C@Cr{EG;fCFflSSG&amp;MFiI5|2yJUu=?KtV!7L`6nNNJ&amp;ad&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;OifNtP*GA-R8&gt;}2SXo+ITwPvYU}0ioWMyV&amp;XlZI|Y;A6DaB*^Tbai%j&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;czJqze0_d@fPsR8goTEOh&gt;41ejE#&lt;ukdcy;l$Dm3n3&lt;ZJoSmMZprN9p&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;q@|{(sHv)}tgWuEu(7hUw6(UkxVgH!yuH4^z`?@9#Kp$P$jQpf</span><span class="si">%+1c</span><span class="s">v&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;(9zP&lt;)YaD4*xB0K+}+;a;Njxq&lt;mKk)=;`X~?CtLF@bU8V^!4`l`1$(#&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;{Qdp&quot;&quot;&quot;</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">255</span><span class="p">)),</span>
            <span class="n">b</span><span class="s">&quot;&quot;&quot;VPa!sWoBn+X=-b1ZEkOHadLBXb#`}nd3r%YLqtVJM@UIZOH55pPf$@(&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;Q&amp;d$}S6EqEFflSSG&amp;MFiI5{CeBQRbjDkv#CIy^osE+AW7dwl&quot;&quot;&quot;</span><span class="p">:</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;&quot;&quot;</span>
                <span class="n">b</span><span class="s">&quot;&quot;&quot;0123456789!@#0^&amp;*();:&lt;&gt;,. []{}&quot;&quot;&quot;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;Zf_uPVPs@!Zf7no&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;no padding..&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;dS!BNAY*TBaB^jHb7^mG00000&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;zero compression</span><span class="se">\x00\x00\x00\x00</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;dS!BNAY*TBaB^jHb7^mG0000&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;zero compression</span><span class="se">\x00\x00\x00</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;&quot;&quot;LT`0$WMOi7IsgCw00&quot;&quot;&quot;</span><span class="p">:</span> <span class="n">b</span><span class="s">&quot;&quot;&quot;Boundary:</span><span class="se">\x00\x00\x00\x00</span><span class="s">&quot;&quot;&quot;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;Q*dEpWgug3ZE$irARr(h&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;Space compr:    &#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;{{&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;|Nj&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;|Ns9&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">3</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;|NsC0&#39;</span><span class="p">:</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="o">*</span><span class="mi">4</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">data</span><span class="p">,</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">tests</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">res</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&quot;ascii&quot;</span><span class="p">)),</span> <span class="n">res</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_other_types</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;cXxL#aCvlSZ*DGca%T&#39;</span><span class="p">,</span>
                               <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_a85_padding"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_a85_padding">[docs]</a>    <span class="k">def</span> <span class="nf">test_a85_padding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>

        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;GQ7^D&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;xx&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;G^&#39;2g&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;xxx&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;G^+H5&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;xxxx&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;G^+IX&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;xxxxx&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;G^+IXGQ7^D&#39;</span><span class="p">)</span>

        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;GQ7^D&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;x</span><span class="se">\x00\x00\x00</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;G^&#39;2g&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;xx</span><span class="se">\x00\x00</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;G^+H5&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;xxx</span><span class="se">\x00</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;G^+IX&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;xxxx&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;G^+IXGQ7^D&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;xxxxx</span><span class="se">\x00\x00\x00</span><span class="s">&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b85_padding"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b85_padding">[docs]</a>    <span class="k">def</span> <span class="nf">test_b85_padding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>

        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;cmMzZ&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;xx&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;cz6H+&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;xxx&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;czAdK&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;xxxx&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;czAet&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85encode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;xxxxx&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;czAetcmMzZ&#39;</span><span class="p">)</span>

        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;cmMzZ&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;x</span><span class="se">\x00\x00\x00</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;cz6H+&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;xx</span><span class="se">\x00\x00</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;czAdK&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;xxx</span><span class="se">\x00</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;czAet&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;xxxx&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;czAetcmMzZ&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;xxxxx</span><span class="se">\x00\x00\x00</span><span class="s">&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_a85decode_errors"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_a85decode_errors">[docs]</a>    <span class="k">def</span> <span class="nf">test_a85decode_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">illegal</span> <span class="o">=</span> <span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">32</span><span class="p">))</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">118</span><span class="p">,</span> <span class="mi">256</span><span class="p">)))</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="s">&#39; </span><span class="se">\t\n\r\v</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">illegal</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="nb">bytes</span><span class="p">([</span><span class="n">c</span><span class="p">])):</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;!!!!&#39;</span> <span class="o">+</span> <span class="nb">bytes</span><span class="p">([</span><span class="n">c</span><span class="p">]))</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="nb">bytes</span><span class="p">([</span><span class="n">c</span><span class="p">])):</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;!!!!&#39;</span> <span class="o">+</span> <span class="nb">bytes</span><span class="p">([</span><span class="n">c</span><span class="p">]),</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="nb">bytes</span><span class="p">([</span><span class="n">c</span><span class="p">])):</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&lt;~!!!!&#39;</span> <span class="o">+</span> <span class="nb">bytes</span><span class="p">([</span><span class="n">c</span><span class="p">])</span> <span class="o">+</span> <span class="n">b</span><span class="s">&#39;~&gt;&#39;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span>
                                      <span class="n">b</span><span class="s">&quot;malformed&quot;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span>
                                      <span class="n">b</span><span class="s">&quot;&lt;~still malformed&quot;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span>
                                      <span class="n">b</span><span class="s">&quot;also malformed~&gt;&quot;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

        <span class="c"># With adobe=False (the default), Adobe framing markers are disallowed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span>
                                      <span class="n">b</span><span class="s">&quot;&lt;~~&gt;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span>
                                      <span class="n">b</span><span class="s">&quot;&lt;~~&gt;&quot;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&lt;~~&gt;&quot;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>  <span class="c"># sanity check</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span>
                                      <span class="n">b</span><span class="s">&quot;abcx&quot;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span>
                                      <span class="n">b</span><span class="s">&quot;abcdey&quot;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span>
                                      <span class="n">b</span><span class="s">&quot;a b</span><span class="se">\n</span><span class="s">c&quot;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">ignorechars</span><span class="o">=</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;s8&#39;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;s8W&#39;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;s8W-&#39;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;s8W-&quot;&#39;</span><span class="p">,</span> <span class="n">adobe</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_b85decode_errors"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_b85decode_errors">[docs]</a>    <span class="k">def</span> <span class="nf">test_b85decode_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">illegal</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">33</span><span class="p">))</span> <span class="o">+</span> \
                  <span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&quot;</span><span class="se">\&#39;</span><span class="s">,./:[</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">)</span> <span class="o">+</span> \
                  <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">256</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">illegal</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="nb">bytes</span><span class="p">([</span><span class="n">c</span><span class="p">])):</span>
                <span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;0000&#39;</span> <span class="o">+</span> <span class="nb">bytes</span><span class="p">([</span><span class="n">c</span><span class="p">]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;|N&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;|Ns&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;|NsC&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;|NsC1&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_decode_nonascii_str"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_decode_nonascii_str">[docs]</a>    <span class="k">def</span> <span class="nf">test_decode_nonascii_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">decode_funcs</span> <span class="o">=</span> <span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">,</span>
                        <span class="n">base64</span><span class="o">.</span><span class="n">standard_b64decode</span><span class="p">,</span>
                        <span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64decode</span><span class="p">,</span>
                        <span class="n">base64</span><span class="o">.</span><span class="n">b32decode</span><span class="p">,</span>
                        <span class="n">base64</span><span class="o">.</span><span class="n">b16decode</span><span class="p">,</span>
                        <span class="n">base64</span><span class="o">.</span><span class="n">b85decode</span><span class="p">,</span>
                        <span class="n">base64</span><span class="o">.</span><span class="n">a85decode</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">decode_funcs</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="s">&#39;with non-ascii </span><span class="se">\xcb</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseXYTestCase.test_ErrorHeritage"><a class="viewcode-back" href="../../test.html#test.test_base64.BaseXYTestCase.test_ErrorHeritage">[docs]</a>    <span class="k">def</span> <span class="nf">test_ErrorHeritage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">))</span>


</div></div>
<div class="viewcode-block" id="TestMain"><a class="viewcode-back" href="../../test.html#test.test_base64.TestMain">[docs]</a><span class="k">class</span> <span class="nc">TestMain</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="TestMain.tearDown"><a class="viewcode-back" href="../../test.html#test.test_base64.TestMain.tearDown">[docs]</a>    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMain.get_output"><a class="viewcode-back" href="../../test.html#test.test_base64.TestMain.get_output">[docs]</a>    <span class="k">def</span> <span class="nf">get_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">,</span> <span class="s">&#39;-m&#39;</span><span class="p">,</span> <span class="s">&#39;base64&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">args</span>
        <span class="k">return</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMain.test_encode_decode"><a class="viewcode-back" href="../../test.html#test.test_base64.TestMain.test_encode_decode">[docs]</a>    <span class="k">def</span> <span class="nf">test_encode_decode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output</span><span class="p">(</span><span class="s">&#39;-t&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertSequenceEqual</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">splitlines</span><span class="p">(),</span> <span class="p">(</span>
            <span class="n">b</span><span class="s">&quot;b&#39;Aladdin:open sesame&#39;&quot;</span><span class="p">,</span>
            <span class="n">br</span><span class="s">&quot;b&#39;QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span><span class="se">\n</span><span class="s">&#39;&quot;</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&quot;b&#39;Aladdin:open sesame&#39;&quot;</span><span class="p">,</span>
        <span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMain.test_encode_file"><a class="viewcode-back" href="../../test.html#test.test_base64.TestMain.test_encode_file">[docs]</a>    <span class="k">def</span> <span class="nf">test_encode_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a</span><span class="se">\xff</span><span class="s">b</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output</span><span class="p">(</span><span class="s">&#39;-e&#39;</span><span class="p">,</span> <span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(),</span> <span class="n">b</span><span class="s">&#39;Yf9iCg==&#39;</span><span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">,</span> <span class="s">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output</span><span class="p">(</span><span class="s">&#39;-e&#39;</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="n">fp</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(),</span> <span class="n">b</span><span class="s">&#39;Yf9iCg==&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMain.test_decode"><a class="viewcode-back" href="../../test.html#test.test_base64.TestMain.test_decode">[docs]</a>    <span class="k">def</span> <span class="nf">test_decode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;Yf9iCg==&#39;</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output</span><span class="p">(</span><span class="s">&#39;-d&#39;</span><span class="p">,</span> <span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(),</span> <span class="n">b</span><span class="s">&#39;a</span><span class="se">\xff</span><span class="s">b&#39;</span><span class="p">)</span>


</div></div>
<div class="viewcode-block" id="test_main"><a class="viewcode-back" href="../../test.html#test.test_base64.test_main">[docs]</a><span class="k">def</span> <span class="nf">test_main</span><span class="p">():</span>
    <span class="n">support</span><span class="o">.</span><span class="n">run_unittest</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
</div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">test_main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>