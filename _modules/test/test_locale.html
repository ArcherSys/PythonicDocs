

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_locale &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_locale</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_locale</h1><div class="highlight"><pre>
<span class="kn">from</span> <span class="nn">test.support</span> <span class="kn">import</span> <span class="n">verbose</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">locale</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">codecs</span>

<div class="viewcode-block" id="BaseLocalizedTest"><a class="viewcode-back" href="../../test.html#test.test_locale.BaseLocalizedTest">[docs]</a><span class="k">class</span> <span class="nc">BaseLocalizedTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c">#</span>
    <span class="c"># Base class for tests using a real locale</span>
    <span class="c">#</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="BaseLocalizedTest.setUpClass"><a class="viewcode-back" href="../../test.html#test.test_locale.BaseLocalizedTest.setUpClass">[docs]</a>    <span class="k">def</span> <span class="nf">setUpClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s">&#39;darwin&#39;</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">os</span>
            <span class="n">tlocs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;en_US.UTF-8&quot;</span><span class="p">,</span> <span class="s">&quot;en_US.ISO8859-1&quot;</span><span class="p">,</span> <span class="s">&quot;en_US&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">uname</span><span class="p">()</span><span class="o">.</span><span class="n">release</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
                <span class="c"># The locale test work fine on OSX 10.6, I (ronaldoussoren)</span>
                <span class="c"># haven&#39;t had time yet to verify if tests work on OSX 10.5</span>
                <span class="c"># (10.4 is known to be bad)</span>
                <span class="k">raise</span> <span class="n">unittest</span><span class="o">.</span><span class="n">SkipTest</span><span class="p">(</span><span class="s">&quot;Locale support on MacOSX is minimal&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&quot;win&quot;</span><span class="p">):</span>
            <span class="n">tlocs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;En&quot;</span><span class="p">,</span> <span class="s">&quot;English&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tlocs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;en_US.UTF-8&quot;</span><span class="p">,</span> <span class="s">&quot;en_US.ISO8859-1&quot;</span><span class="p">,</span>
                     <span class="s">&quot;en_US.US-ASCII&quot;</span><span class="p">,</span> <span class="s">&quot;en_US&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">oldlocale</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_NUMERIC</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">tloc</span> <span class="ow">in</span> <span class="n">tlocs</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_NUMERIC</span><span class="p">,</span> <span class="n">tloc</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">locale</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">unittest</span><span class="o">.</span><span class="n">SkipTest</span><span class="p">(</span><span class="s">&quot;Test locale not supported &quot;</span>
                                        <span class="s">&quot;(tried </span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tlocs</span><span class="p">)))</span>
            <span class="n">cls</span><span class="o">.</span><span class="n">enUS_locale</span> <span class="o">=</span> <span class="n">tloc</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_NUMERIC</span><span class="p">,</span> <span class="n">oldlocale</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseLocalizedTest.setUp"><a class="viewcode-back" href="../../test.html#test.test_locale.BaseLocalizedTest.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">oldlocale</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locale_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCleanup</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">locale_type</span><span class="p">,</span> <span class="n">oldlocale</span><span class="p">)</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">locale_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">enUS_locale</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&quot;testing with </span><span class="si">%r</span><span class="s">...&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">enUS_locale</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="BaseCookedTest"><a class="viewcode-back" href="../../test.html#test.test_locale.BaseCookedTest">[docs]</a><span class="k">class</span> <span class="nc">BaseCookedTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c">#</span>
    <span class="c"># Base class for tests using cooked localeconv() values</span>
    <span class="c">#</span>

<div class="viewcode-block" id="BaseCookedTest.setUp"><a class="viewcode-back" href="../../test.html#test.test_locale.BaseCookedTest.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">_override_localeconv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cooked_values</span>
</div>
<div class="viewcode-block" id="BaseCookedTest.tearDown"><a class="viewcode-back" href="../../test.html#test.test_locale.BaseCookedTest.tearDown">[docs]</a>    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">_override_localeconv</span> <span class="o">=</span> <span class="p">{}</span>
</div></div>
<div class="viewcode-block" id="CCookedTest"><a class="viewcode-back" href="../../test.html#test.test_locale.CCookedTest">[docs]</a><span class="k">class</span> <span class="nc">CCookedTest</span><span class="p">(</span><span class="n">BaseCookedTest</span><span class="p">):</span>
    <span class="c"># A cooked &quot;C&quot; locale</span>

    <span class="n">cooked_values</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;currency_symbol&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
        <span class="s">&#39;decimal_point&#39;</span><span class="p">:</span> <span class="s">&#39;.&#39;</span><span class="p">,</span>
        <span class="s">&#39;frac_digits&#39;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
        <span class="s">&#39;grouping&#39;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s">&#39;int_curr_symbol&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
        <span class="s">&#39;int_frac_digits&#39;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
        <span class="s">&#39;mon_decimal_point&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
        <span class="s">&#39;mon_grouping&#39;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s">&#39;mon_thousands_sep&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
        <span class="s">&#39;n_cs_precedes&#39;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
        <span class="s">&#39;n_sep_by_space&#39;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
        <span class="s">&#39;n_sign_posn&#39;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
        <span class="s">&#39;negative_sign&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
        <span class="s">&#39;p_cs_precedes&#39;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
        <span class="s">&#39;p_sep_by_space&#39;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
        <span class="s">&#39;p_sign_posn&#39;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
        <span class="s">&#39;positive_sign&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
        <span class="s">&#39;thousands_sep&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span>
    <span class="p">}</span>
</div>
<div class="viewcode-block" id="EnUSCookedTest"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSCookedTest">[docs]</a><span class="k">class</span> <span class="nc">EnUSCookedTest</span><span class="p">(</span><span class="n">BaseCookedTest</span><span class="p">):</span>
    <span class="c"># A cooked &quot;en_US&quot; locale</span>

    <span class="n">cooked_values</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;currency_symbol&#39;</span><span class="p">:</span> <span class="s">&#39;$&#39;</span><span class="p">,</span>
        <span class="s">&#39;decimal_point&#39;</span><span class="p">:</span> <span class="s">&#39;.&#39;</span><span class="p">,</span>
        <span class="s">&#39;frac_digits&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s">&#39;grouping&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="s">&#39;int_curr_symbol&#39;</span><span class="p">:</span> <span class="s">&#39;USD &#39;</span><span class="p">,</span>
        <span class="s">&#39;int_frac_digits&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s">&#39;mon_decimal_point&#39;</span><span class="p">:</span> <span class="s">&#39;.&#39;</span><span class="p">,</span>
        <span class="s">&#39;mon_grouping&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="s">&#39;mon_thousands_sep&#39;</span><span class="p">:</span> <span class="s">&#39;,&#39;</span><span class="p">,</span>
        <span class="s">&#39;n_cs_precedes&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&#39;n_sep_by_space&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s">&#39;n_sign_posn&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&#39;negative_sign&#39;</span><span class="p">:</span> <span class="s">&#39;-&#39;</span><span class="p">,</span>
        <span class="s">&#39;p_cs_precedes&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&#39;p_sep_by_space&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s">&#39;p_sign_posn&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&#39;positive_sign&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
        <span class="s">&#39;thousands_sep&#39;</span><span class="p">:</span> <span class="s">&#39;,&#39;</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="FrFRCookedTest"><a class="viewcode-back" href="../../test.html#test.test_locale.FrFRCookedTest">[docs]</a><span class="k">class</span> <span class="nc">FrFRCookedTest</span><span class="p">(</span><span class="n">BaseCookedTest</span><span class="p">):</span>
    <span class="c"># A cooked &quot;fr_FR&quot; locale with a space character as decimal separator</span>
    <span class="c"># and a non-ASCII currency symbol.</span>

    <span class="n">cooked_values</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;currency_symbol&#39;</span><span class="p">:</span> <span class="s">&#39;</span><span class="se">\u20ac</span><span class="s">&#39;</span><span class="p">,</span>
        <span class="s">&#39;decimal_point&#39;</span><span class="p">:</span> <span class="s">&#39;,&#39;</span><span class="p">,</span>
        <span class="s">&#39;frac_digits&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s">&#39;grouping&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="s">&#39;int_curr_symbol&#39;</span><span class="p">:</span> <span class="s">&#39;EUR &#39;</span><span class="p">,</span>
        <span class="s">&#39;int_frac_digits&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s">&#39;mon_decimal_point&#39;</span><span class="p">:</span> <span class="s">&#39;,&#39;</span><span class="p">,</span>
        <span class="s">&#39;mon_grouping&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="s">&#39;mon_thousands_sep&#39;</span><span class="p">:</span> <span class="s">&#39; &#39;</span><span class="p">,</span>
        <span class="s">&#39;n_cs_precedes&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s">&#39;n_sep_by_space&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&#39;n_sign_posn&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&#39;negative_sign&#39;</span><span class="p">:</span> <span class="s">&#39;-&#39;</span><span class="p">,</span>
        <span class="s">&#39;p_cs_precedes&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s">&#39;p_sep_by_space&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&#39;p_sign_posn&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">&#39;positive_sign&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
        <span class="s">&#39;thousands_sep&#39;</span><span class="p">:</span> <span class="s">&#39; &#39;</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="BaseFormattingTest"><a class="viewcode-back" href="../../test.html#test.test_locale.BaseFormattingTest">[docs]</a><span class="k">class</span> <span class="nc">BaseFormattingTest</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c">#</span>
    <span class="c"># Utility functions for formatting tests</span>
    <span class="c">#</span>

    <span class="k">def</span> <span class="nf">_test_formatfunc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">**</span><span class="n">format_opts</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">func</span><span class="p">(</span><span class="n">format</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">format_opts</span><span class="p">),</span> <span class="n">out</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_test_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="o">**</span><span class="n">format_opts</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_formatfunc</span><span class="p">(</span><span class="n">format</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span>
            <span class="n">func</span><span class="o">=</span><span class="n">locale</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="o">**</span><span class="n">format_opts</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_test_format_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="o">**</span><span class="n">format_opts</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_formatfunc</span><span class="p">(</span><span class="n">format</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span>
            <span class="n">func</span><span class="o">=</span><span class="n">locale</span><span class="o">.</span><span class="n">format_string</span><span class="p">,</span> <span class="o">**</span><span class="n">format_opts</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_test_currency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="o">**</span><span class="n">format_opts</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">currency</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="o">**</span><span class="n">format_opts</span><span class="p">),</span> <span class="n">out</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="EnUSNumberFormatting"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSNumberFormatting">[docs]</a><span class="k">class</span> <span class="nc">EnUSNumberFormatting</span><span class="p">(</span><span class="n">BaseFormattingTest</span><span class="p">):</span>
    <span class="c"># XXX there is a grouping + padding bug when the thousands separator</span>
    <span class="c"># is empty but the grouping array contains values (e.g. Solaris 10)</span>

<div class="viewcode-block" id="EnUSNumberFormatting.setUp"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSNumberFormatting.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sep</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">localeconv</span><span class="p">()[</span><span class="s">&#39;thousands_sep&#39;</span><span class="p">]</span>
</div>
<div class="viewcode-block" id="EnUSNumberFormatting.test_grouping"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSNumberFormatting.test_grouping">[docs]</a>    <span class="k">def</span> <span class="nf">test_grouping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;1</span><span class="si">%s</span><span class="s">024.000000&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;102.000000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%f</span><span class="s">&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">42</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;-42.000000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%+f</span><span class="s">&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">42</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;-42.000000&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="EnUSNumberFormatting.test_grouping_and_padding"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSNumberFormatting.test_grouping_and_padding">[docs]</a>    <span class="k">def</span> <span class="nf">test_grouping_and_padding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;%20.f&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">42</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;-42&#39;</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;%+10.f&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">out</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;-4</span><span class="si">%s</span><span class="s">200&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;%-10.f&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">out</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;-4</span><span class="si">%s</span><span class="s">200&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="EnUSNumberFormatting.test_integer_grouping"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSNumberFormatting.test_integer_grouping">[docs]</a>    <span class="k">def</span> <span class="nf">test_integer_grouping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;4</span><span class="si">%s</span><span class="s">200&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%+d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;+4</span><span class="si">%s</span><span class="s">200&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%+d</span><span class="s">&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;-4</span><span class="si">%s</span><span class="s">200&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="EnUSNumberFormatting.test_integer_grouping_and_padding"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSNumberFormatting.test_integer_grouping_and_padding">[docs]</a>    <span class="k">def</span> <span class="nf">test_integer_grouping_and_padding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%10d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">out</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;4</span><span class="si">%s</span><span class="s">200&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%-10d</span><span class="s">&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">out</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;-4</span><span class="si">%s</span><span class="s">200&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="EnUSNumberFormatting.test_simple"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSNumberFormatting.test_simple">[docs]</a>    <span class="k">def</span> <span class="nf">test_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;1024.000000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;102.000000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%f</span><span class="s">&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">42</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;-42.000000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%+f</span><span class="s">&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">42</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;-42.000000&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="EnUSNumberFormatting.test_padding"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSNumberFormatting.test_padding">[docs]</a>    <span class="k">def</span> <span class="nf">test_padding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;%20.f&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">42</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;-42&#39;</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;%+10.f&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;-4200&#39;</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;%-10.f&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;4200&#39;</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="EnUSNumberFormatting.test_complex_formatting"><a class="viewcode-back" href="../../test.html#test.test_locale.EnUSNumberFormatting.test_complex_formatting">[docs]</a>    <span class="k">def</span> <span class="nf">test_complex_formatting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Spaces in formatting string</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format_string</span><span class="p">(</span><span class="s">&quot;One million is </span><span class="si">%i</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">out</span><span class="o">=</span><span class="s">&#39;One million is 1</span><span class="si">%s</span><span class="s">000</span><span class="si">%s</span><span class="s">000&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format_string</span><span class="p">(</span><span class="s">&quot;One  million is </span><span class="si">%i</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">out</span><span class="o">=</span><span class="s">&#39;One  million is 1</span><span class="si">%s</span><span class="s">000</span><span class="si">%s</span><span class="s">000&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">))</span>
        <span class="c"># Dots in formatting string</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format_string</span><span class="p">(</span><span class="s">&quot;.</span><span class="si">%f</span><span class="s">.&quot;</span><span class="p">,</span> <span class="mf">1000.0</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;.1000.000000.&#39;</span><span class="p">)</span>
        <span class="c"># Padding</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_format_string</span><span class="p">(</span><span class="s">&quot;--&gt;  </span><span class="si">%10.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">out</span><span class="o">=</span><span class="s">&#39;--&gt;  &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="s">&#39;4</span><span class="si">%s</span><span class="s">200.00&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="c"># Asterisk formats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format_string</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%10.*f</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">out</span><span class="o">=</span><span class="s">&#39;1000.00&#39;</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_format_string</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%*.*f</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">out</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;1</span><span class="si">%s</span><span class="s">000.00&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="c"># Test more-in-one</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_test_format_string</span><span class="p">(</span><span class="s">&quot;int </span><span class="si">%i</span><span class="s"> float </span><span class="si">%.2f</span><span class="s"> str </span><span class="si">%s</span><span class="s">&quot;</span><span class="p">,</span>
                <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mf">1000.0</span><span class="p">,</span> <span class="s">&#39;str&#39;</span><span class="p">),</span> <span class="n">grouping</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">out</span><span class="o">=</span><span class="s">&#39;int 1</span><span class="si">%s</span><span class="s">000 float 1</span><span class="si">%s</span><span class="s">000.00 str str&#39;</span> <span class="o">%</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="TestFormatPatternArg"><a class="viewcode-back" href="../../test.html#test.test_locale.TestFormatPatternArg">[docs]</a><span class="k">class</span> <span class="nc">TestFormatPatternArg</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Test handling of pattern argument of format</span>

<div class="viewcode-block" id="TestFormatPatternArg.test_onlyOnePattern"><a class="viewcode-back" href="../../test.html#test.test_locale.TestFormatPatternArg.test_onlyOnePattern">[docs]</a>    <span class="k">def</span> <span class="nf">test_onlyOnePattern</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue 2522: accept exactly one % pattern, and no extra chars.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%f</span><span class="se">\r</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%f</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="s">&quot; </span><span class="si">%f</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%f</span><span class="s">g&quot;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="s">&quot;%^g&quot;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%f%%</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestLocaleFormatString"><a class="viewcode-back" href="../../test.html#test.test_locale.TestLocaleFormatString">[docs]</a><span class="k">class</span> <span class="nc">TestLocaleFormatString</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;General tests on locale.format_string&quot;&quot;&quot;</span>

<div class="viewcode-block" id="TestLocaleFormatString.test_percent_escape"><a class="viewcode-back" href="../../test.html#test.test_locale.TestLocaleFormatString.test_percent_escape">[docs]</a>    <span class="k">def</span> <span class="nf">test_percent_escape</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">format_string</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%f%%</span><span class="s">&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="s">&#39;</span><span class="si">%f%%</span><span class="s">&#39;</span> <span class="o">%</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">format_string</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%d</span><span class="s"> </span><span class="si">%f%%</span><span class="s">d&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)),</span>
            <span class="s">&#39;</span><span class="si">%d</span><span class="s"> </span><span class="si">%f%%</span><span class="s">d&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">format_string</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%(foo)s</span><span class="s"> </span><span class="si">%%</span><span class="s">d&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;bar&#39;</span><span class="p">}),</span>
            <span class="p">(</span><span class="s">&#39;</span><span class="si">%(foo)s</span><span class="s"> </span><span class="si">%%</span><span class="s">d&#39;</span> <span class="o">%</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;bar&#39;</span><span class="p">}))</span>
</div>
<div class="viewcode-block" id="TestLocaleFormatString.test_mapping"><a class="viewcode-back" href="../../test.html#test.test_locale.TestLocaleFormatString.test_mapping">[docs]</a>    <span class="k">def</span> <span class="nf">test_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">format_string</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%(foo)s</span><span class="s"> bing.&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;bar&#39;</span><span class="p">}),</span>
            <span class="p">(</span><span class="s">&#39;</span><span class="si">%(foo)s</span><span class="s"> bing.&#39;</span> <span class="o">%</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;bar&#39;</span><span class="p">}))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">format_string</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%(foo)s</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;bar&#39;</span><span class="p">}),</span>
            <span class="p">(</span><span class="s">&#39;</span><span class="si">%(foo)s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;bar&#39;</span><span class="p">}))</span>


</div></div>
<div class="viewcode-block" id="TestNumberFormatting"><a class="viewcode-back" href="../../test.html#test.test_locale.TestNumberFormatting">[docs]</a><span class="k">class</span> <span class="nc">TestNumberFormatting</span><span class="p">(</span><span class="n">BaseLocalizedTest</span><span class="p">,</span> <span class="n">EnUSNumberFormatting</span><span class="p">):</span>
    <span class="c"># Test number formatting with a real English locale.</span>

    <span class="n">locale_type</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">LC_NUMERIC</span>

<div class="viewcode-block" id="TestNumberFormatting.setUp"><a class="viewcode-back" href="../../test.html#test.test_locale.TestNumberFormatting.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">BaseLocalizedTest</span><span class="o">.</span><span class="n">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">EnUSNumberFormatting</span><span class="o">.</span><span class="n">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestEnUSNumberFormatting"><a class="viewcode-back" href="../../test.html#test.test_locale.TestEnUSNumberFormatting">[docs]</a><span class="k">class</span> <span class="nc">TestEnUSNumberFormatting</span><span class="p">(</span><span class="n">EnUSCookedTest</span><span class="p">,</span> <span class="n">EnUSNumberFormatting</span><span class="p">):</span>
    <span class="c"># Test number formatting with a cooked &quot;en_US&quot; locale.</span>

<div class="viewcode-block" id="TestEnUSNumberFormatting.setUp"><a class="viewcode-back" href="../../test.html#test.test_locale.TestEnUSNumberFormatting.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">EnUSCookedTest</span><span class="o">.</span><span class="n">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">EnUSNumberFormatting</span><span class="o">.</span><span class="n">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestEnUSNumberFormatting.test_currency"><a class="viewcode-back" href="../../test.html#test.test_locale.TestEnUSNumberFormatting.test_currency">[docs]</a>    <span class="k">def</span> <span class="nf">test_currency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_currency</span><span class="p">(</span><span class="mi">50000</span><span class="p">,</span> <span class="s">&quot;$50000.00&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_currency</span><span class="p">(</span><span class="mi">50000</span><span class="p">,</span> <span class="s">&quot;$50,000.00&quot;</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_currency</span><span class="p">(</span><span class="mi">50000</span><span class="p">,</span> <span class="s">&quot;USD 50,000.00&quot;</span><span class="p">,</span>
            <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">international</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestCNumberFormatting"><a class="viewcode-back" href="../../test.html#test.test_locale.TestCNumberFormatting">[docs]</a><span class="k">class</span> <span class="nc">TestCNumberFormatting</span><span class="p">(</span><span class="n">CCookedTest</span><span class="p">,</span> <span class="n">BaseFormattingTest</span><span class="p">):</span>
    <span class="c"># Test number formatting with a cooked &quot;C&quot; locale.</span>

<div class="viewcode-block" id="TestCNumberFormatting.test_grouping"><a class="viewcode-back" href="../../test.html#test.test_locale.TestCNumberFormatting.test_grouping">[docs]</a>    <span class="k">def</span> <span class="nf">test_grouping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;12345.67&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestCNumberFormatting.test_grouping_and_padding"><a class="viewcode-back" href="../../test.html#test.test_locale.TestCNumberFormatting.test_grouping_and_padding">[docs]</a>    <span class="k">def</span> <span class="nf">test_grouping_and_padding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%9.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39; 12345.67&#39;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestFrFRNumberFormatting"><a class="viewcode-back" href="../../test.html#test.test_locale.TestFrFRNumberFormatting">[docs]</a><span class="k">class</span> <span class="nc">TestFrFRNumberFormatting</span><span class="p">(</span><span class="n">FrFRCookedTest</span><span class="p">,</span> <span class="n">BaseFormattingTest</span><span class="p">):</span>
    <span class="c"># Test number formatting with a cooked &quot;fr_FR&quot; locale.</span>

<div class="viewcode-block" id="TestFrFRNumberFormatting.test_decimal_point"><a class="viewcode-back" href="../../test.html#test.test_locale.TestFrFRNumberFormatting.test_decimal_point">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimal_point</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;12345,67&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestFrFRNumberFormatting.test_grouping"><a class="viewcode-back" href="../../test.html#test.test_locale.TestFrFRNumberFormatting.test_grouping">[docs]</a>    <span class="k">def</span> <span class="nf">test_grouping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;345,67&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;12 345,67&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestFrFRNumberFormatting.test_grouping_and_padding"><a class="viewcode-back" href="../../test.html#test.test_locale.TestFrFRNumberFormatting.test_grouping_and_padding">[docs]</a>    <span class="k">def</span> <span class="nf">test_grouping_and_padding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%6.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;345,67&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%7.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39; 345,67&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%8.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;12 345,67&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%9.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;12 345,67&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%10.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39; 12 345,67&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%-6.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;345,67&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%-7.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;345,67 &#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%-8.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;12 345,67&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%-9.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;12 345,67&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%-10.2f</span><span class="s">&quot;</span><span class="p">,</span> <span class="mf">12345.67</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;12 345,67 &#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestFrFRNumberFormatting.test_integer_grouping"><a class="viewcode-back" href="../../test.html#test.test_locale.TestFrFRNumberFormatting.test_integer_grouping">[docs]</a>    <span class="k">def</span> <span class="nf">test_integer_grouping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;200&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;4 200&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestFrFRNumberFormatting.test_integer_grouping_and_padding"><a class="viewcode-back" href="../../test.html#test.test_locale.TestFrFRNumberFormatting.test_integer_grouping_and_padding">[docs]</a>    <span class="k">def</span> <span class="nf">test_integer_grouping_and_padding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%4d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;4 200&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%5d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;4 200&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%10d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;4 200&#39;</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%-4d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;4 200&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%-5d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;4 200&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%-10d</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">4200</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s">&#39;4 200&#39;</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestFrFRNumberFormatting.test_currency"><a class="viewcode-back" href="../../test.html#test.test_locale.TestFrFRNumberFormatting.test_currency">[docs]</a>    <span class="k">def</span> <span class="nf">test_currency</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">euro</span> <span class="o">=</span> <span class="s">&#39;</span><span class="se">\u20ac</span><span class="s">&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_currency</span><span class="p">(</span><span class="mi">50000</span><span class="p">,</span> <span class="s">&quot;50000,00 &quot;</span> <span class="o">+</span> <span class="n">euro</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_currency</span><span class="p">(</span><span class="mi">50000</span><span class="p">,</span> <span class="s">&quot;50 000,00 &quot;</span> <span class="o">+</span> <span class="n">euro</span><span class="p">,</span> <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="c"># XXX is the trailing space a bug?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_currency</span><span class="p">(</span><span class="mi">50000</span><span class="p">,</span> <span class="s">&quot;50 000,00 EUR &quot;</span><span class="p">,</span>
            <span class="n">grouping</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">international</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestCollation"><a class="viewcode-back" href="../../test.html#test.test_locale.TestCollation">[docs]</a><span class="k">class</span> <span class="nc">TestCollation</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Test string collation functions</span>

<div class="viewcode-block" id="TestCollation.test_strcoll"><a class="viewcode-back" href="../../test.html#test.test_locale.TestCollation.test_strcoll">[docs]</a>    <span class="k">def</span> <span class="nf">test_strcoll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertLess</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">strcoll</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">strcoll</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertGreater</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">strcoll</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestCollation.test_strxfrm"><a class="viewcode-back" href="../../test.html#test.test_locale.TestCollation.test_strxfrm">[docs]</a>    <span class="k">def</span> <span class="nf">test_strxfrm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertLess</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">strxfrm</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="n">locale</span><span class="o">.</span><span class="n">strxfrm</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="TestEnUSCollation"><a class="viewcode-back" href="../../test.html#test.test_locale.TestEnUSCollation">[docs]</a><span class="k">class</span> <span class="nc">TestEnUSCollation</span><span class="p">(</span><span class="n">BaseLocalizedTest</span><span class="p">,</span> <span class="n">TestCollation</span><span class="p">):</span>
    <span class="c"># Test string collation functions with a real English locale</span>

    <span class="n">locale_type</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span>

<div class="viewcode-block" id="TestEnUSCollation.setUp"><a class="viewcode-back" href="../../test.html#test.test_locale.TestEnUSCollation.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">enc</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">getpreferredencoding</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span> <span class="ow">or</span> <span class="s">&#39;ascii&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">enc</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">,</span> <span class="s">&#39;iso8859-1&#39;</span><span class="p">,</span> <span class="s">&#39;cp1252&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">unittest</span><span class="o">.</span><span class="n">SkipTest</span><span class="p">(</span><span class="s">&#39;encoding not suitable&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">enc</span> <span class="o">!=</span> <span class="s">&#39;iso8859-1&#39;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s">&#39;darwin&#39;</span> <span class="ow">or</span>
                                   <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;freebsd&#39;</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">unittest</span><span class="o">.</span><span class="n">SkipTest</span><span class="p">(</span><span class="s">&#39;wcscoll/wcsxfrm have known bugs&#39;</span><span class="p">)</span>
        <span class="n">BaseLocalizedTest</span><span class="o">.</span><span class="n">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestEnUSCollation.test_strcoll_with_diacritic"><a class="viewcode-back" href="../../test.html#test.test_locale.TestEnUSCollation.test_strcoll_with_diacritic">[docs]</a>    <span class="k">def</span> <span class="nf">test_strcoll_with_diacritic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertLess</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">strcoll</span><span class="p">(</span><span class="s">&#39;à&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestEnUSCollation.test_strxfrm_with_diacritic"><a class="viewcode-back" href="../../test.html#test.test_locale.TestEnUSCollation.test_strxfrm_with_diacritic">[docs]</a>    <span class="k">def</span> <span class="nf">test_strxfrm_with_diacritic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertLess</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">strxfrm</span><span class="p">(</span><span class="s">&#39;à&#39;</span><span class="p">),</span> <span class="n">locale</span><span class="o">.</span><span class="n">strxfrm</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="NormalizeTest"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest">[docs]</a><span class="k">class</span> <span class="nc">NormalizeTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="NormalizeTest.check"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.check">[docs]</a>    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">localename</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">localename</span><span class="p">),</span> <span class="n">expected</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">localename</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_locale_alias"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_locale_alias">[docs]</a>    <span class="k">def</span> <span class="nf">test_locale_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">localename</span><span class="p">,</span> <span class="n">alias</span> <span class="ow">in</span> <span class="n">locale</span><span class="o">.</span><span class="n">locale_alias</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">subTest</span><span class="p">(</span><span class="n">locale</span><span class="o">=</span><span class="p">(</span><span class="n">localename</span><span class="p">,</span> <span class="n">alias</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">localename</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_empty"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_empty">[docs]</a>    <span class="k">def</span> <span class="nf">test_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_c"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_c">[docs]</a>    <span class="k">def</span> <span class="nf">test_c</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;posix&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_english"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_english">[docs]</a>    <span class="k">def</span> <span class="nf">test_english</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;EN&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en.iso88591&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_US&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_us&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_GB&#39;</span><span class="p">,</span> <span class="s">&#39;en_GB.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_US.UTF-8&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.UTF-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_US.utf8&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.UTF-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_US:UTF-8&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.UTF-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_US.ISO8859-1&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_US.US-ASCII&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_US.88591&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_US.885915&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-15&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;english&#39;</span><span class="p">,</span> <span class="s">&#39;en_EN.ISO8859-1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;english_uk.ascii&#39;</span><span class="p">,</span> <span class="s">&#39;en_GB.ISO8859-1&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_hyphenated_encoding"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_hyphenated_encoding">[docs]</a>    <span class="k">def</span> <span class="nf">test_hyphenated_encoding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;az_AZ.iso88599e&#39;</span><span class="p">,</span> <span class="s">&#39;az_AZ.ISO8859-9E&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;az_AZ.ISO8859-9E&#39;</span><span class="p">,</span> <span class="s">&#39;az_AZ.ISO8859-9E&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;tt_RU.koi8c&#39;</span><span class="p">,</span> <span class="s">&#39;tt_RU.KOI8-C&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;tt_RU.KOI8-C&#39;</span><span class="p">,</span> <span class="s">&#39;tt_RU.KOI8-C&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;lo_LA.cp1133&#39;</span><span class="p">,</span> <span class="s">&#39;lo_LA.IBM-CP1133&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;lo_LA.ibmcp1133&#39;</span><span class="p">,</span> <span class="s">&#39;lo_LA.IBM-CP1133&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;lo_LA.IBM-CP1133&#39;</span><span class="p">,</span> <span class="s">&#39;lo_LA.IBM-CP1133&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;uk_ua.microsoftcp1251&#39;</span><span class="p">,</span> <span class="s">&#39;uk_UA.CP1251&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;uk_ua.microsoft-cp1251&#39;</span><span class="p">,</span> <span class="s">&#39;uk_UA.CP1251&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ka_ge.georgianacademy&#39;</span><span class="p">,</span> <span class="s">&#39;ka_GE.GEORGIAN-ACADEMY&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ka_GE.GEORGIAN-ACADEMY&#39;</span><span class="p">,</span> <span class="s">&#39;ka_GE.GEORGIAN-ACADEMY&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;cs_CZ.iso88592&#39;</span><span class="p">,</span> <span class="s">&#39;cs_CZ.ISO8859-2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;cs_CZ.ISO8859-2&#39;</span><span class="p">,</span> <span class="s">&#39;cs_CZ.ISO8859-2&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_euro_modifier"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_euro_modifier">[docs]</a>    <span class="k">def</span> <span class="nf">test_euro_modifier</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;de_DE@euro&#39;</span><span class="p">,</span> <span class="s">&#39;de_DE.ISO8859-15&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;en_US.ISO8859-15@euro&#39;</span><span class="p">,</span> <span class="s">&#39;en_US.ISO8859-15&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;de_DE.utf8@euro&#39;</span><span class="p">,</span> <span class="s">&#39;de_DE.UTF-8&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_latin_modifier"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_latin_modifier">[docs]</a>    <span class="k">def</span> <span class="nf">test_latin_modifier</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;be_BY.UTF-8@latin&#39;</span><span class="p">,</span> <span class="s">&#39;be_BY.UTF-8@latin&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;sr_RS.UTF-8@latin&#39;</span><span class="p">,</span> <span class="s">&#39;sr_RS.UTF-8@latin&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;sr_RS.UTF-8@latn&#39;</span><span class="p">,</span> <span class="s">&#39;sr_RS.UTF-8@latin&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_valencia_modifier"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_valencia_modifier">[docs]</a>    <span class="k">def</span> <span class="nf">test_valencia_modifier</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ca_ES.UTF-8@valencia&#39;</span><span class="p">,</span> <span class="s">&#39;ca_ES.UTF-8@valencia&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ca_ES@valencia&#39;</span><span class="p">,</span> <span class="s">&#39;ca_ES.ISO8859-1@valencia&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ca@valencia&#39;</span><span class="p">,</span> <span class="s">&#39;ca_ES.ISO8859-1@valencia&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_devanagari_modifier"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_devanagari_modifier">[docs]</a>    <span class="k">def</span> <span class="nf">test_devanagari_modifier</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ks_IN.UTF-8@devanagari&#39;</span><span class="p">,</span> <span class="s">&#39;ks_IN.UTF-8@devanagari&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ks_IN@devanagari&#39;</span><span class="p">,</span> <span class="s">&#39;ks_IN.UTF-8@devanagari&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ks@devanagari&#39;</span><span class="p">,</span> <span class="s">&#39;ks_IN.UTF-8@devanagari&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ks_IN.UTF-8&#39;</span><span class="p">,</span> <span class="s">&#39;ks_IN.UTF-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ks_IN&#39;</span><span class="p">,</span> <span class="s">&#39;ks_IN.UTF-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ks&#39;</span><span class="p">,</span> <span class="s">&#39;ks_IN.UTF-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;sd_IN.UTF-8@devanagari&#39;</span><span class="p">,</span> <span class="s">&#39;sd_IN.UTF-8@devanagari&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;sd_IN@devanagari&#39;</span><span class="p">,</span> <span class="s">&#39;sd_IN.UTF-8@devanagari&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;sd@devanagari&#39;</span><span class="p">,</span> <span class="s">&#39;sd_IN.UTF-8@devanagari&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;sd_IN.UTF-8&#39;</span><span class="p">,</span> <span class="s">&#39;sd_IN.UTF-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;sd_IN&#39;</span><span class="p">,</span> <span class="s">&#39;sd_IN.UTF-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;sd&#39;</span><span class="p">,</span> <span class="s">&#39;sd_IN.UTF-8&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_euc_encoding"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_euc_encoding">[docs]</a>    <span class="k">def</span> <span class="nf">test_euc_encoding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.euc&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.eucjp&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ko_kr.euc&#39;</span><span class="p">,</span> <span class="s">&#39;ko_KR.eucKR&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ko_kr.euckr&#39;</span><span class="p">,</span> <span class="s">&#39;ko_KR.eucKR&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;zh_cn.euc&#39;</span><span class="p">,</span> <span class="s">&#39;zh_CN.eucCN&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;zh_tw.euc&#39;</span><span class="p">,</span> <span class="s">&#39;zh_TW.eucTW&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;zh_tw.euctw&#39;</span><span class="p">,</span> <span class="s">&#39;zh_TW.eucTW&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="NormalizeTest.test_japanese"><a class="viewcode-back" href="../../test.html#test.test_locale.NormalizeTest.test_japanese">[docs]</a>    <span class="k">def</span> <span class="nf">test_japanese</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja.jis&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.JIS7&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja.sjis&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.SJIS&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.ajec&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.euc&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.eucjp&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.iso-2022-jp&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.JIS7&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.iso2022jp&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.JIS7&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.jis&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.JIS7&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.jis7&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.JIS7&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.mscode&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.SJIS&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.pck&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.SJIS&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.sjis&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.SJIS&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.ujis&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;ja_jp.utf8&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.UTF-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;japan&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;japanese&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;japanese-euc&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;japanese.euc&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;japanese.sjis&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.SJIS&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="s">&#39;jp_jp&#39;</span><span class="p">,</span> <span class="s">&#39;ja_JP.eucJP&#39;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestMiscellaneous"><a class="viewcode-back" href="../../test.html#test.test_locale.TestMiscellaneous">[docs]</a><span class="k">class</span> <span class="nc">TestMiscellaneous</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="TestMiscellaneous.test_getpreferredencoding"><a class="viewcode-back" href="../../test.html#test.test_locale.TestMiscellaneous.test_getpreferredencoding">[docs]</a>    <span class="k">def</span> <span class="nf">test_getpreferredencoding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Invoke getpreferredencoding to make sure it does not cause exceptions.</span>
        <span class="n">enc</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">getpreferredencoding</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">enc</span><span class="p">:</span>
            <span class="c"># If encoding non-empty, make sure it is valid</span>
            <span class="n">codecs</span><span class="o">.</span><span class="n">lookup</span><span class="p">(</span><span class="n">enc</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMiscellaneous.test_strcoll_3303"><a class="viewcode-back" href="../../test.html#test.test_locale.TestMiscellaneous.test_strcoll_3303">[docs]</a>    <span class="k">def</span> <span class="nf">test_strcoll_3303</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># test crasher from bug #3303</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">strcoll</span><span class="p">,</span> <span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">strcoll</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMiscellaneous.test_setlocale_category"><a class="viewcode-back" href="../../test.html#test.test_locale.TestMiscellaneous.test_setlocale_category">[docs]</a>    <span class="k">def</span> <span class="nf">test_setlocale_category</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">)</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_TIME</span><span class="p">)</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_CTYPE</span><span class="p">)</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_COLLATE</span><span class="p">)</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_MONETARY</span><span class="p">)</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_NUMERIC</span><span class="p">)</span>

        <span class="c"># crasher from bug #7419</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">,</span> <span class="mi">12345</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMiscellaneous.test_getsetlocale_issue1813"><a class="viewcode-back" href="../../test.html#test.test_locale.TestMiscellaneous.test_getsetlocale_issue1813">[docs]</a>    <span class="k">def</span> <span class="nf">test_getsetlocale_issue1813</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue #1813: setting and getting the locale under a Turkish locale</span>
        <span class="n">oldlocale</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_CTYPE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCleanup</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">LC_CTYPE</span><span class="p">,</span> <span class="n">oldlocale</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_CTYPE</span><span class="p">,</span> <span class="s">&#39;tr_TR&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">locale</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
            <span class="c"># Unsupported locale on this system</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&#39;test needs Turkish locale&#39;</span><span class="p">)</span>
        <span class="n">loc</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">getlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_CTYPE</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">&#39;got locale %a&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">loc</span><span class="p">,))</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_CTYPE</span><span class="p">,</span> <span class="n">loc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="n">locale</span><span class="o">.</span><span class="n">getlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_CTYPE</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMiscellaneous.test_invalid_locale_format_in_localetuple"><a class="viewcode-back" href="../../test.html#test.test_locale.TestMiscellaneous.test_invalid_locale_format_in_localetuple">[docs]</a>    <span class="k">def</span> <span class="nf">test_invalid_locale_format_in_localetuple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;fi_FI&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMiscellaneous.test_invalid_iterable_in_localetuple"><a class="viewcode-back" href="../../test.html#test.test_locale.TestMiscellaneous.test_invalid_iterable_in_localetuple">[docs]</a>    <span class="k">def</span> <span class="nf">test_invalid_iterable_in_localetuple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;not&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;valid&#39;</span><span class="p">))</span>

</div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>