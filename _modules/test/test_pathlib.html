

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_pathlib &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_pathlib</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_pathlib</h1><div class="highlight"><pre>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">errno</span>
<span class="kn">import</span> <span class="nn">pathlib</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">stat</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">tempfile</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>

<span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="n">support</span>
<span class="n">TESTFN</span> <span class="o">=</span> <span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">grp</span><span class="o">,</span> <span class="nn">pwd</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">grp</span> <span class="o">=</span> <span class="n">pwd</span> <span class="o">=</span> <span class="bp">None</span>


<span class="k">class</span> <span class="nc">_BaseFlavourTest</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">_check_parse_parts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flavour</span><span class="o">.</span><span class="n">parse_parts</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flavour</span><span class="o">.</span><span class="n">sep</span>
        <span class="n">altsep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flavour</span><span class="o">.</span><span class="n">altsep</span>
        <span class="n">actual</span> <span class="o">=</span> <span class="n">f</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">altsep</span><span class="p">:</span>
            <span class="n">actual</span> <span class="o">=</span> <span class="n">f</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="n">altsep</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_parse_parts_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_parse_parts</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flavour</span><span class="o">.</span><span class="n">sep</span>
        <span class="c"># Unanchored parts</span>
        <span class="n">check</span><span class="p">([],</span>                   <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">],</span>                <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a/&#39;</span><span class="p">],</span>               <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span>           <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="c"># Expansion</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a/b&#39;</span><span class="p">],</span>              <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a/b/&#39;</span><span class="p">],</span>             <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b/c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span>    <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]))</span>
        <span class="c"># Collapsing and stripping excess slashes</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b//c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span>   <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b/c/&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span>   <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]))</span>
        <span class="c"># Eliminating standalone dots</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;.&#39;</span><span class="p">],</span>                <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span>      <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span>      <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">],</span>      <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]))</span>
        <span class="c"># The first part is anchored</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;/a/b&#39;</span><span class="p">],</span>             <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="p">[</span><span class="n">sep</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;/a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span>          <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="p">[</span><span class="n">sep</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;/a/&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span>         <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="p">[</span><span class="n">sep</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="c"># Ignoring parts before an anchored part</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;/b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span>     <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="p">[</span><span class="n">sep</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;/b&#39;</span><span class="p">,</span> <span class="s">&#39;/c&#39;</span><span class="p">],</span>    <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="p">[</span><span class="n">sep</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]))</span>


<div class="viewcode-block" id="PosixFlavourTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixFlavourTest">[docs]</a><span class="k">class</span> <span class="nc">PosixFlavourTest</span><span class="p">(</span><span class="n">_BaseFlavourTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">flavour</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_posix_flavour</span>

<div class="viewcode-block" id="PosixFlavourTest.test_parse_parts"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixFlavourTest.test_parse_parts">[docs]</a>    <span class="k">def</span> <span class="nf">test_parse_parts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_parse_parts</span>
        <span class="c"># Collapsing of excess leading slashes, except for the double-slash</span>
        <span class="c"># special case.</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;//a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span>             <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;///a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span>            <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;////a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span>           <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]))</span>
        <span class="c"># Paths which look like NT paths aren&#39;t treated specially</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;c:a&#39;</span><span class="p">],</span>                  <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;c:a&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">],</span>                <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">],</span>                  <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">]))</span>
</div>
<div class="viewcode-block" id="PosixFlavourTest.test_splitroot"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixFlavourTest.test_splitroot">[docs]</a>    <span class="k">def</span> <span class="nf">test_splitroot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flavour</span><span class="o">.</span><span class="n">splitroot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;a/b/&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a/b/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;/a/b/&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;a/b/&#39;</span><span class="p">))</span>
        <span class="c"># The root is collapsed when there are redundant slashes</span>
        <span class="c"># except when there are exactly two leading slashes, which</span>
        <span class="c"># is a special case in POSIX.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;//a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;///a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;///a/b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="c"># Paths which look like NT paths aren&#39;t treated specially</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;c:/a/b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;c:/a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">/a/b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">/a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="NTFlavourTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.NTFlavourTest">[docs]</a><span class="k">class</span> <span class="nc">NTFlavourTest</span><span class="p">(</span><span class="n">_BaseFlavourTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">flavour</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">_windows_flavour</span>

<div class="viewcode-block" id="NTFlavourTest.test_parse_parts"><a class="viewcode-back" href="../../test.html#test.test_pathlib.NTFlavourTest.test_parse_parts">[docs]</a>    <span class="k">def</span> <span class="nf">test_parse_parts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_parse_parts</span>
        <span class="c"># First part is anchored</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;c:&#39;</span><span class="p">],</span>                   <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;c:&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">],</span>                 <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">],</span>                   <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;c:a&#39;</span><span class="p">],</span>                  <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">],</span>                <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">],</span>                  <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">]))</span>
        <span class="c"># UNC paths</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">],</span>             <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">],</span>           <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">],</span>          <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]))</span>
        <span class="c"># Second part is anchored, so that the first part is ignored</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;Z:b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span>        <span class="p">(</span><span class="s">&#39;Z:&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;Z:&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;Z:</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span>      <span class="p">(</span><span class="s">&#39;Z:&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;Z:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span>        <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]))</span>
        <span class="c"># UNC paths</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span>   <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]))</span>
        <span class="c"># Collapsing and stripping excess slashes</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;Z:</span><span class="se">\\\\</span><span class="s">b</span><span class="se">\\\\</span><span class="s">c</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;d</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">],</span> <span class="p">(</span><span class="s">&#39;Z:&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;Z:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]))</span>
        <span class="c"># UNC paths</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c</span><span class="se">\\\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]))</span>
        <span class="c"># Extended paths</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">],</span>          <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">c:&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">c:</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">],</span>         <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">c:&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">]))</span>
        <span class="c"># Extended UNC paths (format is &quot;\\?\UNC\server\share&quot;)</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">UNC</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">],</span>     <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">UNC</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">UNC</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">]))</span>
        <span class="n">check</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">UNC</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c</span><span class="se">\\</span><span class="s">d&#39;</span><span class="p">],</span>  <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">UNC</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">?</span><span class="se">\\</span><span class="s">UNC</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]))</span>
</div>
<div class="viewcode-block" id="NTFlavourTest.test_splitroot"><a class="viewcode-back" href="../../test.html#test.test_pathlib.NTFlavourTest.test_splitroot">[docs]</a>    <span class="k">def</span> <span class="nf">test_splitroot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flavour</span><span class="o">.</span><span class="n">splitroot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;c:a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">))</span>
        <span class="c"># Redundant slashes in the root are collapsed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\\\</span><span class="s">a/b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;c:</span><span class="se">\\\\</span><span class="s">a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;c:</span><span class="se">\\\\\\</span><span class="s">a/b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="c"># Valid UNC paths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c</span><span class="se">\\</span><span class="s">d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;c</span><span class="se">\\</span><span class="s">d&#39;</span><span class="p">))</span>
        <span class="c"># These are non-UNC paths (according to ntpath.py and test_ntpath)</span>
        <span class="c"># However, command.com says such paths are invalid, so it&#39;s</span>
        <span class="c"># difficult to know what the right semantics are</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>


<span class="c">#</span>
<span class="c"># Tests for the pure classes</span>
<span class="c">#</span>
</div></div>
<span class="k">class</span> <span class="nc">_BasePurePathTest</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="c"># keys are canonical paths, values are list of tuples of arguments</span>
    <span class="c"># supposed to produce equal paths</span>
    <span class="n">equivalences</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;a/b&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a/&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b/&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a/&#39;</span><span class="p">,</span> <span class="s">&#39;b/&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;a/b/&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s">&#39;a//b&#39;</span><span class="p">,),</span> <span class="p">(</span><span class="s">&#39;a//b//&#39;</span><span class="p">,),</span>
            <span class="c"># empty components get removed</span>
            <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="p">],</span>
        <span class="s">&#39;/b/c/d&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;/b/c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;///b//c&#39;</span><span class="p">,</span> <span class="s">&#39;d/&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">,</span> <span class="s">&#39;/b/c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">),</span>
            <span class="c"># empty components get removed</span>
            <span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;c/d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;b/c/d&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/b/c/d&#39;</span><span class="p">),</span>
            <span class="p">],</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flavour</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">_flavour</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flavour</span><span class="o">.</span><span class="n">sep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">altsep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">flavour</span><span class="o">.</span><span class="n">altsep</span>

    <span class="k">def</span> <span class="nf">test_constructor_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
        <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">)</span>
        <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">)</span>
        <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c&#39;</span><span class="p">)</span>
        <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_check_str_subclass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="c"># Issue #21127: it should be possible to construct a PurePath object</span>
        <span class="c"># from an str subclass instance, and it then gets converted to</span>
        <span class="c"># a pure str object.</span>
        <span class="k">class</span> <span class="nc">StrSubclass</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">StrSubclass</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">args</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">parts</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">part</span><span class="p">),</span> <span class="nb">str</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_str_subclass_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;a/b.txt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;/a/b.txt&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_join_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pp</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c/d&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/c&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_div_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Basically the same as joinpath()</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span> <span class="o">/</span> <span class="s">&#39;c&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pp</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span> <span class="o">/</span> <span class="s">&#39;c/d&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c/d&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span> <span class="o">/</span> <span class="s">&#39;c&#39;</span> <span class="o">/</span> <span class="s">&#39;d&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c/d&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="s">&#39;c&#39;</span> <span class="o">/</span> <span class="n">p</span> <span class="o">/</span> <span class="s">&#39;d&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c/a/b/d&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span> <span class="o">/</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">/</span> <span class="s">&#39;/c&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/c&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_check_str</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">expected</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_str_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Canonicalized paths roundtrip</span>
        <span class="k">for</span> <span class="n">pathstr</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;a/b&#39;</span><span class="p">,</span> <span class="s">&#39;a/b/c&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;/a/b&#39;</span><span class="p">,</span> <span class="s">&#39;/a/b/c&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_check_str</span><span class="p">(</span><span class="n">pathstr</span><span class="p">,</span> <span class="p">(</span><span class="n">pathstr</span><span class="p">,))</span>
        <span class="c"># Special case for the empty path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,))</span>
        <span class="c"># Other tests for str() are in test_equivalences()</span>

    <span class="k">def</span> <span class="nf">test_as_posix_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="k">for</span> <span class="n">pathstr</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;a/b&#39;</span><span class="p">,</span> <span class="s">&#39;a/b/c&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;/a/b&#39;</span><span class="p">,</span> <span class="s">&#39;/a/b/c&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="n">pathstr</span><span class="p">)</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span> <span class="n">pathstr</span><span class="p">)</span>
        <span class="c"># Other tests for as_posix() are in test_equivalences()</span>

    <span class="k">def</span> <span class="nf">test_as_bytes_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">fsencode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;a&#39;</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">+</span> <span class="n">b</span><span class="s">&#39;b&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_as_uri_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">P</span><span class="p">()</span><span class="o">.</span><span class="n">as_uri</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">test_repr_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">pathstr</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;a/b&#39;</span><span class="p">,</span> <span class="s">&#39;a/b/c&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;/a/b&#39;</span><span class="p">,</span> <span class="s">&#39;/a/b/c&#39;</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">pathstr</span><span class="p">)</span>
            <span class="n">clsname</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span>
            <span class="n">r</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
            <span class="c"># The repr() is in the form ClassName(&quot;forward-slashes path&quot;)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">clsname</span> <span class="o">+</span> <span class="s">&#39;(&#39;</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;)&#39;</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>
            <span class="n">inner</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">clsname</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">inner</span><span class="p">),</span> <span class="n">p</span><span class="o">.</span><span class="n">as_posix</span><span class="p">())</span>
            <span class="c"># The repr() roundtrips</span>
            <span class="n">q</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">__dict__</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__class__</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">q</span><span class="p">),</span> <span class="n">r</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_eq_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(),</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(),</span> <span class="p">{})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(),</span> <span class="nb">int</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_match_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">)</span>
        <span class="c"># Simple relative pattern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b/py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b.py/c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">))</span>
        <span class="c"># Wilcard relative pattern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b.pyc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b./py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b.py/c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;*.py&#39;</span><span class="p">))</span>
        <span class="c"># Multi-part relative pattern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;ab/c.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;a*/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/d/ab/c.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;a*/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;a*/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/dab/c.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;a*/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;ab/c.py/d&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;a*/*.py&#39;</span><span class="p">))</span>
        <span class="c"># Absolute pattern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/*.py&#39;</span><span class="p">))</span>
        <span class="c"># Multi-part absolute pattern</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/a/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/ab.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/a/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/c.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/a/*.py&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_ordering_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Ordering is tuple-alike</span>
        <span class="k">def</span> <span class="nf">assertLess</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertLess</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertGreater</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/abc&#39;</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/b&#39;</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="n">assertLess</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">P</span><span class="p">()</span> <span class="o">&lt;</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">test_parts_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># `parts` returns a tuple</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parts</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="c"># The object gets reused</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">parts</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">parts</span><span class="p">)</span>
        <span class="c"># When the path is absolute, the anchor is a separate part</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parts</span><span class="p">,</span> <span class="p">(</span><span class="n">sep</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_equivalences</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">tuples</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalences</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">canon</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
            <span class="n">posix</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">canon</span> <span class="o">!=</span> <span class="n">posix</span><span class="p">:</span>
                <span class="n">tuples</span> <span class="o">=</span> <span class="n">tuples</span> <span class="o">+</span> <span class="p">[</span>
                    <span class="nb">tuple</span><span class="p">(</span><span class="n">part</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span> <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">t</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tuples</span>
                    <span class="p">]</span>
                <span class="n">tuples</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">posix</span><span class="p">,</span> <span class="p">))</span>
            <span class="n">pcanon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">canon</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tuples</span><span class="p">:</span>
                <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">pcanon</span><span class="p">,</span> <span class="s">&quot;failed with args {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="nb">hash</span><span class="p">(</span><span class="n">pcanon</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">canon</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">as_posix</span><span class="p">(),</span> <span class="n">posix</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_parent_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Relative</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">())</span>
        <span class="c"># Anchored</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_parents_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Relative</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c&#39;</span><span class="p">)</span>
        <span class="n">par</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="p">[</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)])</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">):</span>
            <span class="n">par</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">):</span>
            <span class="n">par</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">par</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
        <span class="c"># Anchored</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/c&#39;</span><span class="p">)</span>
        <span class="n">par</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="p">[</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)])</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">):</span>
            <span class="n">par</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">test_drive_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_root_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">sep</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="n">sep</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_anchor_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="n">sep</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="n">sep</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_name_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b.py&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b.py&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_suffix_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;..&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.py&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.py&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.rc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.rc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_suffixes_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.py&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.py&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.rc&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.rc&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.tar&#39;</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.tar&#39;</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>

    <span class="k">def</span> <span class="nf">test_stem_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;..&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;..&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;.hgrc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;.hg&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;b.tar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span>
                         <span class="s">&#39;Some name. Ending with a dot.&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_with_name_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/Dot ending.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/Dot ending.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;d.xml&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;d.xml&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;d.xml&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;c/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;c/d&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_with_suffix_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;.gz&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.gz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;.gz&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.gz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;.gz&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.gz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;.gz&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.gz&#39;</span><span class="p">))</span>
        <span class="c"># Stripping suffix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">))</span>
        <span class="c"># Path doesn&#39;t have a &quot;filename&quot; component</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="c"># Invalid suffix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;/.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;c/d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.c/.d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;./.d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.d/.&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_relative_to_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">()),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;a/&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">())</span>
        <span class="c"># With several args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">())</span>
        <span class="c"># Unrelated paths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;/a/&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">())</span>
        <span class="c"># Unrelated paths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_pickling_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">proto</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">dumped</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">proto</span><span class="p">)</span>
            <span class="n">pp</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">dumped</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">pp</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__class__</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">pp</span><span class="p">),</span> <span class="nb">hash</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pp</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>


<div class="viewcode-block" id="PurePosixPathTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest">[docs]</a><span class="k">class</span> <span class="nc">PurePosixPathTest</span><span class="p">(</span><span class="n">_BasePurePathTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">cls</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PurePosixPath</span>

<div class="viewcode-block" id="PurePosixPathTest.test_root"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest.test_root">[docs]</a>    <span class="k">def</span> <span class="nf">test_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;///a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">)</span>
        <span class="c"># POSIX special case for two leading slashes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PurePosixPathTest.test_eq"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest.test_eq">[docs]</a>    <span class="k">def</span> <span class="nf">test_eq</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;A/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;///a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PurePosixPathTest.test_as_uri"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest.test_as_uri">[docs]</a>    <span class="k">def</span> <span class="nf">test_as_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span> <span class="s">&#39;file:///&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b.c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span> <span class="s">&#39;file:///a/b.c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b</span><span class="si">%#c</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span> <span class="s">&#39;file:///a/b</span><span class="si">%25%</span><span class="s">23c&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PurePosixPathTest.test_as_uri_non_ascii"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest.test_as_uri_non_ascii">[docs]</a>    <span class="k">def</span> <span class="nf">test_as_uri_non_ascii</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">quote_from_bytes</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">fsencode</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\xe9</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">UnicodeEncodeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\\</span><span class="s">xe9 cannot be encoded to the filesystem encoding&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b</span><span class="se">\xe9</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span>
                         <span class="s">&#39;file:///a/b&#39;</span> <span class="o">+</span> <span class="n">quote_from_bytes</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">fsencode</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\xe9</span><span class="s">&#39;</span><span class="p">)))</span>
</div>
<div class="viewcode-block" id="PurePosixPathTest.test_match"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest.test_match">[docs]</a>    <span class="k">def</span> <span class="nf">test_match</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;A.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;a.PY&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PurePosixPathTest.test_is_absolute"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest.test_is_absolute">[docs]</a>    <span class="k">def</span> <span class="nf">test_is_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">()</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="PurePosixPathTest.test_is_reserved"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest.test_is_reserved">[docs]</a>    <span class="k">def</span> <span class="nf">test_is_reserved</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/foo/bar&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/dev/con/PRN/NUL&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="PurePosixPathTest.test_join"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest.test_join">[docs]</a>    <span class="k">def</span> <span class="nf">test_join</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a&#39;</span><span class="p">)</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;//c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//c&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/c&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PurePosixPathTest.test_div"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePosixPathTest.test_div">[docs]</a>    <span class="k">def</span> <span class="nf">test_div</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Basically the same as joinpath()</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a&#39;</span><span class="p">)</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span> <span class="o">/</span> <span class="s">&#39;b&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="s">&#39;//c&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//c&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a&#39;</span><span class="p">)</span> <span class="o">/</span> <span class="s">&#39;/c&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/c&#39;</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="PureWindowsPathTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest">[docs]</a><span class="k">class</span> <span class="nc">PureWindowsPathTest</span><span class="p">(</span><span class="n">_BasePurePathTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">cls</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PureWindowsPath</span>

    <span class="n">equivalences</span> <span class="o">=</span> <span class="n">_BasePurePathTest</span><span class="o">.</span><span class="n">equivalences</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">equivalences</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
        <span class="s">&#39;c:a&#39;</span><span class="p">:</span> <span class="p">[</span> <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;a/&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span> <span class="p">],</span>
        <span class="s">&#39;c:/a&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;/a&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;/z&#39;</span><span class="p">,</span> <span class="s">&#39;c:/&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;//x/y&#39;</span><span class="p">,</span> <span class="s">&#39;c:/&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">),</span>
            <span class="p">],</span>
        <span class="s">&#39;//a/b/&#39;</span><span class="p">:</span> <span class="p">[</span> <span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">,)</span> <span class="p">],</span>
        <span class="s">&#39;//a/b/c&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;//a/b/&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">),</span>
            <span class="p">],</span>
    <span class="p">})</span>

<div class="viewcode-block" id="PureWindowsPathTest.test_str"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_str">[docs]</a>    <span class="k">def</span> <span class="nf">test_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;a/b/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="s">&#39;a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;c:/a/b/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="s">&#39;c:</span><span class="se">\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;//a/b/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c&#39;</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;//a/b/c/d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">c</span><span class="se">\\</span><span class="s">d&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_str_subclass"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_str_subclass">[docs]</a>    <span class="k">def</span> <span class="nf">test_str_subclass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;c:a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;c:a</span><span class="se">\\</span><span class="s">b.txt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b.txt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">some</span><span class="se">\\</span><span class="s">share&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">some</span><span class="se">\\</span><span class="s">share</span><span class="se">\\</span><span class="s">a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_str_subclass</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">some</span><span class="se">\\</span><span class="s">share</span><span class="se">\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b.txt&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_eq"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_eq">[docs]</a>    <span class="k">def</span> <span class="nf">test_eq</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;d:a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b&#39;</span><span class="p">))</span>
        <span class="c"># Case-insensitivity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/B&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;A/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;C:a/B&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:A/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//Some/SHARE/a/B&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//somE/share/A/b&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_as_uri"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_as_uri">[docs]</a>    <span class="k">def</span> <span class="nf">test_as_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">quote_from_bytes</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span> <span class="s">&#39;file:///c:/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b.c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span> <span class="s">&#39;file:///c:/a/b.c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b</span><span class="si">%#c</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span> <span class="s">&#39;file:///c:/a/b</span><span class="si">%25%</span><span class="s">23c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b</span><span class="se">\xe9</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span> <span class="s">&#39;file:///c:/a/b%C3%A9&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//some/share/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span> <span class="s">&#39;file://some/share/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//some/share/a/b.c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span>
                         <span class="s">&#39;file://some/share/a/b.c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//some/share/a/b</span><span class="si">%#c</span><span class="se">\xe9</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_uri</span><span class="p">(),</span>
                         <span class="s">&#39;file://some/share/a/b</span><span class="si">%25%</span><span class="s">23c%C3%A9&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_match_common"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_match_common">[docs]</a>    <span class="k">def</span> <span class="nf">test_match_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="c"># Absolute patterns</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;c:*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;c:/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;d:/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;c:/*.py&#39;</span><span class="p">))</span>  <span class="c"># wrong drive</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;c:*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;c:/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;c:/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;c:*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;c:/*.py&#39;</span><span class="p">))</span>
        <span class="c"># UNC patterns</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//some/share/a.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//some/share/a.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;//some/share/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//other/share/a.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;//some/share/*.py&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//some/share/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;//some/share/*.py&#39;</span><span class="p">))</span>
        <span class="c"># Case-insensitivity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;B.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;b.PY&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/B.Py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;C:/A/*.pY&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//Some/Share/B.Py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">&#39;//somE/sharE/*.pY&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_ordering_common"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_ordering_common">[docs]</a>    <span class="k">def</span> <span class="nf">test_ordering_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Case-insensitivity</span>
        <span class="k">def</span> <span class="nf">assertOrderedEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertLessEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:A/b&#39;</span><span class="p">)</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:a/B&#39;</span><span class="p">)</span>
        <span class="n">assertOrderedEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">p</span> <span class="o">&lt;</span> <span class="n">q</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">p</span> <span class="o">&gt;</span> <span class="n">q</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//some/Share/A/b&#39;</span><span class="p">)</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//Some/SHARE/a/B&#39;</span><span class="p">)</span>
        <span class="n">assertOrderedEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">p</span> <span class="o">&lt;</span> <span class="n">q</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">p</span> <span class="o">&gt;</span> <span class="n">q</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_parts"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_parts">[docs]</a>    <span class="k">def</span> <span class="nf">test_parts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parts</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b&#39;</span><span class="p">)</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parts</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c/d&#39;</span><span class="p">)</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parts</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_parent"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_parent">[docs]</a>    <span class="k">def</span> <span class="nf">test_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Anchored</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:a/b/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:&#39;</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/a/b/c&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/&#39;</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c/d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_parents"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_parents">[docs]</a>    <span class="k">def</span> <span class="nf">test_parents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Anchored</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:a/b/&#39;</span><span class="p">)</span>
        <span class="n">par</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="p">[</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;z:a&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:&#39;</span><span class="p">)])</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">):</span>
            <span class="n">par</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/a/b/&#39;</span><span class="p">)</span>
        <span class="n">par</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/a&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="p">[</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/a&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;z:/&#39;</span><span class="p">)])</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">):</span>
            <span class="n">par</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c/d&#39;</span><span class="p">)</span>
        <span class="n">par</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">par</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">par</span><span class="p">),</span> <span class="p">[</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">)])</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">):</span>
            <span class="n">par</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_drive"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_drive">[docs]</a>    <span class="k">def</span> <span class="nf">test_drive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;c:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;c:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;c:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;c:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c/d&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drive</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_root"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_root">[docs]</a>    <span class="k">def</span> <span class="nf">test_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c/d&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_anchor"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_anchor">[docs]</a>    <span class="k">def</span> <span class="nf">test_anchor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="s">&#39;c:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="s">&#39;c:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="s">&#39;c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="s">&#39;c:</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c/d&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">anchor</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\\\</span><span class="s">a</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_name"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_name">[docs]</a>    <span class="k">def</span> <span class="nf">test_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b.py&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b.py&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//My.py/Share.php&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//My.py/Share.php/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_suffix"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_suffix">[docs]</a>    <span class="k">def</span> <span class="nf">test_suffix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.py&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.py&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.rc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.rc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//My.py/Share.php&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//My.py/Share.php/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffix</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_suffixes"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_suffixes">[docs]</a>    <span class="k">def</span> <span class="nf">test_suffixes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.py&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.py&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.rc&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.rc&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.tar&#39;</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;.tar&#39;</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//My.py/Share.php&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//My.py/Share.php/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">suffixes</span><span class="p">,</span> <span class="p">[])</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_stem"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_stem">[docs]</a>    <span class="k">def</span> <span class="nf">test_stem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:..&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;..&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/.hgrc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;.hgrc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/.hg.rc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;.hg&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.tar.gz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span> <span class="s">&#39;b.tar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/Some name. Ending with a dot.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span><span class="p">,</span>
                         <span class="s">&#39;Some name. Ending with a dot.&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_with_name"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_with_name">[docs]</a>    <span class="k">def</span> <span class="nf">test_with_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/Dot ending.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/Dot ending.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">(</span><span class="s">&#39;d.xml&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/d.xml&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;d.xml&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;d.xml&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//My/Share&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;d.xml&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;d:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;d:e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;d:/e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_name</span><span class="p">,</span> <span class="s">&#39;//My/Share&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_with_suffix"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_with_suffix">[docs]</a>    <span class="k">def</span> <span class="nf">test_with_suffix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;.gz&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.gz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;.gz&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b.gz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;.gz&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b.gz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s">&#39;.gz&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b.gz&#39;</span><span class="p">))</span>
        <span class="c"># Path doesn&#39;t have a &quot;filename&quot; component</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//My/Share&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.gz&#39;</span><span class="p">)</span>
        <span class="c"># Invalid suffix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;c:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;/.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;c:.gz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;c/d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;c</span><span class="se">\\</span><span class="s">d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.c/d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">,</span> <span class="s">&#39;.c</span><span class="se">\\</span><span class="s">d&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_relative_to"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_relative_to">[docs]</a>    <span class="k">def</span> <span class="nf">test_relative_to</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:Foo/Bar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Foo/Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Foo/Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:foO&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:foO&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:foO/&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:foO/baR&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:foO/baR&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">())</span>
        <span class="c"># Unrelated paths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;d:&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Foo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/Foo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/Foo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:Foo/Bar/Baz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:Foo/Baz&#39;</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/Foo/Bar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/Foo/Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/Foo/Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">))),</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">Foo</span><span class="se">\\</span><span class="s">Bar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)),</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">Foo</span><span class="se">\\</span><span class="s">Bar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Foo/Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Foo/Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/foO&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:/foO&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:/foO/&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/foO/baR&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;c:/foO/baR&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">())</span>
        <span class="c"># Unrelated paths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/Baz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/Foo/Bar/Baz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/Foo/Baz&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:Foo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;d:&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;d:/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/Foo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//C/Foo&#39;</span><span class="p">))</span>
        <span class="c"># UNC paths</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//Server/Share/Foo/Bar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//sErver/sHare&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Foo/Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;//sErver/sHare&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Foo/Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;//sErver/sHare/&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Foo/Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//sErver/sHare/Foo&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;//sErver/sHare/Foo&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;//sErver/sHare/Foo/&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;Bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//sErver/sHare/Foo/Bar&#39;</span><span class="p">)),</span> <span class="n">P</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="s">&#39;//sErver/sHare/Foo/Bar&#39;</span><span class="p">),</span> <span class="n">P</span><span class="p">())</span>
        <span class="c"># Unrelated paths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/Server/Share/Foo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/Server/Share/Foo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//z/Share/Foo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">relative_to</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//Server/z/Foo&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_is_absolute"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_is_absolute">[docs]</a>    <span class="k">def</span> <span class="nf">test_is_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="c"># Under NT, only paths with both a drive and a root are absolute</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">()</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;/a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="c"># UNC paths are absolute by definition</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="s">&#39;//a/b/c/d&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_join"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_join">[docs]</a>    <span class="k">def</span> <span class="nf">test_join</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/a/b&#39;</span><span class="p">)</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;x/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/a/b/x/y&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;/x/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/x/y&#39;</span><span class="p">))</span>
        <span class="c"># Joining with a different drive =&gt; the first path is ignored, even</span>
        <span class="c"># if the second path is relative.</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;D:x/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;D:x/y&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;D:/x/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;D:/x/y&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;//host/share/x/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//host/share/x/y&#39;</span><span class="p">))</span>
        <span class="c"># Joining with the same drive =&gt; the first path is appended to if</span>
        <span class="c"># the second path is relative.</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;c:x/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/a/b/x/y&#39;</span><span class="p">))</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s">&#39;c:/x/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/x/y&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_div"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_div">[docs]</a>    <span class="k">def</span> <span class="nf">test_div</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Basically the same as joinpath()</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/a/b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;x/y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/a/b/x/y&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;x&#39;</span> <span class="o">/</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/a/b/x/y&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;/x/y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/x/y&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;/x&#39;</span> <span class="o">/</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/x/y&#39;</span><span class="p">))</span>
        <span class="c"># Joining with a different drive =&gt; the first path is ignored, even</span>
        <span class="c"># if the second path is relative.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;D:x/y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;D:x/y&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;D:&#39;</span> <span class="o">/</span> <span class="s">&#39;x/y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;D:x/y&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;D:/x/y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;D:/x/y&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;D:&#39;</span> <span class="o">/</span> <span class="s">&#39;/x/y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;D:/x/y&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;//host/share/x/y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//host/share/x/y&#39;</span><span class="p">))</span>
        <span class="c"># Joining with the same drive =&gt; the first path is appended to if</span>
        <span class="c"># the second path is relative.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;c:x/y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/a/b/x/y&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;c:/x/y&#39;</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;C:/x/y&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="PureWindowsPathTest.test_is_reserved"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PureWindowsPathTest.test_is_reserved">[docs]</a>    <span class="k">def</span> <span class="nf">test_is_reserved</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/foo/bar&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;con&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;NUL&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;NUL.txt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;com1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;com9.bar&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;bar.com9&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;lpt1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;lpt9.bar&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;bar.lpt9&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="c"># Only the last component matters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;c:/NUL/con/baz&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>
        <span class="c"># UNC paths are never reserved</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;//my/share/nul/con/aux&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_reserved</span><span class="p">())</span>

</div></div>
<div class="viewcode-block" id="PurePathTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePathTest">[docs]</a><span class="k">class</span> <span class="nc">PurePathTest</span><span class="p">(</span><span class="n">_BasePurePathTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">cls</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PurePath</span>

<div class="viewcode-block" id="PurePathTest.test_concrete_class"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePathTest.test_concrete_class">[docs]</a>    <span class="k">def</span> <span class="nf">test_concrete_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">p</span><span class="p">),</span>
            <span class="n">pathlib</span><span class="o">.</span><span class="n">PureWindowsPath</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">&#39;nt&#39;</span> <span class="k">else</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PurePosixPath</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PurePathTest.test_different_flavours_unequal"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePathTest.test_different_flavours_unequal">[docs]</a>    <span class="k">def</span> <span class="nf">test_different_flavours_unequal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PurePosixPath</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PureWindowsPath</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PurePathTest.test_different_flavours_unordered"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PurePathTest.test_different_flavours_unordered">[docs]</a>    <span class="k">def</span> <span class="nf">test_different_flavours_unordered</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PurePosixPath</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PureWindowsPath</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">&lt;</span> <span class="n">q</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">&lt;=</span> <span class="n">q</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">&gt;</span> <span class="n">q</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">&gt;=</span> <span class="n">q</span>


<span class="c">#</span>
<span class="c"># Tests for the concrete classes</span>
<span class="c">#</span>

<span class="c"># Make sure any symbolic links in the base test path are resolved</span></div></div>
<span class="n">BASE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">TESTFN</span><span class="p">)</span>
<span class="n">join</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">x</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="n">rel_join</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">*</span><span class="n">x</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">TESTFN</span><span class="p">,</span> <span class="o">*</span><span class="n">x</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">symlink_skip_reason</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">supports_symlinks</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">&quot;no system support for symlinks&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">__file__</span><span class="p">,</span> <span class="n">BASE</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">support</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>

<span class="n">symlink_skip_reason</span> <span class="o">=</span> <span class="n">symlink_skip_reason</span><span class="p">()</span>

<span class="n">only_nt</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">skipIf</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="s">&#39;nt&#39;</span><span class="p">,</span>
                          <span class="s">&#39;test requires a Windows-compatible system&#39;</span><span class="p">)</span>
<span class="n">only_posix</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">skipIf</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">&#39;nt&#39;</span><span class="p">,</span>
                             <span class="s">&#39;test requires a POSIX-compatible system&#39;</span><span class="p">)</span>
<span class="n">with_symlinks</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">skipIf</span><span class="p">(</span><span class="n">symlink_skip_reason</span><span class="p">,</span> <span class="n">symlink_skip_reason</span><span class="p">)</span>


<span class="nd">@only_posix</span>
<div class="viewcode-block" id="PosixPathAsPureTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixPathAsPureTest">[docs]</a><span class="k">class</span> <span class="nc">PosixPathAsPureTest</span><span class="p">(</span><span class="n">PurePosixPathTest</span><span class="p">):</span>
    <span class="n">cls</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PosixPath</span>
</div>
<span class="nd">@only_nt</span>
<div class="viewcode-block" id="WindowsPathAsPureTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.WindowsPathAsPureTest">[docs]</a><span class="k">class</span> <span class="nc">WindowsPathAsPureTest</span><span class="p">(</span><span class="n">PureWindowsPathTest</span><span class="p">):</span>
    <span class="n">cls</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">WindowsPath</span>

</div>
<span class="k">class</span> <span class="nc">_BasePathTest</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tests for the FS-accessing functionalities of the Path classes.&quot;&quot;&quot;</span>

    <span class="c"># (BASE)</span>
    <span class="c">#  |</span>
    <span class="c">#  |-- dirA/</span>
    <span class="c">#       |-- linkC -&gt; &quot;../dirB&quot;</span>
    <span class="c">#  |-- dirB/</span>
    <span class="c">#  |    |-- fileB</span>
    <span class="c">#       |-- linkD -&gt; &quot;../dirB&quot;</span>
    <span class="c">#  |-- dirC/</span>
    <span class="c">#  |    |-- fileC</span>
    <span class="c">#  |    |-- fileD</span>
    <span class="c">#  |-- fileA</span>
    <span class="c">#  |-- linkA -&gt; &quot;fileA&quot;</span>
    <span class="c">#  |-- linkB -&gt; &quot;dirB&quot;</span>
    <span class="c">#</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCleanup</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">rmtree</span><span class="p">,</span> <span class="n">BASE</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;dirA&#39;</span><span class="p">))</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;dirB&#39;</span><span class="p">))</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;dirC&#39;</span><span class="p">))</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;dirC&#39;</span><span class="p">,</span> <span class="s">&#39;dirD&#39;</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;fileA&#39;</span><span class="p">),</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;this is file A</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="s">&#39;fileB&#39;</span><span class="p">),</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;this is file B</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;dirC&#39;</span><span class="p">,</span> <span class="s">&#39;fileC&#39;</span><span class="p">),</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;this is file C</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;dirC&#39;</span><span class="p">,</span> <span class="s">&#39;dirD&#39;</span><span class="p">,</span> <span class="s">&#39;fileD&#39;</span><span class="p">),</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;this is file D</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">symlink_skip_reason</span><span class="p">:</span>
            <span class="c"># Relative symlinks</span>
            <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="s">&#39;fileA&#39;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;linkA&#39;</span><span class="p">))</span>
            <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="s">&#39;non-existing&#39;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;brokenLink&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;linkB&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;..&#39;</span><span class="p">,</span> <span class="s">&#39;dirB&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;dirA&#39;</span><span class="p">,</span> <span class="s">&#39;linkC&#39;</span><span class="p">))</span>
            <span class="c"># This one goes upwards but doesn&#39;t create a loop</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;..&#39;</span><span class="p">,</span> <span class="s">&#39;dirB&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="s">&#39;linkD&#39;</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">&#39;nt&#39;</span><span class="p">:</span>
        <span class="c"># Workaround for http://bugs.python.org/issue13772</span>
        <span class="k">def</span> <span class="nf">dirlink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">target_is_directory</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">dirlink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">assertSame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_a</span><span class="p">,</span> <span class="n">path_b</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">samefile</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">path_a</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">path_b</span><span class="p">)),</span>
                        <span class="s">&quot;</span><span class="si">%r</span><span class="s"> and </span><span class="si">%r</span><span class="s"> don&#39;t point to the same file&quot;</span> <span class="o">%</span>
                        <span class="p">(</span><span class="n">path_a</span><span class="p">,</span> <span class="n">path_b</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">assertFileNotFound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">FileNotFoundError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">errno</span><span class="p">,</span> <span class="n">errno</span><span class="o">.</span><span class="n">ENOENT</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_test_cwd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">q</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">q</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_cwd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test_cwd</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_empty_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># The empty path points to &#39;.&#39;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">(),</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">symlink_skip_reason</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;linkA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;linkB&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/xyzzy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_open_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="k">with</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">TextIOBase</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="s">&quot;this is file A</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">BufferedIOBase</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">b</span><span class="s">&quot;this is file A&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;rb&#39;</span><span class="p">,</span> <span class="n">buffering</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">io</span><span class="o">.</span><span class="n">RawIOBase</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">b</span><span class="s">&quot;this is file A&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_iterdir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">it</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span>
        <span class="n">paths</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;dirA&#39;</span><span class="p">,</span> <span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="s">&#39;dirC&#39;</span><span class="p">,</span> <span class="s">&#39;fileA&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">symlink_skip_reason</span><span class="p">:</span>
            <span class="n">expected</span> <span class="o">+=</span> <span class="p">[</span><span class="s">&#39;linkA&#39;</span><span class="p">,</span> <span class="s">&#39;linkB&#39;</span><span class="p">,</span> <span class="s">&#39;brokenLink&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span> <span class="p">{</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">expected</span> <span class="p">})</span>

    <span class="nd">@with_symlinks</span>
    <span class="k">def</span> <span class="nf">test_iterdir_symlink</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># __iter__ on a symlink to a directory</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;linkB&#39;</span><span class="p">)</span>
        <span class="n">paths</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">iterdir</span><span class="p">())</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">{</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;linkB&#39;</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;fileB&#39;</span><span class="p">,</span> <span class="s">&#39;linkD&#39;</span><span class="p">]</span> <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_iterdir_nodir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># __iter__ on something that is not a directory</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OSError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="nb">next</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">iterdir</span><span class="p">())</span>
        <span class="c"># ENOENT or EINVAL under Windows, ENOTDIR otherwise</span>
        <span class="c"># (see issue #12802)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">errno</span><span class="p">,</span> <span class="p">(</span><span class="n">errno</span><span class="o">.</span><span class="n">ENOTDIR</span><span class="p">,</span>
                                           <span class="n">errno</span><span class="o">.</span><span class="n">ENOENT</span><span class="p">,</span> <span class="n">errno</span><span class="o">.</span><span class="n">EINVAL</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_glob_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">_check</span><span class="p">(</span><span class="n">glob</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">glob</span><span class="p">),</span> <span class="p">{</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">expected</span> <span class="p">})</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">it</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;fileA&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">)</span>
        <span class="n">_check</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;fileA&quot;</span><span class="p">])</span>
        <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;fileB&quot;</span><span class="p">),</span> <span class="p">[])</span>
        <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;dir*/file*&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&quot;dirB/fileB&quot;</span><span class="p">,</span> <span class="s">&quot;dirC/fileC&quot;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">symlink_skip_reason</span><span class="p">:</span>
            <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;*A&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&#39;dirA&#39;</span><span class="p">,</span> <span class="s">&#39;fileA&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;*A&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&#39;dirA&#39;</span><span class="p">,</span> <span class="s">&#39;fileA&#39;</span><span class="p">,</span> <span class="s">&#39;linkA&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">symlink_skip_reason</span><span class="p">:</span>
            <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;*B/*&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&#39;dirB/fileB&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;*B/*&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&#39;dirB/fileB&#39;</span><span class="p">,</span> <span class="s">&#39;dirB/linkD&#39;</span><span class="p">,</span>
                                    <span class="s">&#39;linkB/fileB&#39;</span><span class="p">,</span> <span class="s">&#39;linkB/linkD&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">symlink_skip_reason</span><span class="p">:</span>
            <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;*/fileB&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&#39;dirB/fileB&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;*/fileB&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&#39;dirB/fileB&#39;</span><span class="p">,</span> <span class="s">&#39;linkB/fileB&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_rglob_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">_check</span><span class="p">(</span><span class="n">glob</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">glob</span><span class="p">),</span> <span class="p">{</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">expected</span> <span class="p">})</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">it</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s">&quot;fileA&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterator</span><span class="p">)</span>
        <span class="c"># XXX cannot test because of symlink loops in the test setup</span>
        <span class="c">#_check(it, [&quot;fileA&quot;])</span>
        <span class="c">#_check(p.rglob(&quot;fileB&quot;), [&quot;dirB/fileB&quot;])</span>
        <span class="c">#_check(p.rglob(&quot;*/fileA&quot;), [&quot;&quot;])</span>
        <span class="c">#_check(p.rglob(&quot;*/fileB&quot;), [&quot;dirB/fileB&quot;])</span>
        <span class="c">#_check(p.rglob(&quot;file*&quot;), [&quot;fileA&quot;, &quot;dirB/fileB&quot;])</span>
        <span class="c"># No symlink loops here</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&quot;dirC&quot;</span><span class="p">)</span>
        <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s">&quot;file*&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&quot;dirC/fileC&quot;</span><span class="p">,</span> <span class="s">&quot;dirC/dirD/fileD&quot;</span><span class="p">])</span>
        <span class="n">_check</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s">&quot;*/*&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&quot;dirC/dirD/fileD&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_glob_dotdot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># &quot;..&quot; is not special in globs</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;..&quot;</span><span class="p">)),</span> <span class="p">{</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&quot;..&quot;</span><span class="p">)</span> <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;dirA/../file*&quot;</span><span class="p">)),</span> <span class="p">{</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&quot;dirA/../fileA&quot;</span><span class="p">)</span> <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;../xyzzy&quot;</span><span class="p">)),</span> <span class="nb">set</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_check_resolve_relative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_check_resolve_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>

    <span class="nd">@with_symlinks</span>
    <span class="k">def</span> <span class="nf">test_resolve_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OSError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">p</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">errno</span><span class="p">,</span> <span class="n">errno</span><span class="o">.</span><span class="n">ENOENT</span><span class="p">)</span>
        <span class="c"># These are all relative symlinks</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="s">&#39;fileB&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_resolve_relative</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;linkA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_resolve_relative</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;fileA&#39;</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;dirA&#39;</span><span class="p">,</span> <span class="s">&#39;linkC&#39;</span><span class="p">,</span> <span class="s">&#39;fileB&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_resolve_relative</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="s">&#39;fileB&#39;</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="s">&#39;linkD&#39;</span><span class="p">,</span> <span class="s">&#39;fileB&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_resolve_relative</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="s">&#39;fileB&#39;</span><span class="p">))</span>
        <span class="c"># Now create absolute symlinks</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s">&#39;-dirD&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCleanup</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">rmtree</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;dirA&#39;</span><span class="p">,</span> <span class="s">&#39;linkX&#39;</span><span class="p">))</span>
        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;dirB&#39;</span><span class="p">),</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s">&#39;linkY&#39;</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;dirA&#39;</span><span class="p">,</span> <span class="s">&#39;linkX&#39;</span><span class="p">,</span> <span class="s">&#39;linkY&#39;</span><span class="p">,</span> <span class="s">&#39;fileB&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_resolve_absolute</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="s">&#39;fileB&#39;</span><span class="p">))</span>

    <span class="nd">@with_symlinks</span>
    <span class="k">def</span> <span class="nf">test_resolve_dot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># See https://bitbucket.org/pitrou/pathlib/issue/9/pathresolve-fails-on-complex-symlinks</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;0&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;0&#39;</span><span class="p">,</span> <span class="s">&#39;0&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;1&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;1&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;2&#39;</span><span class="p">))</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">p</span> <span class="o">/</span> <span class="s">&#39;2&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">resolve</span><span class="p">(),</span> <span class="n">p</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_with</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">it</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span>
        <span class="n">it2</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span>
        <span class="nb">next</span><span class="p">(</span><span class="n">it2</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">p</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="c"># I/O operation on closed path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">next</span><span class="p">,</span> <span class="n">it</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">next</span><span class="p">,</span> <span class="n">it2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">open</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">resolve</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">absolute</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">__enter__</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_chmod</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mode</span>
        <span class="c"># Clear writable bit</span>
        <span class="n">new_mode</span> <span class="o">=</span> <span class="n">mode</span> <span class="o">&amp;</span> <span class="o">~</span><span class="mi">0</span><span class="n">o222</span>
        <span class="n">p</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">new_mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mode</span><span class="p">,</span> <span class="n">new_mode</span><span class="p">)</span>
        <span class="c"># Set writable bit</span>
        <span class="n">new_mode</span> <span class="o">=</span> <span class="n">mode</span> <span class="o">|</span> <span class="mi">0</span><span class="n">o222</span>
        <span class="n">p</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">new_mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mode</span><span class="p">,</span> <span class="n">new_mode</span><span class="p">)</span>

    <span class="c"># XXX also need a test for lchmod</span>

    <span class="k">def</span> <span class="nf">test_stat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">(),</span> <span class="n">st</span><span class="p">)</span>
        <span class="c"># Change file mode by flipping write bit</span>
        <span class="n">p</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">st_mode</span> <span class="o">^</span> <span class="mi">0</span><span class="n">o222</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCleanup</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">chmod</span><span class="p">,</span> <span class="n">st</span><span class="o">.</span><span class="n">st_mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">(),</span> <span class="n">st</span><span class="p">)</span>

    <span class="nd">@with_symlinks</span>
    <span class="k">def</span> <span class="nf">test_lstat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span><span class="o">/</span> <span class="s">&#39;linkA&#39;</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">lstat</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_lstat_nosymlink</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">st</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">lstat</span><span class="p">())</span>

    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="n">pwd</span><span class="p">,</span> <span class="s">&quot;the pwd module is needed for this test&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_owner</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="n">uid</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_uid</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">pwd</span><span class="o">.</span><span class="n">getpwuid</span><span class="p">(</span><span class="n">uid</span><span class="p">)</span><span class="o">.</span><span class="n">pw_name</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span>
                <span class="s">&quot;user </span><span class="si">%d</span><span class="s"> doesn&#39;t have an entry in the system database&quot;</span> <span class="o">%</span> <span class="n">uid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">owner</span><span class="p">())</span>

    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="n">grp</span><span class="p">,</span> <span class="s">&quot;the grp module is needed for this test&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="n">gid</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_gid</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">grp</span><span class="o">.</span><span class="n">getgrgid</span><span class="p">(</span><span class="n">gid</span><span class="p">)</span><span class="o">.</span><span class="n">gr_name</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span>
                <span class="s">&quot;group </span><span class="si">%d</span><span class="s"> doesn&#39;t have an entry in the system database&quot;</span> <span class="o">%</span> <span class="n">gid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_unlink</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="n">p</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFileNotFound</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFileNotFound</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">unlink</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_rmdir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span>
        <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
            <span class="n">q</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
        <span class="n">p</span><span class="o">.</span><span class="n">rmdir</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFileNotFound</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFileNotFound</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">unlink</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_rename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span>
        <span class="c"># Renaming to another path</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span> <span class="o">/</span> <span class="s">&#39;fileAA&#39;</span>
        <span class="n">p</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFileNotFound</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">)</span>
        <span class="c"># Renaming to a str of a relative path</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">rel_join</span><span class="p">(</span><span class="s">&#39;fileAAA&#39;</span><span class="p">)</span>
        <span class="n">q</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">.</span><span class="n">st_size</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFileNotFound</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">stat</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_replace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span>
        <span class="c"># Replacing a non-existing path</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span> <span class="o">/</span> <span class="s">&#39;fileAA&#39;</span>
        <span class="n">p</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFileNotFound</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">)</span>
        <span class="c"># Replacing another (existing) path</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">rel_join</span><span class="p">(</span><span class="s">&#39;dirB&#39;</span><span class="p">,</span> <span class="s">&#39;fileB&#39;</span><span class="p">)</span>
        <span class="n">q</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">.</span><span class="n">st_size</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFileNotFound</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">stat</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_touch_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;newfileA&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="n">p</span><span class="o">.</span><span class="n">touch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
        <span class="n">old_mtime</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">st_mtime</span>
        <span class="n">old_mtime_ns</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">st_mtime_ns</span>
        <span class="c"># Rewind the mtime sufficiently far in the past to work around</span>
        <span class="c"># filesystem-specific timestamp granularity.</span>
        <span class="n">os</span><span class="o">.</span><span class="n">utime</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="p">(</span><span class="n">old_mtime</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="n">old_mtime</span> <span class="o">-</span> <span class="mi">10</span><span class="p">))</span>
        <span class="c"># The file mtime should be refreshed by calling touch() again</span>
        <span class="n">p</span><span class="o">.</span><span class="n">touch</span><span class="p">()</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">st_mtime_ns</span><span class="p">,</span> <span class="n">old_mtime_ns</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">st_mtime</span><span class="p">,</span> <span class="n">old_mtime</span><span class="p">)</span>
        <span class="c"># Now with exist_ok=False</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;newfileB&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="n">p</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="mi">0</span><span class="n">o700</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">touch</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_touch_nochange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="n">p</span><span class="o">.</span><span class="n">touch</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">p</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">b</span><span class="s">&quot;this is file A&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;newdirA&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="n">p</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OSError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">p</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">errno</span><span class="p">,</span> <span class="n">errno</span><span class="o">.</span><span class="n">EEXIST</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_mkdir_parents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Creating a chain of directories</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;newdirB&#39;</span><span class="p">,</span> <span class="s">&#39;newdirC&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OSError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">p</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">errno</span><span class="p">,</span> <span class="n">errno</span><span class="o">.</span><span class="n">ENOENT</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OSError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">p</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">errno</span><span class="p">,</span> <span class="n">errno</span><span class="o">.</span><span class="n">EEXIST</span><span class="p">)</span>
        <span class="c"># test `mode` arg</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mode</span><span class="p">)</span> <span class="c"># default mode</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;newdirD&#39;</span><span class="p">,</span> <span class="s">&#39;newdirE&#39;</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="mi">0</span><span class="n">o555</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="s">&#39;nt&#39;</span><span class="p">:</span>
            <span class="c"># the directory&#39;s permissions follow the mode argument</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mode</span><span class="p">),</span> <span class="mi">0</span><span class="n">o7555</span> <span class="o">&amp;</span> <span class="n">mode</span><span class="p">)</span>
        <span class="c"># the parent&#39;s permissions follow the default process settings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_mode</span><span class="p">),</span> <span class="n">mode</span><span class="p">)</span>

    <span class="nd">@with_symlinks</span>
    <span class="k">def</span> <span class="nf">test_symlink_to</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span>
        <span class="c"># Symlinking a path target</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span> <span class="o">/</span> <span class="s">&#39;linkAA&#39;</span>
        <span class="n">link</span><span class="o">.</span><span class="n">symlink_to</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">stat</span><span class="p">(),</span> <span class="n">target</span><span class="o">.</span><span class="n">stat</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">lstat</span><span class="p">(),</span> <span class="n">target</span><span class="o">.</span><span class="n">stat</span><span class="p">())</span>
        <span class="c"># Symlinking a str target</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span> <span class="o">/</span> <span class="s">&#39;linkAAA&#39;</span>
        <span class="n">link</span><span class="o">.</span><span class="n">symlink_to</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">target</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">stat</span><span class="p">(),</span> <span class="n">target</span><span class="o">.</span><span class="n">stat</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">lstat</span><span class="p">(),</span> <span class="n">target</span><span class="o">.</span><span class="n">stat</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
        <span class="c"># Symlinking to a directory</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirB&#39;</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span> <span class="o">/</span> <span class="s">&#39;linkAAAA&#39;</span>
        <span class="n">link</span><span class="o">.</span><span class="n">symlink_to</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">target_is_directory</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">stat</span><span class="p">(),</span> <span class="n">target</span><span class="o">.</span><span class="n">stat</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">lstat</span><span class="p">(),</span> <span class="n">target</span><span class="o">.</span><span class="n">stat</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()))</span>

    <span class="k">def</span> <span class="nf">test_is_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;non-existing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">symlink_skip_reason</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;linkA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;linkB&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span><span class="o">/</span> <span class="s">&#39;brokenLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_dir</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_is_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;non-existing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">symlink_skip_reason</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;linkA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;linkB&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span><span class="o">/</span> <span class="s">&#39;brokenLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_is_symlink</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_symlink</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_symlink</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;non-existing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_symlink</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">symlink_skip_reason</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;linkA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_symlink</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;linkB&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_symlink</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="n">P</span><span class="o">/</span> <span class="s">&#39;brokenLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_symlink</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_is_fifo_false</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_fifo</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_fifo</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;non-existing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_fifo</span><span class="p">())</span>

    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">os</span><span class="p">,</span> <span class="s">&quot;mkfifo&quot;</span><span class="p">),</span> <span class="s">&quot;os.mkfifo() required&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_is_fifo_true</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;myfifo&#39;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkfifo</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">P</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">is_fifo</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">is_socket</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">is_file</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_is_socket_false</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_socket</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_socket</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;non-existing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_socket</span><span class="p">())</span>

    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">socket</span><span class="p">,</span> <span class="s">&quot;AF_UNIX&quot;</span><span class="p">),</span> <span class="s">&quot;Unix sockets required&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_is_socket_true</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;mysock&#39;</span><span class="p">)</span>
        <span class="n">sock</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_UNIX</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCleanup</span><span class="p">(</span><span class="n">sock</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sock</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">P</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="s">&quot;AF_UNIX path too long&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&quot;cannot bind Unix socket: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">is_socket</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">is_fifo</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">is_file</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_is_block_device_false</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_block_device</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_block_device</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;non-existing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_block_device</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_is_char_device_false</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_char_device</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;dirA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_char_device</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;non-existing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_char_device</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_is_char_device_true</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Under Unix, /dev/null should generally be a char device</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;/dev/null&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">P</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&quot;/dev/null required&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">is_char_device</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">is_block_device</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">is_file</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_pickling_common</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;fileA&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">proto</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">dumped</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">proto</span><span class="p">)</span>
            <span class="n">pp</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">dumped</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pp</span><span class="o">.</span><span class="n">stat</span><span class="p">(),</span> <span class="n">p</span><span class="o">.</span><span class="n">stat</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_parts_interning</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/usr/bin/foo&#39;</span><span class="p">)</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="s">&#39;/usr/local/bin&#39;</span><span class="p">)</span>
        <span class="c"># &#39;usr&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">q</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="c"># &#39;bin&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">q</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_check_complex_symlinks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link0_target</span><span class="p">):</span>
        <span class="c"># Test solving a non-looping chain of symlinks (issue #19887)</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;link0&#39;</span><span class="p">,</span> <span class="s">&#39;link0&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;link1&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;link1&#39;</span><span class="p">,</span> <span class="s">&#39;link1&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;link2&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;link2&#39;</span><span class="p">,</span> <span class="s">&#39;link2&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;link3&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dirlink</span><span class="p">(</span><span class="n">link0_target</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;link0&#39;</span><span class="p">))</span>

        <span class="c"># Resolve absolute paths</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;link0&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">BASE</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;link1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">BASE</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;link2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">BASE</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">P</span> <span class="o">/</span> <span class="s">&#39;link3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">BASE</span><span class="p">)</span>

        <span class="c"># Resolve relative paths</span>
        <span class="n">old_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;link0&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">BASE</span><span class="p">)</span>
            <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;link1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">BASE</span><span class="p">)</span>
            <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;link2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">BASE</span><span class="p">)</span>
            <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;link3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">P</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">BASE</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">old_path</span><span class="p">)</span>

    <span class="nd">@with_symlinks</span>
    <span class="k">def</span> <span class="nf">test_complex_symlinks_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_complex_symlinks</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>

    <span class="nd">@with_symlinks</span>
    <span class="k">def</span> <span class="nf">test_complex_symlinks_relative</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_complex_symlinks</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>

    <span class="nd">@with_symlinks</span>
    <span class="k">def</span> <span class="nf">test_complex_symlinks_relative_dot_dot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_complex_symlinks</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;dirA&#39;</span><span class="p">,</span> <span class="s">&#39;..&#39;</span><span class="p">))</span>


<div class="viewcode-block" id="PathTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PathTest">[docs]</a><span class="k">class</span> <span class="nc">PathTest</span><span class="p">(</span><span class="n">_BasePathTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">cls</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span>

<div class="viewcode-block" id="PathTest.test_concrete_class"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PathTest.test_concrete_class">[docs]</a>    <span class="k">def</span> <span class="nf">test_concrete_class</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">p</span><span class="p">),</span>
            <span class="n">pathlib</span><span class="o">.</span><span class="n">WindowsPath</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">&#39;nt&#39;</span> <span class="k">else</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PosixPath</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PathTest.test_unsupported_flavour"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PathTest.test_unsupported_flavour">[docs]</a>    <span class="k">def</span> <span class="nf">test_unsupported_flavour</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s">&#39;nt&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">NotImplementedError</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PosixPath</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">NotImplementedError</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">WindowsPath</span><span class="p">)</span>

</div></div>
<span class="nd">@only_posix</span>
<div class="viewcode-block" id="PosixPathTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixPathTest">[docs]</a><span class="k">class</span> <span class="nc">PosixPathTest</span><span class="p">(</span><span class="n">_BasePathTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">cls</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">PosixPath</span>

    <span class="k">def</span> <span class="nf">_check_symlink_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">RuntimeError</span><span class="p">):</span>
            <span class="k">print</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">resolve</span><span class="p">())</span>

<div class="viewcode-block" id="PosixPathTest.test_open_mode"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixPathTest.test_open_mode">[docs]</a>    <span class="k">def</span> <span class="nf">test_open_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">old_mask</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">umask</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCleanup</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">umask</span><span class="p">,</span> <span class="n">old_mask</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="k">with</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;new_file&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;wb&#39;</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;new_file&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">st_mode</span><span class="p">),</span> <span class="mi">0</span><span class="n">o666</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">umask</span><span class="p">(</span><span class="mi">0</span><span class="n">o022</span><span class="p">)</span>
        <span class="k">with</span> <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;other_new_file&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;wb&#39;</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;other_new_file&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">st_mode</span><span class="p">),</span> <span class="mi">0</span><span class="n">o644</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PosixPathTest.test_touch_mode"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixPathTest.test_touch_mode">[docs]</a>    <span class="k">def</span> <span class="nf">test_touch_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">old_mask</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">umask</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addCleanup</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">umask</span><span class="p">,</span> <span class="n">old_mask</span><span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;new_file&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">touch</span><span class="p">()</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;new_file&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">st_mode</span><span class="p">),</span> <span class="mi">0</span><span class="n">o666</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">umask</span><span class="p">(</span><span class="mi">0</span><span class="n">o022</span><span class="p">)</span>
        <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;other_new_file&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">touch</span><span class="p">()</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;other_new_file&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">st_mode</span><span class="p">),</span> <span class="mi">0</span><span class="n">o644</span><span class="p">)</span>
        <span class="p">(</span><span class="n">p</span> <span class="o">/</span> <span class="s">&#39;masked_new_file&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="mi">0</span><span class="n">o750</span><span class="p">)</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;masked_new_file&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">stat</span><span class="o">.</span><span class="n">S_IMODE</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">st_mode</span><span class="p">),</span> <span class="mi">0</span><span class="n">o750</span><span class="p">)</span>
</div>
    <span class="nd">@with_symlinks</span>
<div class="viewcode-block" id="PosixPathTest.test_resolve_loop"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixPathTest.test_resolve_loop">[docs]</a>    <span class="k">def</span> <span class="nf">test_resolve_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Loop detection for broken symlinks under POSIX</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="c"># Loops with relative symlinks</span>
        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="s">&#39;linkX/inside&#39;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;linkX&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_symlink_loop</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;linkX&#39;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="s">&#39;linkY&#39;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;linkY&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_symlink_loop</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;linkY&#39;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="s">&#39;linkZ/../linkZ&#39;</span><span class="p">,</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;linkZ&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_symlink_loop</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;linkZ&#39;</span><span class="p">)</span>
        <span class="c"># Loops with absolute symlinks</span>
        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;linkU/inside&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;linkU&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_symlink_loop</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;linkU&#39;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;linkV&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;linkV&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_symlink_loop</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;linkV&#39;</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">symlink</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;linkW/../linkW&#39;</span><span class="p">),</span> <span class="n">join</span><span class="p">(</span><span class="s">&#39;linkW&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_check_symlink_loop</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&#39;linkW&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PosixPathTest.test_glob"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixPathTest.test_glob">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="n">given</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;FILEa&quot;</span><span class="p">))</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">support</span><span class="o">.</span><span class="n">fs_is_case_insensitive</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span> <span class="k">else</span> <span class="n">given</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">given</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;FILEa*&quot;</span><span class="p">)),</span> <span class="nb">set</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="PosixPathTest.test_rglob"><a class="viewcode-back" href="../../test.html#test.test_pathlib.PosixPathTest.test_rglob">[docs]</a>    <span class="k">def</span> <span class="nf">test_rglob</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&quot;dirC&quot;</span><span class="p">)</span>
        <span class="n">given</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s">&quot;FILEd&quot;</span><span class="p">))</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">support</span><span class="o">.</span><span class="n">fs_is_case_insensitive</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span> <span class="k">else</span> <span class="n">given</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">given</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s">&quot;FILEd*&quot;</span><span class="p">)),</span> <span class="nb">set</span><span class="p">())</span>

</div></div>
<span class="nd">@only_nt</span>
<div class="viewcode-block" id="WindowsPathTest"><a class="viewcode-back" href="../../test.html#test.test_pathlib.WindowsPathTest">[docs]</a><span class="k">class</span> <span class="nc">WindowsPathTest</span><span class="p">(</span><span class="n">_BasePathTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">cls</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">WindowsPath</span>

<div class="viewcode-block" id="WindowsPathTest.test_glob"><a class="viewcode-back" href="../../test.html#test.test_pathlib.WindowsPathTest.test_glob">[docs]</a>    <span class="k">def</span> <span class="nf">test_glob</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;FILEa&quot;</span><span class="p">)),</span> <span class="p">{</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&quot;fileA&quot;</span><span class="p">)</span> <span class="p">})</span>
</div>
<div class="viewcode-block" id="WindowsPathTest.test_rglob"><a class="viewcode-back" href="../../test.html#test.test_pathlib.WindowsPathTest.test_rglob">[docs]</a>    <span class="k">def</span> <span class="nf">test_rglob</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cls</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&quot;dirC&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s">&quot;FILEd&quot;</span><span class="p">)),</span> <span class="p">{</span> <span class="n">P</span><span class="p">(</span><span class="n">BASE</span><span class="p">,</span> <span class="s">&quot;dirC/dirD/fileD&quot;</span><span class="p">)</span> <span class="p">})</span>

</div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>