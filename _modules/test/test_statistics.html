

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_statistics &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_statistics</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_statistics</h1><div class="highlight"><pre>
<span class="sd">&quot;&quot;&quot;Test suite for statistics module, including helper NumericTestCase and</span>
<span class="sd">approx_equal function.</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">decimal</span>
<span class="kn">import</span> <span class="nn">doctest</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">types</span>
<span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>
<span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>


<span class="c"># Module to be tested.</span>
<span class="kn">import</span> <span class="nn">statistics</span>


<span class="c"># === Helper functions and class ===</span>

<span class="k">def</span> <span class="nf">_calc_errors</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the absolute and relative errors between two numbers.</span>

<span class="sd">    &gt;&gt;&gt; _calc_errors(100, 75)</span>
<span class="sd">    (25, 0.25)</span>
<span class="sd">    &gt;&gt;&gt; _calc_errors(100, 100)</span>
<span class="sd">    (0, 0.0)</span>

<span class="sd">    Returns the (absolute error, relative error) between the two arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">base</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">actual</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">expected</span><span class="p">))</span>
    <span class="n">abs_err</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">actual</span> <span class="o">-</span> <span class="n">expected</span><span class="p">)</span>
    <span class="n">rel_err</span> <span class="o">=</span> <span class="n">abs_err</span><span class="o">/</span><span class="n">base</span> <span class="k">if</span> <span class="n">base</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">abs_err</span><span class="p">,</span> <span class="n">rel_err</span><span class="p">)</span>


<div class="viewcode-block" id="approx_equal"><a class="viewcode-back" href="../../test.html#test.test_statistics.approx_equal">[docs]</a><span class="k">def</span> <span class="nf">approx_equal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-12</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">1e-7</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;approx_equal(x, y [, tol [, rel]]) =&gt; True|False</span>

<span class="sd">    Return True if numbers x and y are approximately equal, to within some</span>
<span class="sd">    margin of error, otherwise return False. Numbers which compare equal</span>
<span class="sd">    will also compare approximately equal.</span>

<span class="sd">    x is approximately equal to y if the difference between them is less than</span>
<span class="sd">    an absolute error tol or a relative error rel, whichever is bigger.</span>

<span class="sd">    If given, both tol and rel must be finite, non-negative numbers. If not</span>
<span class="sd">    given, default values are tol=1e-12 and rel=1e-7.</span>

<span class="sd">    &gt;&gt;&gt; approx_equal(1.2589, 1.2587, tol=0.0003, rel=0)</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; approx_equal(1.2589, 1.2587, tol=0.0001, rel=0)</span>
<span class="sd">    False</span>

<span class="sd">    Absolute error is defined as abs(x-y); if that is less than or equal to</span>
<span class="sd">    tol, x and y are considered approximately equal.</span>

<span class="sd">    Relative error is defined as abs((x-y)/x) or abs((x-y)/y), whichever is</span>
<span class="sd">    smaller, provided x or y are not zero. If that figure is less than or</span>
<span class="sd">    equal to rel, x and y are considered approximately equal.</span>

<span class="sd">    Complex numbers are not directly supported. If you wish to compare to</span>
<span class="sd">    complex numbers, extract their real and imaginary parts and compare them</span>
<span class="sd">    individually.</span>

<span class="sd">    NANs always compare unequal, even with themselves. Infinities compare</span>
<span class="sd">    approximately equal if they have the same sign (both positive or both</span>
<span class="sd">    negative). Infinities with different signs compare unequal; so do</span>
<span class="sd">    comparisons of infinities with finite numbers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">tol</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">rel</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;error tolerances must be non-negative&#39;</span><span class="p">)</span>
    <span class="c"># NANs are never equal to anything, approximately or otherwise.</span>
    <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">or</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="c"># Numbers which compare equal also compare approximately equal.</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
        <span class="c"># This includes the case of two infinities with the same sign.</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">or</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
        <span class="c"># This includes the case of two infinities of opposite sign, or</span>
        <span class="c"># one infinity and one finite number.</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="c"># Two finite numbers.</span>
    <span class="n">actual_error</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">allowed_error</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">actual_error</span> <span class="o">&lt;=</span> <span class="n">allowed_error</span>


<span class="c"># This class exists only as somewhere to stick a docstring containing</span>
<span class="c"># doctests. The following docstring and tests were originally in a separate</span>
<span class="c"># module. Now that it has been merged in here, I need somewhere to hang the.</span>
<span class="c"># docstring. Ultimately, this class will die, and the information below will</span>
<span class="c"># either become redundant, or be moved into more appropriate places.</span></div>
<span class="k">class</span> <span class="nc">_DoNothing</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    When doing numeric work, especially with floats, exact equality is often</span>
<span class="sd">    not what you want. Due to round-off error, it is often a bad idea to try</span>
<span class="sd">    to compare floats with equality. Instead the usual procedure is to test</span>
<span class="sd">    them with some (hopefully small!) allowance for error.</span>

<span class="sd">    The ``approx_equal`` function allows you to specify either an absolute</span>
<span class="sd">    error tolerance, or a relative error, or both.</span>

<span class="sd">    Absolute error tolerances are simple, but you need to know the magnitude</span>
<span class="sd">    of the quantities being compared:</span>

<span class="sd">    &gt;&gt;&gt; approx_equal(12.345, 12.346, tol=1e-3)</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; approx_equal(12.345e6, 12.346e6, tol=1e-3)  # tol is too small.</span>
<span class="sd">    False</span>

<span class="sd">    Relative errors are more suitable when the values you are comparing can</span>
<span class="sd">    vary in magnitude:</span>

<span class="sd">    &gt;&gt;&gt; approx_equal(12.345, 12.346, rel=1e-4)</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; approx_equal(12.345e6, 12.346e6, rel=1e-4)</span>
<span class="sd">    True</span>

<span class="sd">    but a naive implementation of relative error testing can run into trouble</span>
<span class="sd">    around zero.</span>

<span class="sd">    If you supply both an absolute tolerance and a relative error, the</span>
<span class="sd">    comparison succeeds if either individual test succeeds:</span>

<span class="sd">    &gt;&gt;&gt; approx_equal(12.345e6, 12.346e6, tol=1e-3, rel=1e-4)</span>
<span class="sd">    True</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>



<span class="c"># We prefer this for testing numeric values that may not be exactly equal,</span>
<span class="c"># and avoid using TestCase.assertAlmostEqual, because it sucks :-)</span>

<div class="viewcode-block" id="NumericTestCase"><a class="viewcode-back" href="../../test.html#test.test_statistics.NumericTestCase">[docs]</a><span class="k">class</span> <span class="nc">NumericTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Unit test class for numeric work.</span>

<span class="sd">    This subclasses TestCase. In addition to the standard method</span>
<span class="sd">    ``TestCase.assertAlmostEqual``,  ``assertApproxEqual`` is provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># By default, we expect exact equality, unless overridden.</span>
    <span class="n">tol</span> <span class="o">=</span> <span class="n">rel</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="NumericTestCase.assertApproxEqual"><a class="viewcode-back" href="../../test.html#test.test_statistics.NumericTestCase.assertApproxEqual">[docs]</a>    <span class="k">def</span> <span class="nf">assertApproxEqual</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="bp">None</span>
            <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Test passes if ``first`` and ``second`` are approximately equal.</span>

<span class="sd">        This test passes if ``first`` and ``second`` are equal to</span>
<span class="sd">        within ``tol``, an absolute error, or ``rel``, a relative error.</span>

<span class="sd">        If either ``tol`` or ``rel`` are None or not given, they default to</span>
<span class="sd">        test attributes of the same name (by default, 0).</span>

<span class="sd">        The objects may be either numbers, or sequences of numbers. Sequences</span>
<span class="sd">        are tested element-by-element.</span>

<span class="sd">        &gt;&gt;&gt; class MyTest(NumericTestCase):</span>
<span class="sd">        ...     def test_number(self):</span>
<span class="sd">        ...         x = 1.0/6</span>
<span class="sd">        ...         y = sum([x]*6)</span>
<span class="sd">        ...         self.assertApproxEqual(y, 1.0, tol=1e-15)</span>
<span class="sd">        ...     def test_sequence(self):</span>
<span class="sd">        ...         a = [1.001, 1.001e-10, 1.001e10]</span>
<span class="sd">        ...         b = [1.0, 1e-10, 1e10]</span>
<span class="sd">        ...         self.assertApproxEqual(a, b, rel=1e-3)</span>
<span class="sd">        ...</span>
<span class="sd">        &gt;&gt;&gt; import unittest</span>
<span class="sd">        &gt;&gt;&gt; from io import StringIO  # Suppress test runner output.</span>
<span class="sd">        &gt;&gt;&gt; suite = unittest.TestLoader().loadTestsFromTestCase(MyTest)</span>
<span class="sd">        &gt;&gt;&gt; unittest.TextTestRunner(stream=StringIO()).run(suite)</span>
<span class="sd">        &lt;unittest.runner.TextTestResult run=2 errors=0 failures=0&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">tol</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">tol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tol</span>
        <span class="k">if</span> <span class="n">rel</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rel</span>
        <span class="k">if</span> <span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">)</span> <span class="ow">and</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">second</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Sequence</span><span class="p">)</span>
            <span class="p">):</span>
            <span class="n">check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_approx_seq</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_approx_num</span>
        <span class="n">check</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_check_approx_seq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">first</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">second</span><span class="p">):</span>
            <span class="n">standardMsg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s">&quot;sequences differ in length: </span><span class="si">%d</span><span class="s"> items != </span><span class="si">%d</span><span class="s"> items&quot;</span>
                <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">first</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">second</span><span class="p">))</span>
                <span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_formatMessage</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">standardMsg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">failureException</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">e</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_check_approx_num</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_check_approx_num</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">approx_equal</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">):</span>
            <span class="c"># Test passes. Return early, we are done.</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="c"># Otherwise we failed.</span>
        <span class="n">standardMsg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_std_err_msg</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">idx</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_formatMessage</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">standardMsg</span><span class="p">)</span>
        <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">failureException</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_make_std_err_msg</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
        <span class="c"># Create the standard error message for approx_equal failures.</span>
        <span class="k">assert</span> <span class="n">first</span> <span class="o">!=</span> <span class="n">second</span>
        <span class="n">template</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s">&#39;  </span><span class="si">%r</span><span class="s"> != </span><span class="si">%r</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="s">&#39;  values differ by more than tol=</span><span class="si">%r</span><span class="s"> and rel=</span><span class="si">%r</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="s">&#39;  -&gt; absolute error = </span><span class="si">%r</span><span class="se">\n</span><span class="s">&#39;</span>
            <span class="s">&#39;  -&gt; relative error = </span><span class="si">%r</span><span class="s">&#39;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">header</span> <span class="o">=</span> <span class="s">&#39;numeric sequences first differ at index </span><span class="si">%d</span><span class="s">.</span><span class="se">\n</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">idx</span>
            <span class="n">template</span> <span class="o">=</span> <span class="n">header</span> <span class="o">+</span> <span class="n">template</span>
        <span class="c"># Calculate actual errors:</span>
        <span class="n">abs_err</span><span class="p">,</span> <span class="n">rel_err</span> <span class="o">=</span> <span class="n">_calc_errors</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">template</span> <span class="o">%</span> <span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">abs_err</span><span class="p">,</span> <span class="n">rel_err</span><span class="p">)</span>


<span class="c"># ========================</span>
<span class="c"># === Test the helpers ===</span>
<span class="c"># ========================</span>


<span class="c"># --- Tests for approx_equal ---</span>
</div>
<div class="viewcode-block" id="ApproxEqualSymmetryTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSymmetryTest">[docs]</a><span class="k">class</span> <span class="nc">ApproxEqualSymmetryTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Test symmetry of approx_equal.</span>

<div class="viewcode-block" id="ApproxEqualSymmetryTest.test_relative_symmetry"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSymmetryTest.test_relative_symmetry">[docs]</a>    <span class="k">def</span> <span class="nf">test_relative_symmetry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that approx_equal treats relative error symmetrically.</span>
        <span class="c"># (a-b)/a is usually not equal to (a-b)/b. Ensure that this</span>
        <span class="c"># doesn&#39;t matter.</span>
        <span class="c">#</span>
        <span class="c">#   Note: the reason for this test is that an early version</span>
        <span class="c">#   of approx_equal was not symmetric. A relative error test</span>
        <span class="c">#   would pass, or fail, depending on which value was passed</span>
        <span class="c">#   as the first argument.</span>
        <span class="c">#</span>
        <span class="n">args1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2456</span><span class="p">,</span> <span class="mf">37.8</span><span class="p">,</span> <span class="o">-</span><span class="mf">12.45</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;2.54&#39;</span><span class="p">),</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">54</span><span class="p">)]</span>
        <span class="n">args2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2459</span><span class="p">,</span> <span class="mf">37.2</span><span class="p">,</span> <span class="o">-</span><span class="mf">12.41</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;2.59&#39;</span><span class="p">),</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">54</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">args1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">args2</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">args1</span><span class="p">,</span> <span class="n">args2</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_relative_symmetry</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualSymmetryTest.do_relative_symmetry"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSymmetryTest.do_relative_symmetry">[docs]</a>    <span class="k">def</span> <span class="nf">do_relative_symmetry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span>  <span class="c"># The absolute difference between the values.</span>
        <span class="n">rel_err1</span><span class="p">,</span> <span class="n">rel_err2</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">delta</span><span class="o">/</span><span class="n">a</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="n">delta</span><span class="o">/</span><span class="n">b</span><span class="p">)</span>
        <span class="c"># Choose an error margin halfway between the two.</span>
        <span class="n">rel</span> <span class="o">=</span> <span class="p">(</span><span class="n">rel_err1</span> <span class="o">+</span> <span class="n">rel_err2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
        <span class="c"># Now see that values a and b compare approx equal regardless of</span>
        <span class="c"># which is given first.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">rel</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">rel</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ApproxEqualSymmetryTest.test_symmetry"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSymmetryTest.test_symmetry">[docs]</a>    <span class="k">def</span> <span class="nf">test_symmetry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that approx_equal(a, b) == approx_equal(b, a)</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">23</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mi">93568</span><span class="p">]</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">):</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">type_</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">delta</span>
                <span class="n">r</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">delta</span><span class="o">/</span><span class="nb">max</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
                <span class="c"># There are five cases to check:</span>
                <span class="c"># 1) actual error &lt;= tol, &lt;= rel</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_symmetry_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">delta</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">r</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_symmetry_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">delta</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">r</span><span class="p">)</span>
                <span class="c"># 2) actual error &gt; tol, &gt; rel</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_symmetry_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">delta</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">r</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
                <span class="c"># 3) actual error &lt;= tol, &gt; rel</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_symmetry_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">delta</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">r</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
                <span class="c"># 4) actual error &gt; tol, &lt;= rel</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_symmetry_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">delta</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">r</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_symmetry_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">delta</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">r</span><span class="p">)</span>
                <span class="c"># 5) exact equality test</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_symmetry_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_symmetry_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualSymmetryTest.do_symmetry_test"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSymmetryTest.do_symmetry_test">[docs]</a>    <span class="k">def</span> <span class="nf">do_symmetry_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">):</span>
        <span class="n">template</span> <span class="o">=</span> <span class="s">&quot;approx_equal comparisons don&#39;t match for </span><span class="si">%r</span><span class="s">&quot;</span>
        <span class="n">flag1</span> <span class="o">=</span> <span class="n">approx_equal</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">)</span>
        <span class="n">flag2</span> <span class="o">=</span> <span class="n">approx_equal</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">flag1</span><span class="p">,</span> <span class="n">flag2</span><span class="p">,</span> <span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">)))</span>

</div></div>
<div class="viewcode-block" id="ApproxEqualExactTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest">[docs]</a><span class="k">class</span> <span class="nc">ApproxEqualExactTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Test the approx_equal function with exactly equal values.</span>
    <span class="c"># Equal values should compare as approximately equal.</span>
    <span class="c"># Test cases for exactly equal values, which should compare approx</span>
    <span class="c"># equal regardless of the error tolerances given.</span>

<div class="viewcode-block" id="ApproxEqualExactTest.do_exactly_equal_test"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest.do_exactly_equal_test">[docs]</a>    <span class="k">def</span> <span class="nf">do_exactly_equal_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">approx_equal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">rel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s">&#39;equality failure for x=</span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">approx_equal</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">x</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">rel</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s">&#39;equality failure for x=</span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="o">-</span><span class="n">x</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualExactTest.test_exactly_equal_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest.test_exactly_equal_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_equal_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that equal int values are exactly equal.</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="mi">19740</span><span class="p">,</span> <span class="mi">14974</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">1795</span><span class="p">,</span> <span class="mi">700245</span><span class="p">,</span> <span class="mi">36587</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualExactTest.test_exactly_equal_floats"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest.test_exactly_equal_floats">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_equal_floats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that equal float values are exactly equal.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">0.42</span><span class="p">,</span> <span class="mf">1.9740</span><span class="p">,</span> <span class="mf">1497.4</span><span class="p">,</span> <span class="mf">23.0</span><span class="p">,</span> <span class="mf">179.5</span><span class="p">,</span> <span class="mf">70.0245</span><span class="p">,</span> <span class="mf">36.587</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualExactTest.test_exactly_equal_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest.test_exactly_equal_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_equal_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that equal Fraction values are exactly equal.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">36</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualExactTest.test_exactly_equal_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest.test_exactly_equal_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_equal_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that equal Decimal values are exactly equal.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="s">&quot;8.2 31.274 912.04 16.745 1.2047&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualExactTest.test_exactly_equal_absolute"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest.test_exactly_equal_absolute">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_equal_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that equal values are exactly equal with an absolute error.</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">1013</span><span class="p">,</span> <span class="mi">1372</span><span class="p">,</span> <span class="mi">1198</span><span class="p">,</span> <span class="mi">971</span><span class="p">,</span> <span class="mi">4</span><span class="p">]:</span>
            <span class="c"># Test as ints.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="c"># Test as floats.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="c"># Test as Fractions.</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">1234</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualExactTest.test_exactly_equal_absolute_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest.test_exactly_equal_absolute_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_equal_absolute_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test equal Decimal values are exactly equal with an absolute error.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;3.571&quot;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;0.01&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="o">-</span><span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;81.3971&quot;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;0.01&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualExactTest.test_exactly_equal_relative"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest.test_exactly_equal_relative">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_equal_relative</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that equal values are exactly equal with a relative error.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">8347</span><span class="p">,</span> <span class="mf">101.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">7910.28</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">21</span><span class="p">)]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;11.68&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;0.01&quot;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ApproxEqualExactTest.test_exactly_equal_both"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualExactTest.test_exactly_equal_both">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_equal_both</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that equal values are equal when both tol and rel are given.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">41017</span><span class="p">,</span> <span class="mf">16.742</span><span class="p">,</span> <span class="o">-</span><span class="mf">813.02</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_equal_test</span><span class="p">(</span><span class="n">D</span><span class="p">(</span><span class="s">&quot;7.2&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;0.1&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;0.01&quot;</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="ApproxEqualUnequalTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualUnequalTest">[docs]</a><span class="k">class</span> <span class="nc">ApproxEqualUnequalTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Unequal values should compare unequal with zero error tolerances.</span>
    <span class="c"># Test cases for unequal values, with exact equality test.</span>

<div class="viewcode-block" id="ApproxEqualUnequalTest.do_exactly_unequal_test"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualUnequalTest.do_exactly_unequal_test">[docs]</a>    <span class="k">def</span> <span class="nf">do_exactly_unequal_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">x</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">approx_equal</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s">&#39;inequality failure for x=</span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">a</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualUnequalTest.test_exactly_unequal_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualUnequalTest.test_exactly_unequal_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_unequal_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test unequal int values are unequal with zero error tolerance.</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">951</span><span class="p">,</span> <span class="mi">572305</span><span class="p">,</span> <span class="mi">478</span><span class="p">,</span> <span class="mi">917</span><span class="p">,</span> <span class="mi">17240</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_unequal_test</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualUnequalTest.test_exactly_unequal_floats"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualUnequalTest.test_exactly_unequal_floats">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_unequal_floats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test unequal float values are unequal with zero error tolerance.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">9.51</span><span class="p">,</span> <span class="mf">5723.05</span><span class="p">,</span> <span class="mf">47.8</span><span class="p">,</span> <span class="mf">9.17</span><span class="p">,</span> <span class="mf">17.24</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_unequal_test</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualUnequalTest.test_exactly_unequal_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualUnequalTest.test_exactly_unequal_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_unequal_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that unequal Fractions are unequal with zero error tolerance.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">99023</span><span class="p">)]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_unequal_test</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualUnequalTest.test_exactly_unequal_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualUnequalTest.test_exactly_unequal_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_exactly_unequal_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that unequal Decimals are unequal with zero error tolerance.</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">Decimal</span><span class="p">,</span> <span class="s">&quot;3.1415 298.12 3.47 18.996 0.00245&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_exactly_unequal_test</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="ApproxEqualInexactTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest">[docs]</a><span class="k">class</span> <span class="nc">ApproxEqualInexactTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Inexact test cases for approx_error.</span>
    <span class="c"># Test cases when comparing two values that are not exactly equal.</span>

    <span class="c"># === Absolute error tests ===</span>

<div class="viewcode-block" id="ApproxEqualInexactTest.do_approx_equal_abs_test"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.do_approx_equal_abs_test">[docs]</a>    <span class="k">def</span> <span class="nf">do_approx_equal_abs_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">delta</span><span class="p">):</span>
        <span class="n">template</span> <span class="o">=</span> <span class="s">&quot;Test failure for x={!r}, y={!r}&quot;</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">delta</span><span class="p">,</span> <span class="n">x</span> <span class="o">-</span> <span class="n">delta</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">delta</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">msg</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">delta</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">msg</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_absolute_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_absolute_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_absolute_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test approximate equality of ints with an absolute error.</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">10737</span><span class="p">,</span> <span class="o">-</span><span class="mi">1975</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">423</span><span class="p">,</span> <span class="mi">9874</span><span class="p">,</span> <span class="mi">23789110</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_abs_test</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_abs_test</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_absolute_floats"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_absolute_floats">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_absolute_floats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test approximate equality of floats with an absolute error.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mf">284.126</span><span class="p">,</span> <span class="o">-</span><span class="mf">97.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.4</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.15</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">7.8</span><span class="p">,</span> <span class="mf">4.23</span><span class="p">,</span> <span class="mf">3817.4</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_abs_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_abs_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_abs_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_absolute_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_absolute_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_absolute_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test approximate equality of Fractions with an absolute error.</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">29</span><span class="p">)</span>
        <span class="n">numerators</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">84</span><span class="p">,</span> <span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">71</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">29</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">numerators</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_abs_test</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">delta</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_abs_test</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">delta</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_absolute_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_absolute_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_absolute_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test approximate equality of Decimals with an absolute error.</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;0.01&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">Decimal</span><span class="p">,</span> <span class="s">&quot;1.0 3.5 36.08 61.79 7912.3648&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_abs_test</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">delta</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_abs_test</span><span class="p">(</span><span class="o">-</span><span class="n">d</span><span class="p">,</span> <span class="n">delta</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_cross_zero"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_cross_zero">[docs]</a>    <span class="k">def</span> <span class="nf">test_cross_zero</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test for the case of the two values having opposite signs.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="mf">1e-5</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e-5</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>

    <span class="c"># === Relative error tests ===</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.do_approx_equal_rel_test"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.do_approx_equal_rel_test">[docs]</a>    <span class="k">def</span> <span class="nf">do_approx_equal_rel_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">delta</span><span class="p">):</span>
        <span class="n">template</span> <span class="o">=</span> <span class="s">&quot;Test failure for x={!r}, y={!r}&quot;</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">delta</span><span class="p">),</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">delta</span><span class="p">)):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">delta</span><span class="p">),</span> <span class="n">msg</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">delta</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">msg</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_relative_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_relative_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_relative_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test approximate equality of ints with a relative error.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">0.36</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">0.37</span><span class="p">))</span>
        <span class="c"># ---</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="mi">449</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">0.125</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="mi">448</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">0.125</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="mi">447</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">0.125</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_relative_floats"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_relative_floats">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_relative_floats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test approximate equality of floats with a relative error.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mf">178.34</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">36.97</span><span class="p">,</span> <span class="mf">2847.136</span><span class="p">,</span> <span class="mf">9145.074</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_rel_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_rel_test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_relative_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_relative_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_relative_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test approximate equality of Fractions with a relative error.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">84</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">49</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">92</span><span class="p">,</span> <span class="mi">85</span><span class="p">)]:</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="p">(</span><span class="n">delta</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">delta</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_rel_test</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_rel_test</span><span class="p">(</span><span class="o">-</span><span class="n">f</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_relative_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_relative_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_relative_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test approximate equality of Decimals with a relative error.</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">Decimal</span><span class="p">,</span> <span class="s">&quot;0.02 1.0 5.7 13.67 94.138 91027.9321&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_rel_test</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;0.001&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_approx_equal_rel_test</span><span class="p">(</span><span class="o">-</span><span class="n">d</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;0.05&quot;</span><span class="p">))</span>

    <span class="c"># === Both absolute and relative error tests ===</span>

    <span class="c"># There are four cases to consider:</span>
    <span class="c">#   1) actual error &lt;= both absolute and relative error</span>
    <span class="c">#   2) actual error &lt;= absolute error but &gt; relative error</span>
    <span class="c">#   3) actual error &lt;= relative error but &gt; absolute error</span>
    <span class="c">#   4) actual error &gt; both absolute and relative error</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.do_check_both"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.do_check_both">[docs]</a>    <span class="k">def</span> <span class="nf">do_check_both</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">tol_flag</span><span class="p">,</span> <span class="n">rel_flag</span><span class="p">):</span>
        <span class="n">check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span> <span class="k">if</span> <span class="n">tol_flag</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span>
        <span class="n">check</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span> <span class="k">if</span> <span class="n">rel_flag</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span>
        <span class="n">check</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">rel</span><span class="p">))</span>
        <span class="n">check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span> <span class="k">if</span> <span class="p">(</span><span class="n">tol_flag</span> <span class="ow">or</span> <span class="n">rel_flag</span><span class="p">)</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span>
        <span class="n">check</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="n">rel</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_both1"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_both1">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_both1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test actual error &lt;= both absolute and relative error.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_check_both</span><span class="p">(</span><span class="mf">7.955</span><span class="p">,</span> <span class="mf">7.952</span><span class="p">,</span> <span class="mf">0.004</span><span class="p">,</span> <span class="mf">3.8e-4</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_check_both</span><span class="p">(</span><span class="o">-</span><span class="mf">7.387</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.386</span><span class="p">,</span> <span class="mf">0.002</span><span class="p">,</span> <span class="mf">0.0002</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_both2"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_both2">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_both2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test actual error &lt;= absolute error but &gt; relative error.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_check_both</span><span class="p">(</span><span class="mf">7.955</span><span class="p">,</span> <span class="mf">7.952</span><span class="p">,</span> <span class="mf">0.004</span><span class="p">,</span> <span class="mf">3.7e-4</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_both3"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_both3">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_both3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test actual error &lt;= relative error but &gt; absolute error.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_check_both</span><span class="p">(</span><span class="mf">7.955</span><span class="p">,</span> <span class="mf">7.952</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mf">3.8e-4</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ApproxEqualInexactTest.test_approx_equal_both4"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualInexactTest.test_approx_equal_both4">[docs]</a>    <span class="k">def</span> <span class="nf">test_approx_equal_both4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test actual error &gt; both absolute and relative error.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_check_both</span><span class="p">(</span><span class="mf">2.78</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_check_both</span><span class="p">(</span><span class="mf">971.44</span><span class="p">,</span> <span class="mf">971.47</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mf">3e-5</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="ApproxEqualSpecialsTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSpecialsTest">[docs]</a><span class="k">class</span> <span class="nc">ApproxEqualSpecialsTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Test approx_equal with NANs and INFs and zeroes.</span>

<div class="viewcode-block" id="ApproxEqualSpecialsTest.test_inf"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSpecialsTest.test_inf">[docs]</a>    <span class="k">def</span> <span class="nf">test_inf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">):</span>
            <span class="n">inf</span> <span class="o">=</span> <span class="n">type_</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">inf</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="o">-</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">inf</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">inf</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">inf</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ApproxEqualSpecialsTest.test_nan"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSpecialsTest.test_nan">[docs]</a>    <span class="k">def</span> <span class="nf">test_nan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">):</span>
            <span class="n">nan</span> <span class="o">=</span> <span class="n">type_</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">other</span> <span class="ow">in</span> <span class="p">(</span><span class="n">nan</span><span class="p">,</span> <span class="n">type_</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">),</span> <span class="mi">1000</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">nan</span><span class="p">,</span> <span class="n">other</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ApproxEqualSpecialsTest.test_float_zeroes"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSpecialsTest.test_float_zeroes">[docs]</a>    <span class="k">def</span> <span class="nf">test_float_zeroes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nzero</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">copysign</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">nzero</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">0.1</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ApproxEqualSpecialsTest.test_decimal_zeroes"><a class="viewcode-back" href="../../test.html#test.test_statistics.ApproxEqualSpecialsTest.test_decimal_zeroes">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimal_zeroes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nzero</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;-0.0&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">approx_equal</span><span class="p">(</span><span class="n">nzero</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">tol</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">0.1</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="TestApproxEqualErrors"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestApproxEqualErrors">[docs]</a><span class="k">class</span> <span class="nc">TestApproxEqualErrors</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Test error conditions of approx_equal.</span>

<div class="viewcode-block" id="TestApproxEqualErrors.test_bad_tol"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestApproxEqualErrors.test_bad_tol">[docs]</a>    <span class="k">def</span> <span class="nf">test_bad_tol</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test negative tol raises.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">approx_equal</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestApproxEqualErrors.test_bad_rel"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestApproxEqualErrors.test_bad_rel">[docs]</a>    <span class="k">def</span> <span class="nf">test_bad_rel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test negative rel raises.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">approx_equal</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">)</span>


<span class="c"># --- Tests for NumericTestCase ---</span>

<span class="c"># The formatting routine that generates the error messages is complex enough</span>
<span class="c"># that it too needs testing.</span>
</div></div>
<div class="viewcode-block" id="TestNumericTestCase"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestNumericTestCase">[docs]</a><span class="k">class</span> <span class="nc">TestNumericTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># The exact wording of NumericTestCase error messages is *not* guaranteed,</span>
    <span class="c"># but we need to give them some sort of test to ensure that they are</span>
    <span class="c"># generated correctly. As a compromise, we look for specific substrings</span>
    <span class="c"># that are expected to be found even if the overall error message changes.</span>

<div class="viewcode-block" id="TestNumericTestCase.do_test"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestNumericTestCase.do_test">[docs]</a>    <span class="k">def</span> <span class="nf">do_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="n">actual_msg</span> <span class="o">=</span> <span class="n">NumericTestCase</span><span class="o">.</span><span class="n">_make_std_err_msg</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_substrings</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">substring</span> <span class="ow">in</span> <span class="n">expected</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">substring</span><span class="p">,</span> <span class="n">actual_msg</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestNumericTestCase.test_numerictestcase_is_testcase"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestNumericTestCase.test_numerictestcase_is_testcase">[docs]</a>    <span class="k">def</span> <span class="nf">test_numerictestcase_is_testcase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Ensure that NumericTestCase actually is a TestCase.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="n">NumericTestCase</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestNumericTestCase.test_error_msg_numeric"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestNumericTestCase.test_error_msg_numeric">[docs]</a>    <span class="k">def</span> <span class="nf">test_error_msg_numeric</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test the error message generated for numeric comparisons.</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_test</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestNumericTestCase.test_error_msg_sequence"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestNumericTestCase.test_error_msg_sequence">[docs]</a>    <span class="k">def</span> <span class="nf">test_error_msg_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test the error message generated for sequence comparisons.</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="mf">3.75</span><span class="p">,</span> <span class="mf">8.25</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">do_test</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestNumericTestCase.generate_substrings"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestNumericTestCase.generate_substrings">[docs]</a>    <span class="k">def</span> <span class="nf">generate_substrings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">rel</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return substrings we expect to see in error messages.&quot;&quot;&quot;</span>
        <span class="n">abs_err</span><span class="p">,</span> <span class="n">rel_err</span> <span class="o">=</span> <span class="n">_calc_errors</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">)</span>
        <span class="n">substrings</span> <span class="o">=</span> <span class="p">[</span>
                <span class="s">&#39;tol=</span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">tol</span><span class="p">,</span>
                <span class="s">&#39;rel=</span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">rel</span><span class="p">,</span>
                <span class="s">&#39;absolute error = </span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">abs_err</span><span class="p">,</span>
                <span class="s">&#39;relative error = </span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">rel_err</span><span class="p">,</span>
                <span class="p">]</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">substrings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;differ at index </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">idx</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">substrings</span>


<span class="c"># =======================================</span>
<span class="c"># === Tests for the statistics module ===</span>
<span class="c"># =======================================</span>

</div></div>
<div class="viewcode-block" id="GlobalsTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.GlobalsTest">[docs]</a><span class="k">class</span> <span class="nc">GlobalsTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">module</span> <span class="o">=</span> <span class="n">statistics</span>
    <span class="n">expected_metadata</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;__doc__&quot;</span><span class="p">,</span> <span class="s">&quot;__all__&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="GlobalsTest.test_meta"><a class="viewcode-back" href="../../test.html#test.test_statistics.GlobalsTest.test_meta">[docs]</a>    <span class="k">def</span> <span class="nf">test_meta</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test for the existence of metadata.</span>
        <span class="k">for</span> <span class="n">meta</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected_metadata</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="p">,</span> <span class="n">meta</span><span class="p">),</span>
                            <span class="s">&quot;</span><span class="si">%s</span><span class="s"> not present&quot;</span> <span class="o">%</span> <span class="n">meta</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="GlobalsTest.test_check_all"><a class="viewcode-back" href="../../test.html#test.test_statistics.GlobalsTest.test_check_all">[docs]</a>    <span class="k">def</span> <span class="nf">test_check_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check everything in __all__ exists and is public.</span>
        <span class="n">module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">module</span><span class="o">.</span><span class="n">__all__</span><span class="p">:</span>
            <span class="c"># No private names in __all__:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&quot;_&quot;</span><span class="p">),</span>
                             <span class="s">&#39;private name &quot;</span><span class="si">%s</span><span class="s">&quot; in __all__&#39;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span>
            <span class="c"># And anything in __all__ must exist:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span>
                            <span class="s">&#39;missing name &quot;</span><span class="si">%s</span><span class="s">&quot; in __all__&#39;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="DocTests"><a class="viewcode-back" href="../../test.html#test.test_statistics.DocTests">[docs]</a><span class="k">class</span> <span class="nc">DocTests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="nd">@unittest.skipIf</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">optimize</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">,</span>
                     <span class="s">&quot;Docstrings are omitted with -OO and above&quot;</span><span class="p">)</span>
<div class="viewcode-block" id="DocTests.test_doc_tests"><a class="viewcode-back" href="../../test.html#test.test_statistics.DocTests.test_doc_tests">[docs]</a>    <span class="k">def</span> <span class="nf">test_doc_tests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">failed</span><span class="p">,</span> <span class="n">tried</span> <span class="o">=</span> <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">statistics</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertGreater</span><span class="p">(</span><span class="n">tried</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">failed</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div></div>
<div class="viewcode-block" id="StatisticsErrorTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.StatisticsErrorTest">[docs]</a><span class="k">class</span> <span class="nc">StatisticsErrorTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="StatisticsErrorTest.test_has_exception"><a class="viewcode-back" href="../../test.html#test.test_statistics.StatisticsErrorTest.test_has_exception">[docs]</a>    <span class="k">def</span> <span class="nf">test_has_exception</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">errmsg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s">&quot;Expected StatisticsError to be a ValueError, but got a&quot;</span>
                <span class="s">&quot; subclass of </span><span class="si">%r</span><span class="s"> instead.&quot;</span>
                <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">statistics</span><span class="p">,</span> <span class="s">&#39;StatisticsError&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span>
                <span class="nb">issubclass</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">StatisticsError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">),</span>
                <span class="n">errmsg</span> <span class="o">%</span> <span class="n">statistics</span><span class="o">.</span><span class="n">StatisticsError</span><span class="o">.</span><span class="n">__base__</span>
                <span class="p">)</span>


<span class="c"># === Tests for private utility functions ===</span>
</div></div>
<div class="viewcode-block" id="ExactRatioTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.ExactRatioTest">[docs]</a><span class="k">class</span> <span class="nc">ExactRatioTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Test _exact_ratio utility.</span>

<div class="viewcode-block" id="ExactRatioTest.test_int"><a class="viewcode-back" href="../../test.html#test.test_statistics.ExactRatioTest.test_int">[docs]</a>    <span class="k">def</span> <span class="nf">test_int</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">10</span><span class="o">**</span><span class="mi">20</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">_exact_ratio</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExactRatioTest.test_fraction"><a class="viewcode-back" href="../../test.html#test.test_statistics.ExactRatioTest.test_fraction">[docs]</a>    <span class="k">def</span> <span class="nf">test_fraction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">numerators</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">38</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">numerators</span><span class="p">:</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">37</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">_exact_ratio</span><span class="p">(</span><span class="n">f</span><span class="p">),</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">37</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExactRatioTest.test_float"><a class="viewcode-back" href="../../test.html#test.test_statistics.ExactRatioTest.test_float">[docs]</a>    <span class="k">def</span> <span class="nf">test_float</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">_exact_ratio</span><span class="p">(</span><span class="mf">0.125</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">_exact_ratio</span><span class="p">(</span><span class="mf">1.125</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">num</span><span class="p">,</span> <span class="n">den</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_exact_ratio</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">num</span><span class="o">/</span><span class="n">den</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ExactRatioTest.test_decimal"><a class="viewcode-back" href="../../test.html#test.test_statistics.ExactRatioTest.test_decimal">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">_exact_ratio</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_exact_ratio</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">_exact_ratio</span><span class="p">(</span><span class="n">D</span><span class="p">(</span><span class="s">&quot;0.125&quot;</span><span class="p">)),</span> <span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">_exact_ratio</span><span class="p">(</span><span class="n">D</span><span class="p">(</span><span class="s">&quot;12.345&quot;</span><span class="p">)),</span> <span class="p">(</span><span class="mi">12345</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">_exact_ratio</span><span class="p">(</span><span class="n">D</span><span class="p">(</span><span class="s">&quot;-1.98&quot;</span><span class="p">)),</span> <span class="p">(</span><span class="o">-</span><span class="mi">198</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="DecimalToRatioTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.DecimalToRatioTest">[docs]</a><span class="k">class</span> <span class="nc">DecimalToRatioTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Test _decimal_to_ratio private function.</span>

<div class="viewcode-block" id="DecimalToRatioTest.testSpecialsRaise"><a class="viewcode-back" href="../../test.html#test.test_statistics.DecimalToRatioTest.testSpecialsRaise">[docs]</a>    <span class="k">def</span> <span class="nf">testSpecialsRaise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that NANs and INFs raise ValueError.</span>
        <span class="c"># Non-special values are covered by _exact_ratio above.</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;NAN&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;sNAN&#39;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;INF&#39;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_decimal_to_ratio</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DecimalToRatioTest.test_sign"><a class="viewcode-back" href="../../test.html#test.test_statistics.DecimalToRatioTest.test_sign">[docs]</a>    <span class="k">def</span> <span class="nf">test_sign</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test sign is calculated correctly.</span>
        <span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;9.8765e12&quot;</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;9.8765e-12&quot;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">numbers</span><span class="p">:</span>
            <span class="c"># First test positive decimals.</span>
            <span class="k">assert</span> <span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span>
            <span class="n">num</span><span class="p">,</span> <span class="n">den</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_decimal_to_ratio</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertGreater</span><span class="p">(</span><span class="n">den</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="c"># Then test negative decimals.</span>
            <span class="n">num</span><span class="p">,</span> <span class="n">den</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_decimal_to_ratio</span><span class="p">(</span><span class="o">-</span><span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertLessEqual</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertGreater</span><span class="p">(</span><span class="n">den</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DecimalToRatioTest.test_negative_exponent"><a class="viewcode-back" href="../../test.html#test.test_statistics.DecimalToRatioTest.test_negative_exponent">[docs]</a>    <span class="k">def</span> <span class="nf">test_negative_exponent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test result when the exponent is negative.</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_decimal_to_ratio</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;0.1234&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">(</span><span class="mi">1234</span><span class="p">,</span> <span class="mi">10000</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="DecimalToRatioTest.test_positive_exponent"><a class="viewcode-back" href="../../test.html#test.test_statistics.DecimalToRatioTest.test_positive_exponent">[docs]</a>    <span class="k">def</span> <span class="nf">test_positive_exponent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test results when the exponent is positive.</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_decimal_to_ratio</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;1.234e7&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">(</span><span class="mi">12340000</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="DecimalToRatioTest.test_regression_20536"><a class="viewcode-back" href="../../test.html#test.test_statistics.DecimalToRatioTest.test_regression_20536">[docs]</a>    <span class="k">def</span> <span class="nf">test_regression_20536</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Regression test for issue 20536.</span>
        <span class="c"># See http://bugs.python.org/issue20536</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_decimal_to_ratio</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;1e2&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_decimal_to_ratio</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;1.47e5&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">(</span><span class="mi">147000</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="CheckTypeTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.CheckTypeTest">[docs]</a><span class="k">class</span> <span class="nc">CheckTypeTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># Test _check_type private function.</span>

<div class="viewcode-block" id="CheckTypeTest.test_allowed"><a class="viewcode-back" href="../../test.html#test.test_statistics.CheckTypeTest.test_allowed">[docs]</a>    <span class="k">def</span> <span class="nf">test_allowed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that a type which should be allowed is allowed.</span>
        <span class="n">allowed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span>
        <span class="n">statistics</span><span class="o">.</span><span class="n">_check_type</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">allowed</span><span class="p">)</span>
        <span class="n">statistics</span><span class="o">.</span><span class="n">_check_type</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">allowed</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CheckTypeTest.test_not_allowed"><a class="viewcode-back" href="../../test.html#test.test_statistics.CheckTypeTest.test_not_allowed">[docs]</a>    <span class="k">def</span> <span class="nf">test_not_allowed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that a type which should not be allowed raises.</span>
        <span class="n">allowed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_check_type</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">,</span> <span class="n">allowed</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CheckTypeTest.test_add_to_allowed"><a class="viewcode-back" href="../../test.html#test.test_statistics.CheckTypeTest.test_add_to_allowed">[docs]</a>    <span class="k">def</span> <span class="nf">test_add_to_allowed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that a second type will be added to the allowed set.</span>
        <span class="n">allowed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="nb">int</span><span class="p">])</span>
        <span class="n">statistics</span><span class="o">.</span><span class="n">_check_type</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">allowed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">allowed</span><span class="p">,</span> <span class="nb">set</span><span class="p">([</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]))</span>


<span class="c"># === Tests for public functions ===</span>
</div></div>
<div class="viewcode-block" id="UnivariateCommonMixin"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin">[docs]</a><span class="k">class</span> <span class="nc">UnivariateCommonMixin</span><span class="p">:</span>
    <span class="c"># Common tests for most univariate functions that take a data argument.</span>

<div class="viewcode-block" id="UnivariateCommonMixin.test_no_args"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.test_no_args">[docs]</a>    <span class="k">def</span> <span class="nf">test_no_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Fail if given no arguments.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UnivariateCommonMixin.test_empty_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.test_empty_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_empty_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Fail when the data argument (first argument) is empty.</span>
        <span class="k">for</span> <span class="n">empty</span> <span class="ow">in</span> <span class="p">([],</span> <span class="p">(),</span> <span class="nb">iter</span><span class="p">([])):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">StatisticsError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="n">empty</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UnivariateCommonMixin.prepare_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.prepare_data">[docs]</a>    <span class="k">def</span> <span class="nf">prepare_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return int data for various tests.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="k">while</span> <span class="n">data</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
            <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span>
</div>
<div class="viewcode-block" id="UnivariateCommonMixin.test_no_inplace_modifications"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.test_no_inplace_modifications">[docs]</a>    <span class="k">def</span> <span class="nf">test_no_inplace_modifications</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that the function does not modify its input data.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_data</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span>  <span class="c"># Necessary to avoid infinite loop.</span>
        <span class="k">assert</span> <span class="n">data</span> <span class="o">!=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">saved</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:]</span>
        <span class="k">assert</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">saved</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertListEqual</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">saved</span><span class="p">,</span> <span class="s">&quot;data has been modified&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UnivariateCommonMixin.test_order_doesnt_matter"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.test_order_doesnt_matter">[docs]</a>    <span class="k">def</span> <span class="nf">test_order_doesnt_matter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that the order of data points doesn&#39;t change the result.</span>

        <span class="c"># CAUTION: due to floating point rounding errors, the result actually</span>
        <span class="c"># may depend on the order. Consider this test representing an ideal.</span>
        <span class="c"># To avoid this test failing, only test with exact values such as ints</span>
        <span class="c"># or Fractions.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">actual</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UnivariateCommonMixin.test_type_of_data_collection"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.test_type_of_data_collection">[docs]</a>    <span class="k">def</span> <span class="nf">test_type_of_data_collection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that the type of iterable data doesn&#39;t effect the result.</span>
        <span class="k">class</span> <span class="nc">MyList</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">class</span> <span class="nc">MyTuple</span><span class="p">(</span><span class="nb">tuple</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">def</span> <span class="nf">generator</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">obj</span> <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">data</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_data</span><span class="p">()</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">iter</span><span class="p">,</span> <span class="n">MyList</span><span class="p">,</span> <span class="n">MyTuple</span><span class="p">,</span> <span class="n">generator</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">kind</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UnivariateCommonMixin.test_range_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.test_range_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_range_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that functions work with range objects.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UnivariateCommonMixin.test_bad_arg_types"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.test_bad_arg_types">[docs]</a>    <span class="k">def</span> <span class="nf">test_bad_arg_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that function raises when given data of the wrong type.</span>

        <span class="c"># Don&#39;t roll the following into a loop like this:</span>
        <span class="c">#   for bad in list_of_bad:</span>
        <span class="c">#       self.check_for_type_error(bad)</span>
        <span class="c">#</span>
        <span class="c"># Since assertRaises doesn&#39;t show the arguments that caused the test</span>
        <span class="c"># failure, it is very difficult to debug these test failures when the</span>
        <span class="c"># following are in a loop.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_type_error</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_type_error</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_type_error</span><span class="p">(</span><span class="mf">42.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_type_error</span><span class="p">(</span><span class="nb">object</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="UnivariateCommonMixin.check_for_type_error"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.check_for_type_error">[docs]</a>    <span class="k">def</span> <span class="nf">check_for_type_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UnivariateCommonMixin.test_type_of_data_element"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateCommonMixin.test_type_of_data_element">[docs]</a>    <span class="k">def</span> <span class="nf">test_type_of_data_element</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check the type of data elements doesn&#39;t affect the numeric result.</span>
        <span class="c"># This is a weaker test than UnivariateTypeMixin.testTypesConserved,</span>
        <span class="c"># because it checks the numeric result by equality, but not by type.</span>
        <span class="k">class</span> <span class="nc">MyFloat</span><span class="p">(</span><span class="nb">float</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__truediv__</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
            <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__add__</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
            <span class="n">__radd__</span> <span class="o">=</span> <span class="n">__add__</span>

        <span class="n">raw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_data</span><span class="p">()</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">MyFloat</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">kind</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">raw</span><span class="p">]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">expected</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="UnivariateTypeMixin"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateTypeMixin">[docs]</a><span class="k">class</span> <span class="nc">UnivariateTypeMixin</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Mixin class for type-conserving functions.</span>

<span class="sd">    This mixin class holds test(s) for functions which conserve the type of</span>
<span class="sd">    individual data points. E.g. the mean of a list of Fractions should itself</span>
<span class="sd">    be a Fraction.</span>

<span class="sd">    Not all tests to do with types need go in this class. Only those that</span>
<span class="sd">    rely on the function returning the same type as its input data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="UnivariateTypeMixin.test_types_conserved"><a class="viewcode-back" href="../../test.html#test.test_statistics.UnivariateTypeMixin.test_types_conserved">[docs]</a>    <span class="k">def</span> <span class="nf">test_types_conserved</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that functions keeps the same type as their data points.</span>
        <span class="c"># (Excludes mixed data types.) This only tests the type of the return</span>
        <span class="c"># result, not the value.</span>
        <span class="k">class</span> <span class="nc">MyFloat</span><span class="p">(</span><span class="nb">float</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__truediv__</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
            <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__sub__</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
            <span class="k">def</span> <span class="nf">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__rsub__</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
            <span class="k">def</span> <span class="nf">__pow__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__pow__</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
            <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__add__</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
            <span class="n">__radd__</span> <span class="o">=</span> <span class="n">__add__</span>

        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare_data</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">,</span> <span class="n">MyFloat</span><span class="p">):</span>
            <span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="n">kind</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="n">kind</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestSum"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum">[docs]</a><span class="k">class</span> <span class="nc">TestSum</span><span class="p">(</span><span class="n">NumericTestCase</span><span class="p">,</span> <span class="n">UnivariateCommonMixin</span><span class="p">,</span> <span class="n">UnivariateTypeMixin</span><span class="p">):</span>
    <span class="c"># Test cases for statistics._sum() function.</span>

<div class="viewcode-block" id="TestSum.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span>
</div>
<div class="viewcode-block" id="TestSum.test_empty_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_empty_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_empty_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Override test for empty data.</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="p">([],</span> <span class="p">(),</span> <span class="nb">iter</span><span class="p">([])):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">23</span><span class="p">),</span> <span class="mi">23</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">),</span> <span class="mf">2.3</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestSum.test_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="mi">60</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">1000</span><span class="p">),</span> <span class="mi">1008</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestSum.test_floats"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_floats">[docs]</a>    <span class="k">def</span> <span class="nf">test_floats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">([</span><span class="mf">0.25</span><span class="p">]</span><span class="o">*</span><span class="mi">20</span><span class="p">),</span> <span class="mf">5.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">([</span><span class="mf">0.125</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">],</span> <span class="mf">1.5</span><span class="p">),</span> <span class="mf">3.125</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestSum.test_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">([</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)]</span><span class="o">*</span><span class="mi">500</span><span class="p">),</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestSum.test_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&quot;0.001&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;5.246&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;1.702&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;-0.025&quot;</span><span class="p">),</span>
                <span class="n">D</span><span class="p">(</span><span class="s">&quot;3.974&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;2.328&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;4.617&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;2.843&quot;</span><span class="p">),</span>
                <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&quot;20.686&quot;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestSum.test_compare_with_math_fsum"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_compare_with_math_fsum">[docs]</a>    <span class="k">def</span> <span class="nf">test_compare_with_math_fsum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Compare with the math.fsum function.</span>
        <span class="c"># Ideally we ought to get the exact same result, but sometimes</span>
        <span class="c"># we differ by a very slight amount :-(</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertApproxEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">fsum</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">rel</span><span class="o">=</span><span class="mf">2e-16</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestSum.test_start_argument"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_start_argument">[docs]</a>    <span class="k">def</span> <span class="nf">test_start_argument</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that the optional start argument works correctly.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
        <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="o">+</span><span class="mi">42</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">42</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="o">-</span><span class="mi">23</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">-</span><span class="mi">23</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="o">+</span><span class="mf">1e20</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mf">1e20</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestSum.test_strings_fail"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_strings_fail">[docs]</a>    <span class="k">def</span> <span class="nf">test_strings_fail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Sum of strings should fail.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s">&#39;999&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&#39;999&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="TestSum.test_bytes_fail"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_bytes_fail">[docs]</a>    <span class="k">def</span> <span class="nf">test_bytes_fail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Sum of bytes should fail.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">b</span><span class="s">&#39;999&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;999&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="TestSum.test_mixed_sum"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestSum.test_mixed_sum">[docs]</a>    <span class="k">def</span> <span class="nf">test_mixed_sum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Mixed input types are not (currently) allowed.</span>
        <span class="c"># Check that mixed data types fail.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
        <span class="c"># And so does mixed start argument.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="n">Decimal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="SumTortureTest"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumTortureTest">[docs]</a><span class="k">class</span> <span class="nc">SumTortureTest</span><span class="p">(</span><span class="n">NumericTestCase</span><span class="p">):</span>
<div class="viewcode-block" id="SumTortureTest.test_torture"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumTortureTest.test_torture">[docs]</a>    <span class="k">def</span> <span class="nf">test_torture</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Tim Peters&#39; torture test for sum, and variants of same.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1e100</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e100</span><span class="p">]</span><span class="o">*</span><span class="mi">10000</span><span class="p">),</span> <span class="mf">20000.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">([</span><span class="mf">1e100</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e100</span><span class="p">]</span><span class="o">*</span><span class="mi">10000</span><span class="p">),</span> <span class="mf">20000.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertApproxEqual</span><span class="p">(</span>
            <span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">([</span><span class="mf">1e-100</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1e-100</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">10000</span><span class="p">),</span> <span class="mf">2.0e-96</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="mf">5e-16</span>
            <span class="p">)</span>

</div></div>
<div class="viewcode-block" id="SumSpecialValues"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumSpecialValues">[docs]</a><span class="k">class</span> <span class="nc">SumSpecialValues</span><span class="p">(</span><span class="n">NumericTestCase</span><span class="p">):</span>
    <span class="c"># Test that sum works correctly with IEEE-754 special values.</span>

<div class="viewcode-block" id="SumSpecialValues.test_nan"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumSpecialValues.test_nan">[docs]</a>    <span class="k">def</span> <span class="nf">test_nan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">type_</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">):</span>
            <span class="n">nan</span> <span class="o">=</span> <span class="n">type_</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="n">type_</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="SumSpecialValues.check_infinity"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumSpecialValues.check_infinity">[docs]</a>    <span class="k">def</span> <span class="nf">check_infinity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">inf</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check x is an infinity of the same type and sign as inf.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">inf</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">inf</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="n">inf</span>
</div>
<div class="viewcode-block" id="SumSpecialValues.do_test_inf"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumSpecialValues.do_test_inf">[docs]</a>    <span class="k">def</span> <span class="nf">do_test_inf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inf</span><span class="p">):</span>
        <span class="c"># Adding a single infinity gives infinity.</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_infinity</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">inf</span><span class="p">)</span>
        <span class="c"># Adding two infinities of the same sign also gives infinity.</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_infinity</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">inf</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SumSpecialValues.test_float_inf"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumSpecialValues.test_float_inf">[docs]</a>    <span class="k">def</span> <span class="nf">test_float_inf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">inf</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">sign</span> <span class="ow">in</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_test_inf</span><span class="p">(</span><span class="n">sign</span><span class="o">*</span><span class="n">inf</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SumSpecialValues.test_decimal_inf"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumSpecialValues.test_decimal_inf">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimal_inf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">inf</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">sign</span> <span class="ow">in</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">do_test_inf</span><span class="p">(</span><span class="n">sign</span><span class="o">*</span><span class="n">inf</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SumSpecialValues.test_float_mismatched_infs"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumSpecialValues.test_float_mismatched_infs">[docs]</a>    <span class="k">def</span> <span class="nf">test_float_mismatched_infs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that adding two infinities of opposite sign gives a NAN.</span>
        <span class="n">inf</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="n">inf</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</div>
    <span class="k">def</span> <span class="nf">test_decimal_mismatched_infs_to_nan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test adding Decimal INFs with opposite sign returns NAN.</span>
        <span class="n">inf</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="n">inf</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
        <span class="k">with</span> <span class="n">decimal</span><span class="o">.</span><span class="n">localcontext</span><span class="p">(</span><span class="n">decimal</span><span class="o">.</span><span class="n">ExtendedContext</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">(</span><span class="n">data</span><span class="p">)))</span>

<div class="viewcode-block" id="SumSpecialValues.test_decimal_mismatched_infs_to_nan"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumSpecialValues.test_decimal_mismatched_infs_to_nan">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimal_mismatched_infs_to_nan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test adding Decimal INFs with opposite sign raises InvalidOperation.</span>
        <span class="n">inf</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="n">inf</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
        <span class="k">with</span> <span class="n">decimal</span><span class="o">.</span><span class="n">localcontext</span><span class="p">(</span><span class="n">decimal</span><span class="o">.</span><span class="n">BasicContext</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">decimal</span><span class="o">.</span><span class="n">InvalidOperation</span><span class="p">,</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SumSpecialValues.test_decimal_snan_raises"><a class="viewcode-back" href="../../test.html#test.test_statistics.SumSpecialValues.test_decimal_snan_raises">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimal_snan_raises</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Adding sNAN should raise InvalidOperation.</span>
        <span class="n">sNAN</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;sNAN&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">sNAN</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">decimal</span><span class="o">.</span><span class="n">InvalidOperation</span><span class="p">,</span> <span class="n">statistics</span><span class="o">.</span><span class="n">_sum</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>


<span class="c"># === Tests for averages ===</span>
</div></div>
<div class="viewcode-block" id="AverageMixin"><a class="viewcode-back" href="../../test.html#test.test_statistics.AverageMixin">[docs]</a><span class="k">class</span> <span class="nc">AverageMixin</span><span class="p">(</span><span class="n">UnivariateCommonMixin</span><span class="p">):</span>
    <span class="c"># Mixin class holding common tests for averages.</span>

<div class="viewcode-block" id="AverageMixin.test_single_value"><a class="viewcode-back" href="../../test.html#test.test_statistics.AverageMixin.test_single_value">[docs]</a>    <span class="k">def</span> <span class="nf">test_single_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Average of a single value is the value itself.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mf">42.5</span><span class="p">,</span> <span class="mf">1.3e15</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;0.28&#39;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">([</span><span class="n">x</span><span class="p">]),</span> <span class="n">x</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="AverageMixin.test_repeated_single_value"><a class="viewcode-back" href="../../test.html#test.test_statistics.AverageMixin.test_repeated_single_value">[docs]</a>    <span class="k">def</span> <span class="nf">test_repeated_single_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># The average of a single repeated value is the value itself.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mf">3.5</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mf">2.5e15</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">61</span><span class="p">,</span> <span class="mi">67</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;4.9712&#39;</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">*</span><span class="n">count</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestMean"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean">[docs]</a><span class="k">class</span> <span class="nc">TestMean</span><span class="p">(</span><span class="n">NumericTestCase</span><span class="p">,</span> <span class="n">AverageMixin</span><span class="p">,</span> <span class="n">UnivariateTypeMixin</span><span class="p">):</span>
<div class="viewcode-block" id="TestMean.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">mean</span>
</div>
<div class="viewcode-block" id="TestMean.test_torture_pep"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_torture_pep">[docs]</a>    <span class="k">def</span> <span class="nf">test_torture_pep</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># &quot;Torture Test&quot; from PEP-450.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">([</span><span class="mf">1e100</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e100</span><span class="p">]),</span> <span class="mi">1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMean.test_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mean with ints.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">4.8125</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMean.test_floats"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_floats">[docs]</a>    <span class="k">def</span> <span class="nf">test_floats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mean with floats.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">17.25</span><span class="p">,</span> <span class="mf">19.75</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">21.5</span><span class="p">,</span> <span class="mf">21.75</span><span class="p">,</span> <span class="mf">23.25</span><span class="p">,</span> <span class="mf">25.125</span><span class="p">,</span> <span class="mf">27.5</span><span class="p">]</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">22.015625</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMean.test_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mean with ints.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&quot;1.634&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;2.517&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;3.912&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;4.072&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;5.813&quot;</span><span class="p">)]</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;3.5896&quot;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMean.test_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mean with Fractions.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">1479</span><span class="p">,</span> <span class="mi">1960</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMean.test_inf"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_inf">[docs]</a>    <span class="k">def</span> <span class="nf">test_inf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mean with infinities.</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>  <span class="c"># Use only ints, to avoid TypeError later.</span>
        <span class="k">for</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">sign</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">inf</span> <span class="o">=</span> <span class="n">kind</span><span class="p">(</span><span class="s">&quot;inf&quot;</span><span class="p">)</span><span class="o">*</span><span class="n">sign</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">raw</span> <span class="o">+</span> <span class="p">[</span><span class="n">inf</span><span class="p">]</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">inf</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMean.test_mismatched_infs"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_mismatched_infs">[docs]</a>    <span class="k">def</span> <span class="nf">test_mismatched_infs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mean with infinities of opposite sign.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;-inf&#39;</span><span class="p">)]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMean.test_nan"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_nan">[docs]</a>    <span class="k">def</span> <span class="nf">test_nan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mean with NANs.</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>  <span class="c"># Use only ints, to avoid TypeError later.</span>
        <span class="k">for</span> <span class="n">kind</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">):</span>
            <span class="n">inf</span> <span class="o">=</span> <span class="n">kind</span><span class="p">(</span><span class="s">&quot;nan&quot;</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">raw</span> <span class="o">+</span> <span class="p">[</span><span class="n">inf</span><span class="p">]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMean.test_big_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_big_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_big_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test adding a large constant to every data point.</span>
        <span class="n">c</span> <span class="o">=</span> <span class="mf">1e9</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.4</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mf">4.9</span><span class="p">,</span> <span class="mf">6.7</span><span class="p">,</span> <span class="mf">6.8</span><span class="p">,</span> <span class="mf">7.2</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.1</span><span class="p">,</span> <span class="mf">9.4</span><span class="p">]</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> <span class="n">c</span>
        <span class="k">assert</span> <span class="n">expected</span> <span class="o">!=</span> <span class="n">c</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">c</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMean.test_doubled_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_doubled_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_doubled_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Mean of [a,b,c...z] should be same as for [a,a,b,b,c,c...z,z].</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">actual</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertApproxEqual</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMean.test_regression_20561"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMean.test_regression_20561">[docs]</a>    <span class="k">def</span> <span class="nf">test_regression_20561</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Regression test for issue 20561.</span>
        <span class="c"># See http://bugs.python.org/issue20561</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;1e4&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="n">d</span><span class="p">]),</span> <span class="n">d</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestMedian"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedian">[docs]</a><span class="k">class</span> <span class="nc">TestMedian</span><span class="p">(</span><span class="n">NumericTestCase</span><span class="p">,</span> <span class="n">AverageMixin</span><span class="p">):</span>
    <span class="c"># Common tests for median and all median.* functions.</span>
<div class="viewcode-block" id="TestMedian.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedian.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">median</span>
</div>
<div class="viewcode-block" id="TestMedian.prepare_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedian.prepare_data">[docs]</a>    <span class="k">def</span> <span class="nf">prepare_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Overload method from UnivariateCommonMixin.&quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">prepare_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span>
</div>
<div class="viewcode-block" id="TestMedian.test_even_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedian.test_even_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median with an even number of int data points.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">3.5</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedian.test_odd_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedian.test_odd_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_odd_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median with an odd number of int data points.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedian.test_odd_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedian.test_odd_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_odd_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median works with an odd number of Fractions.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMedian.test_even_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedian.test_even_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median works with an even number of Fractions.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMedian.test_odd_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedian.test_odd_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_odd_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median works with an odd number of Decimals.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&#39;2.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;3.1&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;4.2&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;5.7&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;5.8&#39;</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;4.2&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMedian.test_even_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedian.test_even_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median works with an even number of Decimals.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&#39;1.2&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;2.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;3.1&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;4.2&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;5.7&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;5.8&#39;</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;3.65&#39;</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="TestMedianDataType"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianDataType">[docs]</a><span class="k">class</span> <span class="nc">TestMedianDataType</span><span class="p">(</span><span class="n">NumericTestCase</span><span class="p">,</span> <span class="n">UnivariateTypeMixin</span><span class="p">):</span>
    <span class="c"># Test conservation of data element type for median.</span>
<div class="viewcode-block" id="TestMedianDataType.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianDataType.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">median</span>
</div>
<div class="viewcode-block" id="TestMedianDataType.prepare_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianDataType.prepare_data">[docs]</a>    <span class="k">def</span> <span class="nf">prepare_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">data</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
            <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span>

</div></div>
<div class="viewcode-block" id="TestMedianLow"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianLow">[docs]</a><span class="k">class</span> <span class="nc">TestMedianLow</span><span class="p">(</span><span class="n">TestMedian</span><span class="p">,</span> <span class="n">UnivariateTypeMixin</span><span class="p">):</span>
<div class="viewcode-block" id="TestMedianLow.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianLow.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">median_low</span>
</div>
<div class="viewcode-block" id="TestMedianLow.test_even_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianLow.test_even_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_low with an even number of ints.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedianLow.test_even_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianLow.test_even_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_low works with an even number of Fractions.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMedianLow.test_even_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianLow.test_even_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_low works with an even number of Decimals.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&#39;1.1&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;2.2&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;3.3&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;4.4&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;5.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;6.6&#39;</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;3.3&#39;</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="TestMedianHigh"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianHigh">[docs]</a><span class="k">class</span> <span class="nc">TestMedianHigh</span><span class="p">(</span><span class="n">TestMedian</span><span class="p">,</span> <span class="n">UnivariateTypeMixin</span><span class="p">):</span>
<div class="viewcode-block" id="TestMedianHigh.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianHigh.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">median_high</span>
</div>
<div class="viewcode-block" id="TestMedianHigh.test_even_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianHigh.test_even_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_high with an even number of ints.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedianHigh.test_even_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianHigh.test_even_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_high works with an even number of Fractions.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMedianHigh.test_even_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianHigh.test_even_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_high works with an even number of Decimals.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&#39;1.1&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;2.2&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;3.3&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;4.4&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;5.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;6.6&#39;</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;4.4&#39;</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="TestMedianGrouped"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped">[docs]</a><span class="k">class</span> <span class="nc">TestMedianGrouped</span><span class="p">(</span><span class="n">TestMedian</span><span class="p">):</span>
    <span class="c"># Test median_grouped.</span>
    <span class="c"># Doesn&#39;t conserve data element types, so don&#39;t use TestMedianType.</span>
<div class="viewcode-block" id="TestMedianGrouped.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">median_grouped</span>
</div>
<div class="viewcode-block" id="TestMedianGrouped.test_odd_number_repeated"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped.test_odd_number_repeated">[docs]</a>    <span class="k">def</span> <span class="nf">test_odd_number_repeated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median.grouped with repeated median values.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mi">14</span><span class="p">)</span>
        <span class="c">#---</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">13.875</span><span class="p">)</span>
        <span class="c">#---</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mf">19.375</span><span class="p">)</span>
        <span class="c">#---</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">28</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertApproxEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mf">20.66666667</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-8</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedianGrouped.test_even_number_repeated"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped.test_even_number_repeated">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_number_repeated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median.grouped with repeated median values.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertApproxEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mf">19.16666667</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-8</span><span class="p">)</span>
        <span class="c">#---</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertApproxEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">3.83333333</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-8</span><span class="p">)</span>
        <span class="c">#---</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">4.5</span><span class="p">)</span>
        <span class="c">#---</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">4.75</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedianGrouped.test_repeated_single_value"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped.test_repeated_single_value">[docs]</a>    <span class="k">def</span> <span class="nf">test_repeated_single_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Override method from AverageMixin.</span>
        <span class="c"># Yet again, failure of median_grouped to conserve the data type</span>
        <span class="c"># causes me headaches :-(</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mf">5.3</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mf">4.3e17</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">29</span><span class="p">,</span> <span class="mi">101</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;32.9714&#39;</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">*</span><span class="n">count</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TestMedianGrouped.test_odd_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped.test_odd_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_odd_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_grouped works with an odd number of Fractions.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">3.0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedianGrouped.test_even_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped.test_even_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_grouped works with an even number of Fractions.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">3.25</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedianGrouped.test_odd_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped.test_odd_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_odd_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_grouped works with an odd number of Decimals.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&#39;5.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;6.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;6.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;7.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;8.5&#39;</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">6.75</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedianGrouped.test_even_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped.test_even_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_even_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_grouped works with an even number of Decimals.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&#39;5.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;5.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;6.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;6.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;7.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;8.5&#39;</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">6.5</span><span class="p">)</span>
        <span class="c">#---</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&#39;5.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;5.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;6.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;7.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;7.5&#39;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;8.5&#39;</span><span class="p">)]</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mf">7.0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMedianGrouped.test_interval"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMedianGrouped.test_interval">[docs]</a>    <span class="k">def</span> <span class="nf">test_interval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test median_grouped with interval argument.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.25</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.25</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.75</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">),</span> <span class="mf">2.875</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.25</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">2.75</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.25</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">3.75</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertApproxEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">),</span> <span class="mf">2.83333333</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">1e-8</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">220</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="mi">260</span><span class="p">,</span> <span class="mi">260</span><span class="p">,</span> <span class="mi">260</span><span class="p">,</span> <span class="mi">260</span><span class="p">,</span> <span class="mi">280</span><span class="p">,</span> <span class="mi">280</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">340</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="mf">265.0</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestMode"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode">[docs]</a><span class="k">class</span> <span class="nc">TestMode</span><span class="p">(</span><span class="n">NumericTestCase</span><span class="p">,</span> <span class="n">AverageMixin</span><span class="p">,</span> <span class="n">UnivariateTypeMixin</span><span class="p">):</span>
    <span class="c"># Test cases for the discrete version of mode.</span>
<div class="viewcode-block" id="TestMode.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">mode</span>
</div>
<div class="viewcode-block" id="TestMode.prepare_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode.prepare_data">[docs]</a>    <span class="k">def</span> <span class="nf">prepare_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Overload method from UnivariateCommonMixin.&quot;&quot;&quot;</span>
        <span class="c"># Make sure test data has exactly one mode.</span>
        <span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</div>
<div class="viewcode-block" id="TestMode.test_range_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode.test_range_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_range_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Override test from UnivariateCommonMixin.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">StatisticsError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMode.test_nominal_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode.test_nominal_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_nominal_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mode with nominal data.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="s">&#39;abcbdb&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="s">&#39;fe fi fo fum fi fi&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="s">&#39;fi&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMode.test_discrete_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode.test_discrete_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_discrete_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mode with discrete numeric data.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">data</span> <span class="o">+</span> <span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">i</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMode.test_bimodal_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode.test_bimodal_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_bimodal_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mode with bimodal data.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
        <span class="k">assert</span> <span class="n">data</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">data</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
        <span class="c"># Check for an exception.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">StatisticsError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMode.test_unique_data_failure"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode.test_unique_data_failure">[docs]</a>    <span class="k">def</span> <span class="nf">test_unique_data_failure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test mode exception when data points are all unique.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">StatisticsError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMode.test_none_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode.test_none_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_none_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that mode raises TypeError if given None as data.</span>

        <span class="c"># This test is necessary because the implementation of mode uses</span>
        <span class="c"># collections.Counter, which accepts None and returns an empty dict.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestMode.test_counter_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestMode.test_counter_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_counter_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that a Counter is treated like any other iterable.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">Counter</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
        <span class="c"># Since the keys of the counter are treated as data points, not the</span>
        <span class="c"># counts, this should raise.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">StatisticsError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>



<span class="c"># === Tests for variances and standard deviations ===</span>
</div></div>
<div class="viewcode-block" id="VarianceStdevMixin"><a class="viewcode-back" href="../../test.html#test.test_statistics.VarianceStdevMixin">[docs]</a><span class="k">class</span> <span class="nc">VarianceStdevMixin</span><span class="p">(</span><span class="n">UnivariateCommonMixin</span><span class="p">):</span>
    <span class="c"># Mixin class holding common tests for variance and std dev.</span>

    <span class="c"># Subclasses should inherit from this before NumericTestClass, in order</span>
    <span class="c"># to see the rel attribute below. See testShiftData for an explanation.</span>

    <span class="n">rel</span> <span class="o">=</span> <span class="mf">1e-12</span>

<div class="viewcode-block" id="VarianceStdevMixin.test_single_value"><a class="viewcode-back" href="../../test.html#test.test_statistics.VarianceStdevMixin.test_single_value">[docs]</a>    <span class="k">def</span> <span class="nf">test_single_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Deviation of a single value is zero.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mf">19.8</span><span class="p">,</span> <span class="mf">4.6e14</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">34</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;8.392&#39;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">([</span><span class="n">x</span><span class="p">]),</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="VarianceStdevMixin.test_repeated_single_value"><a class="viewcode-back" href="../../test.html#test.test_statistics.VarianceStdevMixin.test_repeated_single_value">[docs]</a>    <span class="k">def</span> <span class="nf">test_repeated_single_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># The deviation of a single repeated value is zero.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mf">7.2</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mf">8.1e15</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;62.4802&#39;</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">*</span><span class="n">count</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="VarianceStdevMixin.test_domain_error_regression"><a class="viewcode-back" href="../../test.html#test.test_statistics.VarianceStdevMixin.test_domain_error_regression">[docs]</a>    <span class="k">def</span> <span class="nf">test_domain_error_regression</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Regression test for a domain error exception.</span>
        <span class="c"># (Thanks to Geremy Condra.)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.123456789012345</span><span class="p">]</span><span class="o">*</span><span class="mi">10000</span>
        <span class="c"># All the items are identical, so variance should be exactly zero.</span>
        <span class="c"># We allow some small round-off error, but not much.</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertApproxEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">5e-17</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c"># A negative result must fail.</span>
</div>
<div class="viewcode-block" id="VarianceStdevMixin.test_shift_data"><a class="viewcode-back" href="../../test.html#test.test_statistics.VarianceStdevMixin.test_shift_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_shift_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that shifting the data by a constant amount does not affect</span>
        <span class="c"># the variance or stdev. Or at least not much.</span>

        <span class="c"># Due to rounding, this test should be considered an ideal. We allow</span>
        <span class="c"># some tolerance away from &quot;no change at all&quot; by setting tol and/or rel</span>
        <span class="c"># attributes. Subclasses may set tighter or looser error tolerances.</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.03</span><span class="p">,</span> <span class="mf">1.27</span><span class="p">,</span> <span class="mf">1.94</span><span class="p">,</span> <span class="mf">2.04</span><span class="p">,</span> <span class="mf">2.58</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="mf">4.75</span><span class="p">,</span> <span class="mf">4.98</span><span class="p">,</span> <span class="mf">5.42</span><span class="p">,</span> <span class="mf">6.78</span><span class="p">]</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>
        <span class="c"># Don&#39;t set shift too high, the bigger it is, the more rounding error.</span>
        <span class="n">shift</span> <span class="o">=</span> <span class="mf">1e5</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">shift</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">raw</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertApproxEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="VarianceStdevMixin.test_shift_data_exact"><a class="viewcode-back" href="../../test.html#test.test_statistics.VarianceStdevMixin.test_shift_data_exact">[docs]</a>    <span class="k">def</span> <span class="nf">test_shift_data_exact</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Like test_shift_data, but result is always exact.</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">raw</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">raw</span><span class="p">)</span>
        <span class="n">shift</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">9</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">shift</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">raw</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="VarianceStdevMixin.test_iter_list_same"><a class="viewcode-back" href="../../test.html#test.test_statistics.VarianceStdevMixin.test_iter_list_same">[docs]</a>    <span class="k">def</span> <span class="nf">test_iter_list_same</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that iter data and list data give the same result.</span>

        <span class="c"># This is an explicit test that iterators and lists are treated the</span>
        <span class="c"># same; justification for this test over and above the similar test</span>
        <span class="c"># in UnivariateCommonMixin is that an earlier design had variance and</span>
        <span class="c"># friends swap between one- and two-pass algorithms, which would</span>
        <span class="c"># sometimes give different results.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">data</span><span class="p">)),</span> <span class="n">expected</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestPVariance"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestPVariance">[docs]</a><span class="k">class</span> <span class="nc">TestPVariance</span><span class="p">(</span><span class="n">VarianceStdevMixin</span><span class="p">,</span> <span class="n">NumericTestCase</span><span class="p">,</span> <span class="n">UnivariateTypeMixin</span><span class="p">):</span>
    <span class="c"># Tests for population variance.</span>
<div class="viewcode-block" id="TestPVariance.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestPVariance.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">pvariance</span>
</div>
<div class="viewcode-block" id="TestPVariance.test_exact_uniform"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestPVariance.test_exact_uniform">[docs]</a>    <span class="k">def</span> <span class="nf">test_exact_uniform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test the variance against an exact result for uniform data.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10000</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">12</span>  <span class="c"># Exact value.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestPVariance.test_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestPVariance.test_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test population variance with int data.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
        <span class="n">exact</span> <span class="o">=</span> <span class="mf">22.5</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">exact</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestPVariance.test_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestPVariance.test_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test population variance with Fraction data.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
        <span class="n">exact</span> <span class="o">=</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">exact</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestPVariance.test_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestPVariance.test_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test population variance with Decimal data.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="s">&quot;12.1&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;12.2&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;12.5&quot;</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="s">&quot;12.9&quot;</span><span class="p">)]</span>
        <span class="n">exact</span> <span class="o">=</span> <span class="n">D</span><span class="p">(</span><span class="s">&#39;0.096875&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">exact</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestVariance"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestVariance">[docs]</a><span class="k">class</span> <span class="nc">TestVariance</span><span class="p">(</span><span class="n">VarianceStdevMixin</span><span class="p">,</span> <span class="n">NumericTestCase</span><span class="p">,</span> <span class="n">UnivariateTypeMixin</span><span class="p">):</span>
    <span class="c"># Tests for sample variance.</span>
<div class="viewcode-block" id="TestVariance.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestVariance.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">variance</span>
</div>
<div class="viewcode-block" id="TestVariance.test_single_value"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestVariance.test_single_value">[docs]</a>    <span class="k">def</span> <span class="nf">test_single_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Override method from VarianceStdevMixin.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mf">24.7</span><span class="p">,</span> <span class="mf">8.2e15</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;4.2084&#39;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">StatisticsError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="TestVariance.test_ints"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestVariance.test_ints">[docs]</a>    <span class="k">def</span> <span class="nf">test_ints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test sample variance with int data.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
        <span class="n">exact</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">exact</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestVariance.test_fractions"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestVariance.test_fractions">[docs]</a>    <span class="k">def</span> <span class="nf">test_fractions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test sample variance with Fraction data.</span>
        <span class="n">F</span> <span class="o">=</span> <span class="n">Fraction</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">F</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
        <span class="n">exact</span> <span class="o">=</span> <span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">exact</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestVariance.test_decimals"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestVariance.test_decimals">[docs]</a>    <span class="k">def</span> <span class="nf">test_decimals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test sample variance with Decimal data.</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">Decimal</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">D</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">D</span><span class="p">(</span><span class="mi">9</span><span class="p">)]</span>
        <span class="n">exact</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="n">D</span><span class="p">(</span><span class="s">&#39;9.5&#39;</span><span class="p">)</span><span class="o">/</span><span class="n">D</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">exact</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">Decimal</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestPStdev"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestPStdev">[docs]</a><span class="k">class</span> <span class="nc">TestPStdev</span><span class="p">(</span><span class="n">VarianceStdevMixin</span><span class="p">,</span> <span class="n">NumericTestCase</span><span class="p">):</span>
    <span class="c"># Tests for population standard deviation.</span>
<div class="viewcode-block" id="TestPStdev.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestPStdev.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">pstdev</span>
</div>
<div class="viewcode-block" id="TestPStdev.test_compare_to_variance"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestPStdev.test_compare_to_variance">[docs]</a>    <span class="k">def</span> <span class="nf">test_compare_to_variance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that stdev is, in fact, the square root of variance.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">pvariance</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestStdev"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestStdev">[docs]</a><span class="k">class</span> <span class="nc">TestStdev</span><span class="p">(</span><span class="n">VarianceStdevMixin</span><span class="p">,</span> <span class="n">NumericTestCase</span><span class="p">):</span>
    <span class="c"># Tests for sample standard deviation.</span>
<div class="viewcode-block" id="TestStdev.setUp"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestStdev.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func</span> <span class="o">=</span> <span class="n">statistics</span><span class="o">.</span><span class="n">stdev</span>
</div>
<div class="viewcode-block" id="TestStdev.test_single_value"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestStdev.test_single_value">[docs]</a>    <span class="k">def</span> <span class="nf">test_single_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Override method from VarianceStdevMixin.</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">81</span><span class="p">,</span> <span class="mf">203.74</span><span class="p">,</span> <span class="mf">3.9e14</span><span class="p">,</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="s">&#39;35.719&#39;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">StatisticsError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="TestStdev.test_compare_to_variance"><a class="viewcode-back" href="../../test.html#test.test_statistics.TestStdev.test_compare_to_variance">[docs]</a>    <span class="k">def</span> <span class="nf">test_compare_to_variance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that stdev is, in fact, the square root of variance.</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)]</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">statistics</span><span class="o">.</span><span class="n">variance</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>


<span class="c"># === Run tests ===</span>
</div></div>
<div class="viewcode-block" id="load_tests"><a class="viewcode-back" href="../../test.html#test.test_statistics.load_tests">[docs]</a><span class="k">def</span> <span class="nf">load_tests</span><span class="p">(</span><span class="n">loader</span><span class="p">,</span> <span class="n">tests</span><span class="p">,</span> <span class="n">ignore</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Used for doctest/unittest integration.&quot;&quot;&quot;</span>
    <span class="n">tests</span><span class="o">.</span><span class="n">addTests</span><span class="p">(</span><span class="n">doctest</span><span class="o">.</span><span class="n">DocTestSuite</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">tests</span>

</div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>