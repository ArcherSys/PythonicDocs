

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_smtpd &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_smtpd</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_smtpd</h1><div class="highlight"><pre>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="n">support</span><span class="p">,</span> <span class="n">mock_socket</span>
<span class="kn">import</span> <span class="nn">socket</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">smtpd</span>
<span class="kn">import</span> <span class="nn">asyncore</span>


<div class="viewcode-block" id="DummyServer"><a class="viewcode-back" href="../../test.html#test.test_smtpd.DummyServer">[docs]</a><span class="k">class</span> <span class="nc">DummyServer</span><span class="p">(</span><span class="n">smtpd</span><span class="o">.</span><span class="n">SMTPServer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">localaddr</span><span class="p">,</span> <span class="n">remoteaddr</span><span class="p">):</span>
        <span class="n">smtpd</span><span class="o">.</span><span class="n">SMTPServer</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">localaddr</span><span class="p">,</span> <span class="n">remoteaddr</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">messages</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="DummyServer.process_message"><a class="viewcode-back" href="../../test.html#test.test_smtpd.DummyServer.process_message">[docs]</a>    <span class="k">def</span> <span class="nf">process_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peer</span><span class="p">,</span> <span class="n">mailfrom</span><span class="p">,</span> <span class="n">rcpttos</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">peer</span><span class="p">,</span> <span class="n">mailfrom</span><span class="p">,</span> <span class="n">rcpttos</span><span class="p">,</span> <span class="n">data</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">data</span> <span class="o">==</span> <span class="s">&#39;return status&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&#39;250 Okish&#39;</span>

</div></div>
<div class="viewcode-block" id="DummyDispatcherBroken"><a class="viewcode-back" href="../../test.html#test.test_smtpd.DummyDispatcherBroken">[docs]</a><span class="k">class</span> <span class="nc">DummyDispatcherBroken</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span>

</div>
<div class="viewcode-block" id="BrokenDummyServer"><a class="viewcode-back" href="../../test.html#test.test_smtpd.BrokenDummyServer">[docs]</a><span class="k">class</span> <span class="nc">BrokenDummyServer</span><span class="p">(</span><span class="n">DummyServer</span><span class="p">):</span>
<div class="viewcode-block" id="BrokenDummyServer.listen"><a class="viewcode-back" href="../../test.html#test.test_smtpd.BrokenDummyServer.listen">[docs]</a>    <span class="k">def</span> <span class="nf">listen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">DummyDispatcherBroken</span><span class="p">()</span>

</div></div>
<div class="viewcode-block" id="SMTPDServerTest"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDServerTest">[docs]</a><span class="k">class</span> <span class="nc">SMTPDServerTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="SMTPDServerTest.setUp"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDServerTest.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">smtpd</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">asyncore</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">mock_socket</span>
</div>
<div class="viewcode-block" id="SMTPDServerTest.test_process_message_unimplemented"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDServerTest.test_process_message_unimplemented">[docs]</a>    <span class="k">def</span> <span class="nf">test_process_message_unimplemented</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">server</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">SMTPServer</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
        <span class="n">channel</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">SMTPChannel</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">write_line</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
            <span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">queue_recv</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">channel</span><span class="o">.</span><span class="n">handle_read</span><span class="p">()</span>

        <span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">NotImplementedError</span><span class="p">,</span> <span class="n">write_line</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;spam</span><span class="se">\r\n</span><span class="s">.</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDServerTest.tearDown"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDServerTest.tearDown">[docs]</a>    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">asyncore</span><span class="o">.</span><span class="n">close_all</span><span class="p">()</span>
        <span class="n">asyncore</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">socket</span>

</div></div>
<div class="viewcode-block" id="SMTPDChannelTest"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest">[docs]</a><span class="k">class</span> <span class="nc">SMTPDChannelTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="SMTPDChannelTest.setUp"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">smtpd</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">asyncore</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">mock_socket</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_debugstream</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">DEBUGSTREAM</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">DEBUGSTREAM</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server</span> <span class="o">=</span> <span class="n">DummyServer</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">SMTPChannel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="p">,</span> <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.tearDown"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.tearDown">[docs]</a>    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">asyncore</span><span class="o">.</span><span class="n">close_all</span><span class="p">()</span>
        <span class="n">asyncore</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">socket</span>
        <span class="n">smtpd</span><span class="o">.</span><span class="n">DEBUGSTREAM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_debugstream</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.write_line"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.write_line">[docs]</a>    <span class="k">def</span> <span class="nf">write_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">queue_recv</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">handle_read</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_broken_connect"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_broken_connect">[docs]</a>    <span class="k">def</span> <span class="nf">test_broken_connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">DummyDispatcherBroken</span><span class="p">,</span> <span class="n">BrokenDummyServer</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_server_accept"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_server_accept">[docs]</a>    <span class="k">def</span> <span class="nf">test_server_accept</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">handle_accept</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_missing_data"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_missing_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_missing_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;500 Error: bad syntax</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_EHLO"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_EHLO">[docs]</a>    <span class="k">def</span> <span class="nf">test_EHLO</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 HELP</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_EHLO_bad_syntax"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_EHLO_bad_syntax">[docs]</a>    <span class="k">def</span> <span class="nf">test_EHLO_bad_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;501 Syntax: EHLO hostname</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_EHLO_duplicate"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_EHLO_duplicate">[docs]</a>    <span class="k">def</span> <span class="nf">test_EHLO_duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;503 Duplicate HELO/EHLO</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_EHLO_HELO_duplicate"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_EHLO_HELO_duplicate">[docs]</a>    <span class="k">def</span> <span class="nf">test_EHLO_HELO_duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;503 Duplicate HELO/EHLO</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELO"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELO">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELO</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">getfqdn</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="s">&#39;250 {}</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELO_EHLO_duplicate"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELO_EHLO_duplicate">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELO_EHLO_duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;503 Duplicate HELO/EHLO</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELP"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELP">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELP</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;250 Supported commands: EHLO HELO MAIL RCPT &#39;</span> <span class="o">+</span> \
                         <span class="n">b</span><span class="s">&#39;DATA RSET NOOP QUIT VRFY</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELP_command"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELP_command">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELP_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELP MAIL&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;250 Syntax: MAIL FROM: &lt;address&gt;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELP_command_unknown"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELP_command_unknown">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELP_command_unknown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELP SPAM&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;501 Supported commands: EHLO HELO MAIL RCPT &#39;</span> <span class="o">+</span> \
                         <span class="n">b</span><span class="s">&#39;DATA RSET NOOP QUIT VRFY</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELO_bad_syntax"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELO_bad_syntax">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELO_bad_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;501 Syntax: HELO hostname</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELO_duplicate"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELO_duplicate">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELO_duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;503 Duplicate HELO/EHLO</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELO_parameter_rejected_when_extensions_not_enabled"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELO_parameter_rejected_when_extensions_not_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELO_parameter_rejected_when_extensions_not_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extended_smtp</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:&lt;foo@example.com&gt; SIZE=1234&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;501 Syntax: MAIL FROM: &lt;address&gt;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_allows_space_after_colon"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_allows_space_after_colon">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_allows_space_after_colon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:   &lt;foo@example.com&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_extended_MAIL_allows_space_after_colon"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_extended_MAIL_allows_space_after_colon">[docs]</a>    <span class="k">def</span> <span class="nf">test_extended_MAIL_allows_space_after_colon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:   &lt;foo@example.com&gt; size=20&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_NOOP"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_NOOP">[docs]</a>    <span class="k">def</span> <span class="nf">test_NOOP</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;NOOP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELO_NOOP"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELO_NOOP">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELO_NOOP</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;NOOP&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_NOOP_bad_syntax"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_NOOP_bad_syntax">[docs]</a>    <span class="k">def</span> <span class="nf">test_NOOP_bad_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;NOOP hi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;501 Syntax: NOOP</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_QUIT"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_QUIT">[docs]</a>    <span class="k">def</span> <span class="nf">test_QUIT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;QUIT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;221 Bye</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELO_QUIT"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELO_QUIT">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELO_QUIT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;QUIT&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;221 Bye</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_QUIT_arg_ignored"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_QUIT_arg_ignored">[docs]</a>    <span class="k">def</span> <span class="nf">test_QUIT_arg_ignored</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;QUIT bye bye&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;221 Bye</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_bad_state"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_bad_state">[docs]</a>    <span class="k">def</span> <span class="nf">test_bad_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">smtp_state</span> <span class="o">=</span> <span class="s">&#39;BAD STATE&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;451 Internal confusion</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_command_too_long"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_command_too_long">[docs]</a>    <span class="k">def</span> <span class="nf">test_command_too_long</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from: &#39;</span> <span class="o">+</span>
                        <span class="n">b</span><span class="s">&#39;a&#39;</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">command_size_limit</span> <span class="o">+</span>
                        <span class="n">b</span><span class="s">&#39;@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;500 Error: line too long</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_command_limit_extended_with_SIZE"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_command_limit_extended_with_SIZE">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_command_limit_extended_with_SIZE</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="n">fill_len</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">command_size_limit</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="s">&#39;MAIL from:&lt;@example&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:&lt;&#39;</span> <span class="o">+</span>
                        <span class="n">b</span><span class="s">&#39;a&#39;</span> <span class="o">*</span> <span class="n">fill_len</span> <span class="o">+</span>
                        <span class="n">b</span><span class="s">&#39;@example&gt; SIZE=1234&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:&lt;&#39;</span> <span class="o">+</span>
                        <span class="n">b</span><span class="s">&#39;a&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="n">fill_len</span> <span class="o">+</span> <span class="mi">26</span><span class="p">)</span> <span class="o">+</span>
                        <span class="n">b</span><span class="s">&#39;@example&gt; SIZE=1234&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;500 Error: line too long</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_data_longer_than_default_data_size_limit"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_data_longer_than_default_data_size_limit">[docs]</a>    <span class="k">def</span> <span class="nf">test_data_longer_than_default_data_size_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Hack the default so we don&#39;t have to generate so much data.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">data_size_limit</span> <span class="o">=</span> <span class="mi">1048</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;A&#39;</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">data_size_limit</span> <span class="o">+</span>
                        <span class="n">b</span><span class="s">&#39;A</span><span class="se">\r\n</span><span class="s">.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;552 Error: Too much mail data</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_size_parameter"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_size_parameter">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_size_parameter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL FROM:&lt;eggs@example&gt; SIZE=512&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_invalid_size_parameter"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_invalid_size_parameter">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_invalid_size_parameter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL FROM:&lt;eggs@example&gt; SIZE=invalid&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;501 Syntax: MAIL FROM: &lt;address&gt; [SP &lt;mail-parameters&gt;]</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_RCPT_unknown_parameters"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_RCPT_unknown_parameters">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_RCPT_unknown_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL FROM:&lt;eggs@example&gt; ham=green&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;555 MAIL FROM parameters not recognized or not implemented</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL FROM:&lt;eggs@example&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT TO:&lt;eggs@example&gt; ham=green&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;555 RCPT TO parameters not recognized or not implemented</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_size_parameter_larger_than_default_data_size_limit"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_size_parameter_larger_than_default_data_size_limit">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_size_parameter_larger_than_default_data_size_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">data_size_limit</span> <span class="o">=</span> <span class="mi">1048</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL FROM:&lt;eggs@example&gt; SIZE=2096&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;552 Error: message size exceeds fixed maximum message size</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_need_MAIL"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_need_MAIL">[docs]</a>    <span class="k">def</span> <span class="nf">test_need_MAIL</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT to:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;503 Error: need MAIL command</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_syntax_HELO"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_syntax_HELO">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_syntax_HELO</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;501 Syntax: MAIL FROM: &lt;address&gt;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_syntax_EHLO"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_syntax_EHLO">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_syntax_EHLO</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;501 Syntax: MAIL FROM: &lt;address&gt; [SP &lt;mail-parameters&gt;]</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_missing_address"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_missing_address">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_missing_address</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;501 Syntax: MAIL FROM: &lt;address&gt;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_chevrons"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_chevrons">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_chevrons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:&lt;eggs@example&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_empty_chevrons"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_empty_chevrons">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_empty_chevrons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:&lt;&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_quoted_localpart"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_quoted_localpart">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_quoted_localpart</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from: &lt;&quot;Fred Blogs&quot;@example.com&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">mailfrom</span><span class="p">,</span> <span class="s">&#39;&quot;Fred Blogs&quot;@example.com&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_quoted_localpart_no_angles"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_quoted_localpart_no_angles">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_quoted_localpart_no_angles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from: &quot;Fred Blogs&quot;@example.com&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">mailfrom</span><span class="p">,</span> <span class="s">&#39;&quot;Fred Blogs&quot;@example.com&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_quoted_localpart_with_size"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_quoted_localpart_with_size">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_quoted_localpart_with_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from: &lt;&quot;Fred Blogs&quot;@example.com&gt; SIZE=1000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">mailfrom</span><span class="p">,</span> <span class="s">&#39;&quot;Fred Blogs&quot;@example.com&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_MAIL_quoted_localpart_with_size_no_angles"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_MAIL_quoted_localpart_with_size_no_angles">[docs]</a>    <span class="k">def</span> <span class="nf">test_MAIL_quoted_localpart_with_size_no_angles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from: &quot;Fred Blogs&quot;@example.com SIZE=1000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">mailfrom</span><span class="p">,</span> <span class="s">&#39;&quot;Fred Blogs&quot;@example.com&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_nested_MAIL"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_nested_MAIL">[docs]</a>    <span class="k">def</span> <span class="nf">test_nested_MAIL</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;503 Error: nested MAIL command</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_VRFY"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_VRFY">[docs]</a>    <span class="k">def</span> <span class="nf">test_VRFY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;VRFY eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;252 Cannot VRFY user, but will accept message and attempt &#39;</span> <span class="o">+</span> \
            <span class="n">b</span><span class="s">&#39;delivery</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_VRFY_syntax"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_VRFY_syntax">[docs]</a>    <span class="k">def</span> <span class="nf">test_VRFY_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;VRFY&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;501 Syntax: VRFY &lt;address&gt;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_EXPN_not_implemented"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_EXPN_not_implemented">[docs]</a>    <span class="k">def</span> <span class="nf">test_EXPN_not_implemented</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EXPN&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;502 EXPN not implemented</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_no_HELO_MAIL"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_no_HELO_MAIL">[docs]</a>    <span class="k">def</span> <span class="nf">test_no_HELO_MAIL</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL from:&lt;foo@example.com&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;503 Error: send HELO first</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_need_RCPT"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_need_RCPT">[docs]</a>    <span class="k">def</span> <span class="nf">test_need_RCPT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;503 Error: need RCPT command</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_RCPT_syntax_HELO"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_RCPT_syntax_HELO">[docs]</a>    <span class="k">def</span> <span class="nf">test_RCPT_syntax_HELO</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From: eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT to eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;501 Syntax: RCPT TO: &lt;address&gt;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_RCPT_syntax_EHLO"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_RCPT_syntax_EHLO">[docs]</a>    <span class="k">def</span> <span class="nf">test_RCPT_syntax_EHLO</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;EHLO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From: eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT to eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;501 Syntax: RCPT TO: &lt;address&gt; [SP &lt;mail-parameters&gt;]</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_RCPT_lowercase_to_OK"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_RCPT_lowercase_to_OK">[docs]</a>    <span class="k">def</span> <span class="nf">test_RCPT_lowercase_to_OK</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From: eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT to: &lt;eggs@example&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_no_HELO_RCPT"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_no_HELO_RCPT">[docs]</a>    <span class="k">def</span> <span class="nf">test_no_HELO_RCPT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT to eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;503 Error: send HELO first</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_data_dialog"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_data_dialog">[docs]</a>    <span class="k">def</span> <span class="nf">test_data_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;data</span><span class="se">\r\n</span><span class="s">more</span><span class="se">\r\n</span><span class="s">.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">messages</span><span class="p">,</span>
            <span class="p">[(</span><span class="s">&#39;peer&#39;</span><span class="p">,</span> <span class="s">&#39;eggs@example&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;spam@example&#39;</span><span class="p">],</span> <span class="s">&#39;data</span><span class="se">\n</span><span class="s">more&#39;</span><span class="p">)])</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_DATA_syntax"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_DATA_syntax">[docs]</a>    <span class="k">def</span> <span class="nf">test_DATA_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA spam&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;501 Syntax: DATA</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_no_HELO_DATA"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_no_HELO_DATA">[docs]</a>    <span class="k">def</span> <span class="nf">test_no_HELO_DATA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA spam&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;503 Error: send HELO first</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_data_transparency_section_4_5_2"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_data_transparency_section_4_5_2">[docs]</a>    <span class="k">def</span> <span class="nf">test_data_transparency_section_4_5_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;..</span><span class="se">\r\n</span><span class="s">.</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">received_data</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_multiple_RCPT"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_multiple_RCPT">[docs]</a>    <span class="k">def</span> <span class="nf">test_multiple_RCPT</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:ham@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;data</span><span class="se">\r\n</span><span class="s">.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">messages</span><span class="p">,</span>
            <span class="p">[(</span><span class="s">&#39;peer&#39;</span><span class="p">,</span> <span class="s">&#39;eggs@example&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;spam@example&#39;</span><span class="p">,</span><span class="s">&#39;ham@example&#39;</span><span class="p">],</span> <span class="s">&#39;data&#39;</span><span class="p">)])</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_manual_status"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_manual_status">[docs]</a>    <span class="k">def</span> <span class="nf">test_manual_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># checks that the Channel is able to return a custom status message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;return status</span><span class="se">\r\n</span><span class="s">.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 Okish</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_RSET"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_RSET">[docs]</a>    <span class="k">def</span> <span class="nf">test_RSET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RSET&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:foo@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;data</span><span class="se">\r\n</span><span class="s">.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">messages</span><span class="p">,</span>
            <span class="p">[(</span><span class="s">&#39;peer&#39;</span><span class="p">,</span> <span class="s">&#39;foo@example&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;eggs@example&#39;</span><span class="p">],</span> <span class="s">&#39;data&#39;</span><span class="p">)])</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_HELO_RSET"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_HELO_RSET">[docs]</a>    <span class="k">def</span> <span class="nf">test_HELO_RSET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RSET&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_RSET_syntax"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_RSET_syntax">[docs]</a>    <span class="k">def</span> <span class="nf">test_RSET_syntax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RSET hi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;501 Syntax: RSET</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_unknown_command"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_unknown_command">[docs]</a>    <span class="k">def</span> <span class="nf">test_unknown_command</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;UNKNOWN_CMD&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;500 Error: command &quot;UNKNOWN_CMD&quot; not &#39;</span> <span class="o">+</span> \
                         <span class="n">b</span><span class="s">&#39;recognized</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelTest.test_attribute_deprecations"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelTest.test_attribute_deprecations">[docs]</a>    <span class="k">def</span> <span class="nf">test_attribute_deprecations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__server</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__server</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__line</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__line</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__state</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__state</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__greeting</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__greeting</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__mailfrom</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__mailfrom</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__rcpttos</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__rcpttos</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__data</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__data</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__fqdn</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__fqdn</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__peer</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__peer</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__conn</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__conn</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="n">spam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__addr</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">_SMTPChannel__addr</span> <span class="o">=</span> <span class="s">&#39;spam&#39;</span>

</div></div>
<div class="viewcode-block" id="SMTPDChannelWithDataSizeLimitTest"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelWithDataSizeLimitTest">[docs]</a><span class="k">class</span> <span class="nc">SMTPDChannelWithDataSizeLimitTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

<div class="viewcode-block" id="SMTPDChannelWithDataSizeLimitTest.setUp"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelWithDataSizeLimitTest.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">smtpd</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">asyncore</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">mock_socket</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_debugstream</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">DEBUGSTREAM</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">DEBUGSTREAM</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">server</span> <span class="o">=</span> <span class="n">DummyServer</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
        <span class="c"># Set DATA size limit to 32 bytes for easy testing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">SMTPChannel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="p">,</span> <span class="n">conn</span><span class="p">,</span> <span class="n">addr</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SMTPDChannelWithDataSizeLimitTest.tearDown"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelWithDataSizeLimitTest.tearDown">[docs]</a>    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">asyncore</span><span class="o">.</span><span class="n">close_all</span><span class="p">()</span>
        <span class="n">asyncore</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">smtpd</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">socket</span>
        <span class="n">smtpd</span><span class="o">.</span><span class="n">DEBUGSTREAM</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">old_debugstream</span>
</div>
<div class="viewcode-block" id="SMTPDChannelWithDataSizeLimitTest.write_line"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelWithDataSizeLimitTest.write_line">[docs]</a>    <span class="k">def</span> <span class="nf">write_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">queue_recv</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">handle_read</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="SMTPDChannelWithDataSizeLimitTest.test_data_limit_dialog"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelWithDataSizeLimitTest.test_data_limit_dialog">[docs]</a>    <span class="k">def</span> <span class="nf">test_data_limit_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;data</span><span class="se">\r\n</span><span class="s">more</span><span class="se">\r\n</span><span class="s">.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">messages</span><span class="p">,</span>
            <span class="p">[(</span><span class="s">&#39;peer&#39;</span><span class="p">,</span> <span class="s">&#39;eggs@example&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;spam@example&#39;</span><span class="p">],</span> <span class="s">&#39;data</span><span class="se">\n</span><span class="s">more&#39;</span><span class="p">)])</span>
</div>
<div class="viewcode-block" id="SMTPDChannelWithDataSizeLimitTest.test_data_limit_dialog_too_much_data"><a class="viewcode-back" href="../../test.html#test.test_smtpd.SMTPDChannelWithDataSizeLimitTest.test_data_limit_dialog_too_much_data">[docs]</a>    <span class="k">def</span> <span class="nf">test_data_limit_dialog_too_much_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;HELO example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;MAIL From:eggs@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;RCPT To:spam@example&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;250 OK</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;DATA&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
            <span class="n">b</span><span class="s">&#39;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_line</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;This message is longer than 32 bytes</span><span class="se">\r\n</span><span class="s">.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">socket</span><span class="o">.</span><span class="n">last</span><span class="p">,</span>
                         <span class="n">b</span><span class="s">&#39;552 Error: Too much mail data</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">)</span>

</div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>