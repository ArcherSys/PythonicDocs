

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_textwrap &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_textwrap</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_textwrap</h1><div class="highlight"><pre>
<span class="c">#</span>
<span class="c"># Test suite for the textwrap module.</span>
<span class="c">#</span>
<span class="c"># Original tests written by Greg Ward &lt;gward@python.net&gt;.</span>
<span class="c"># Converted to PyUnit by Peter Hansen &lt;peter@engcorp.com&gt;.</span>
<span class="c"># Currently maintained by Greg Ward.</span>
<span class="c">#</span>
<span class="c"># $Id$</span>
<span class="c">#</span>

<span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">textwrap</span> <span class="kn">import</span> <span class="n">TextWrapper</span><span class="p">,</span> <span class="n">wrap</span><span class="p">,</span> <span class="n">fill</span><span class="p">,</span> <span class="n">dedent</span><span class="p">,</span> <span class="n">indent</span><span class="p">,</span> <span class="n">shorten</span>


<div class="viewcode-block" id="BaseTestCase"><a class="viewcode-back" href="../../test.html#test.test_textwrap.BaseTestCase">[docs]</a><span class="k">class</span> <span class="nc">BaseTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Parent class with utility methods for textwrap tests.&#39;&#39;&#39;</span>

<div class="viewcode-block" id="BaseTestCase.show"><a class="viewcode-back" href="../../test.html#test.test_textwrap.BaseTestCase.show">[docs]</a>    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">textin</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">textin</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">textin</span><span class="p">)):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;  </span><span class="si">%d</span><span class="s">: </span><span class="si">%r</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">textin</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
            <span class="n">result</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="k">if</span> <span class="n">result</span> <span class="k">else</span> <span class="s">&quot;  no lines&quot;</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">textin</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="s">&quot;  </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">repr</span><span class="p">(</span><span class="n">textin</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

</div>
<div class="viewcode-block" id="BaseTestCase.check"><a class="viewcode-back" href="../../test.html#test.test_textwrap.BaseTestCase.check">[docs]</a>    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">,</span>
            <span class="s">&#39;expected:</span><span class="se">\n</span><span class="si">%s</span><span class="se">\n</span><span class="s">but got:</span><span class="se">\n</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">expect</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">result</span><span class="p">)))</span>
</div>
<div class="viewcode-block" id="BaseTestCase.check_wrap"><a class="viewcode-back" href="../../test.html#test.test_textwrap.BaseTestCase.check_wrap">[docs]</a>    <span class="k">def</span> <span class="nf">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">expect</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTestCase.check_split"><a class="viewcode-back" href="../../test.html#test.test_textwrap.BaseTestCase.check_split">[docs]</a>    <span class="k">def</span> <span class="nf">check_split</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">expect</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">_split</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">,</span>
                         <span class="s">&quot;</span><span class="se">\n</span><span class="s">expected </span><span class="si">%r</span><span class="se">\n</span><span class="s">&quot;</span>
                         <span class="s">&quot;but got  </span><span class="si">%r</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">result</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="WrapTestCase"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase">[docs]</a><span class="k">class</span> <span class="nc">WrapTestCase</span><span class="p">(</span><span class="n">BaseTestCase</span><span class="p">):</span>

<div class="viewcode-block" id="WrapTestCase.setUp"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span> <span class="o">=</span> <span class="n">TextWrapper</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_simple"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_simple">[docs]</a>    <span class="k">def</span> <span class="nf">test_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Simple case: just words, spaces, and a bit of punctuation</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello there, how are you this fine day?  I&#39;m glad to hear it!&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello there,&quot;</span><span class="p">,</span>
                         <span class="s">&quot;how are you&quot;</span><span class="p">,</span>
                         <span class="s">&quot;this fine&quot;</span><span class="p">,</span>
                         <span class="s">&quot;day?  I&#39;m&quot;</span><span class="p">,</span>
                         <span class="s">&quot;glad to hear&quot;</span><span class="p">,</span>
                         <span class="s">&quot;it!&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello there, how are you this fine day?&quot;</span><span class="p">,</span>
                         <span class="s">&quot;I&#39;m glad to hear it!&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="p">[</span><span class="n">text</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_empty_string"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_empty_string">[docs]</a>    <span class="k">def</span> <span class="nf">test_empty_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that wrapping the empty string returns an empty list.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[],</span> <span class="n">drop_whitespace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_empty_string_with_initial_indent"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_empty_string_with_initial_indent">[docs]</a>    <span class="k">def</span> <span class="nf">test_empty_string_with_initial_indent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that the empty string is not indented.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[],</span> <span class="n">initial_indent</span><span class="o">=</span><span class="s">&quot;++&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[],</span> <span class="n">initial_indent</span><span class="o">=</span><span class="s">&quot;++&quot;</span><span class="p">,</span> <span class="n">drop_whitespace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_whitespace"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_whitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Whitespace munging and end-of-sentence detection</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">This is a paragraph that already has</span>
<span class="s">line breaks.  But some of its lines are much longer than the others,</span>
<span class="s">so it needs to be wrapped.</span>
<span class="s">Some lines are </span><span class="se">\t</span><span class="s">tabbed too.</span>
<span class="s">What a mess!</span>
<span class="s">&quot;&quot;&quot;</span>

        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;This is a paragraph that already has line&quot;</span><span class="p">,</span>
                  <span class="s">&quot;breaks.  But some of its lines are much&quot;</span><span class="p">,</span>
                  <span class="s">&quot;longer than the others, so it needs to be&quot;</span><span class="p">,</span>
                  <span class="s">&quot;wrapped.  Some lines are  tabbed too.  What a&quot;</span><span class="p">,</span>
                  <span class="s">&quot;mess!&quot;</span><span class="p">]</span>

        <span class="n">wrapper</span> <span class="o">=</span> <span class="n">TextWrapper</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="n">fix_sentence_endings</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">wrapper</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">expect</span><span class="p">))</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">Test</span><span class="se">\t</span><span class="s">default</span><span class="se">\t\t</span><span class="s">tabsize.&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;        Test    default         tabsize.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">Test</span><span class="se">\t</span><span class="s">custom</span><span class="se">\t\t</span><span class="s">tabsize.&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;    Test    custom      tabsize.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">expect</span><span class="p">,</span> <span class="n">tabsize</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_fix_sentence_endings"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_fix_sentence_endings">[docs]</a>    <span class="k">def</span> <span class="nf">test_fix_sentence_endings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">wrapper</span> <span class="o">=</span> <span class="n">TextWrapper</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">fix_sentence_endings</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

        <span class="c"># SF #847346: ensure that fix_sentence_endings=True does the</span>
        <span class="c"># right thing even on input short enough that it doesn&#39;t need to</span>
        <span class="c"># be wrapped.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;A short line. Note the single space.&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;A short line.  Note the single space.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>

        <span class="c"># Test some of the hairy end cases that _fix_sentence_endings()</span>
        <span class="c"># is supposed to handle (the easy stuff is tested in</span>
        <span class="c"># test_whitespace() above).</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Well, Doctor? What do you think?&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Well, Doctor?  What do you think?&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Well, Doctor?</span><span class="se">\n</span><span class="s">What do you think?&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;I say, chaps! Anyone for &quot;tennis?&quot;</span><span class="se">\n</span><span class="s">Hmmph!&#39;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;I say, chaps!  Anyone for &quot;tennis?&quot;  Hmmph!&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">wrapper</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">20</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;I say, chaps!&#39;</span><span class="p">,</span> <span class="s">&#39;Anyone for &quot;tennis?&quot;&#39;</span><span class="p">,</span> <span class="s">&#39;Hmmph!&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;And she said, &quot;Go to hell!&quot;</span><span class="se">\n</span><span class="s">Can you believe that?&#39;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;And she said, &quot;Go to&#39;</span><span class="p">,</span>
                  <span class="s">&#39;hell!&quot;  Can you&#39;</span><span class="p">,</span>
                  <span class="s">&#39;believe that?&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">wrapper</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">60</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;And she said, &quot;Go to hell!&quot;  Can you believe that?&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;File stdio.h is nice.&#39;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;File stdio.h is nice.&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_wrap_short"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_wrap_short">[docs]</a>    <span class="k">def</span> <span class="nf">test_wrap_short</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Wrapping to make short lines longer</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;This is a</span><span class="se">\n</span><span class="s">short paragraph.&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;This is a short&quot;</span><span class="p">,</span>
                                   <span class="s">&quot;paragraph.&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;This is a short paragraph.&quot;</span><span class="p">])</span>

</div>
<div class="viewcode-block" id="WrapTestCase.test_wrap_short_1line"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_wrap_short_1line">[docs]</a>    <span class="k">def</span> <span class="nf">test_wrap_short_1line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test endcases</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;This is a short line.&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;This is a short line.&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;(1) This is a short line.&quot;</span><span class="p">],</span>
                        <span class="n">initial_indent</span><span class="o">=</span><span class="s">&quot;(1) &quot;</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="WrapTestCase.test_hyphenated"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_hyphenated">[docs]</a>    <span class="k">def</span> <span class="nf">test_hyphenated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test breaking hyphenated words</span>

        <span class="n">text</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;this-is-a-useful-feature-for-&quot;</span>
                <span class="s">&quot;reformatting-posts-from-tim-peters&#39;ly&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;this-is-a-useful-feature-for-&quot;</span><span class="p">,</span>
                         <span class="s">&quot;reformatting-posts-from-tim-peters&#39;ly&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;this-is-a-useful-feature-for-&quot;</span><span class="p">,</span>
                         <span class="s">&quot;reformatting-posts-from-tim-peters&#39;ly&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;this-is-a-useful-feature-for-reformatting-&quot;</span><span class="p">,</span>
                         <span class="s">&quot;posts-from-tim-peters&#39;ly&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_hyphenated_numbers"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_hyphenated_numbers">[docs]</a>    <span class="k">def</span> <span class="nf">test_hyphenated_numbers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that hyphenated numbers (eg. dates) are not broken like words.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;Python 1.0.0 was released on 1994-01-26.  Python 1.0.1 was</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;released on 1994-02-15.&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;Python 1.0.0 was released on&#39;</span><span class="p">,</span>
                                   <span class="s">&#39;1994-01-26.  Python 1.0.1 was&#39;</span><span class="p">,</span>
                                   <span class="s">&#39;released on 1994-02-15.&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;Python 1.0.0 was released on 1994-01-26.&#39;</span><span class="p">,</span>
                                   <span class="s">&#39;Python 1.0.1 was released on 1994-02-15.&#39;</span><span class="p">])</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;I do all my shopping at 7-11.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;I do all my shopping at&quot;</span><span class="p">,</span>
                                   <span class="s">&quot;7-11.&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;I do all my shopping at&quot;</span><span class="p">,</span>
                                   <span class="s">&quot;7-11.&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;I do all my shopping at 7-11.&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_em_dash"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_em_dash">[docs]</a>    <span class="k">def</span> <span class="nf">test_em_dash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test text with em-dashes</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Em-dashes should be written -- thus.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Em-dashes should be&quot;</span><span class="p">,</span>
                         <span class="s">&quot;written -- thus.&quot;</span><span class="p">])</span>

        <span class="c"># Probe the boundaries of the properly written em-dash,</span>
        <span class="c"># ie. &quot; -- &quot;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Em-dashes should be written&quot;</span><span class="p">,</span>
                         <span class="s">&quot;-- thus.&quot;</span><span class="p">])</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Em-dashes should be written --&quot;</span><span class="p">,</span>
                  <span class="s">&quot;thus.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Em-dashes should be written -- thus.&quot;</span><span class="p">])</span>

        <span class="c"># The improperly written em-dash is handled too, because</span>
        <span class="c"># it&#39;s adjacent to non-whitespace on both sides.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;You can also do--this or even---this.&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;You can also do&quot;</span><span class="p">,</span>
                  <span class="s">&quot;--this or even&quot;</span><span class="p">,</span>
                  <span class="s">&quot;---this.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;You can also do--&quot;</span><span class="p">,</span>
                  <span class="s">&quot;this or even---&quot;</span><span class="p">,</span>
                  <span class="s">&quot;this.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;You can also do--this or even&quot;</span><span class="p">,</span>
                  <span class="s">&quot;---this.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;You can also do--this or even---&quot;</span><span class="p">,</span>
                  <span class="s">&quot;this.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

        <span class="c"># All of the above behaviour could be deduced by probing the</span>
        <span class="c"># _split() method.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Here&#39;s an -- em-dash and--here&#39;s another---and another!&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Here&#39;s&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;an&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;--&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;em-&quot;</span><span class="p">,</span> <span class="s">&quot;dash&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span>
                  <span class="s">&quot;and&quot;</span><span class="p">,</span> <span class="s">&quot;--&quot;</span><span class="p">,</span> <span class="s">&quot;here&#39;s&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;another&quot;</span><span class="p">,</span> <span class="s">&quot;---&quot;</span><span class="p">,</span>
                  <span class="s">&quot;and&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;another!&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;and then--bam!--he was gone&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;and&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;then&quot;</span><span class="p">,</span> <span class="s">&quot;--&quot;</span><span class="p">,</span> <span class="s">&quot;bam!&quot;</span><span class="p">,</span> <span class="s">&quot;--&quot;</span><span class="p">,</span>
                  <span class="s">&quot;he&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;was&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;gone&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="WrapTestCase.test_unix_options"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_unix_options">[docs]</a>    <span class="k">def</span> <span class="nf">test_unix_options</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test that Unix-style command-line options are wrapped correctly.</span>
        <span class="c"># Both Optik (OptionParser) and Docutils rely on this behaviour!</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;You should use the -n option, or --dry-run in its long form.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;You should use the&quot;</span><span class="p">,</span>
                         <span class="s">&quot;-n option, or --dry-&quot;</span><span class="p">,</span>
                         <span class="s">&quot;run in its long&quot;</span><span class="p">,</span>
                         <span class="s">&quot;form.&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;You should use the -n&quot;</span><span class="p">,</span>
                         <span class="s">&quot;option, or --dry-run&quot;</span><span class="p">,</span>
                         <span class="s">&quot;in its long form.&quot;</span><span class="p">])</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;You should use the -n option, or&quot;</span><span class="p">,</span>
                  <span class="s">&quot;--dry-run in its long form.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;You should use the -n option, or --dry-&quot;</span><span class="p">,</span>
                  <span class="s">&quot;run in its long form.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;You should use the -n option, or --dry-run&quot;</span><span class="p">,</span>
                  <span class="s">&quot;in its long form.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

        <span class="c"># Again, all of the above can be deduced from _split().</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;the -n option, or --dry-run or --dryrun&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;-n&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;option,&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;or&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span>
                  <span class="s">&quot;--dry-&quot;</span><span class="p">,</span> <span class="s">&quot;run&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;or&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;--dryrun&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_funky_hyphens"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_funky_hyphens">[docs]</a>    <span class="k">def</span> <span class="nf">test_funky_hyphens</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Screwy edge cases cooked up by David Goodger.  All reported</span>
        <span class="c"># in SF bug #596434.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;what the--hey!&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;what&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;--&quot;</span><span class="p">,</span> <span class="s">&quot;hey!&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;what the--&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;what&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;the--&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;what the--.&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;what&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;the--.&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;--text--.&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;--text--.&quot;</span><span class="p">])</span>

        <span class="c"># When I first read bug #596434, this is what I thought David</span>
        <span class="c"># was talking about.  I was wrong; these have always worked</span>
        <span class="c"># fine.  The real problem is tested in test_funky_parens()</span>
        <span class="c"># below...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;--option&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;--option&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;--option-opt&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;--option-&quot;</span><span class="p">,</span> <span class="s">&quot;opt&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;foo --option-opt bar&quot;</span><span class="p">,</span>
                         <span class="p">[</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;--option-&quot;</span><span class="p">,</span> <span class="s">&quot;opt&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_punct_hyphens"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_punct_hyphens">[docs]</a>    <span class="k">def</span> <span class="nf">test_punct_hyphens</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Oh bother, SF #965425 found another problem with hyphens --</span>
        <span class="c"># hyphenated words in single quotes weren&#39;t handled correctly.</span>
        <span class="c"># In fact, the bug is that *any* punctuation around a hyphenated</span>
        <span class="c"># word was handled incorrectly, except for a leading &quot;--&quot;, which</span>
        <span class="c"># was special-cased for Optik and Docutils.  So test a variety</span>
        <span class="c"># of styles of punctuation around a hyphenated word.</span>
        <span class="c"># (Actually this is based on an Optik bug report, #813077).</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;the &#39;wibble-wobble&#39; widget&quot;</span><span class="p">,</span>
                         <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&quot;&#39;wibble-&quot;</span><span class="p">,</span> <span class="s">&quot;wobble&#39;&quot;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;widget&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&#39;the &quot;wibble-wobble&quot; widget&#39;</span><span class="p">,</span>
                         <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;&quot;wibble-&#39;</span><span class="p">,</span> <span class="s">&#39;wobble&quot;&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;widget&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;the (wibble-wobble) widget&quot;</span><span class="p">,</span>
                         <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&quot;(wibble-&quot;</span><span class="p">,</span> <span class="s">&quot;wobble)&quot;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;widget&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;the [&#39;wibble-wobble&#39;] widget&quot;</span><span class="p">,</span>
                         <span class="p">[</span><span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&quot;[&#39;wibble-&quot;</span><span class="p">,</span> <span class="s">&quot;wobble&#39;]&quot;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;widget&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_funky_parens"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_funky_parens">[docs]</a>    <span class="k">def</span> <span class="nf">test_funky_parens</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Second part of SF bug #596434: long option strings inside</span>
        <span class="c"># parentheses.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;foo (--option) bar&quot;</span><span class="p">,</span>
                         <span class="p">[</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;(--option)&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">])</span>

        <span class="c"># Related stuff -- make sure parens work in simpler contexts.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;foo (bar) baz&quot;</span><span class="p">,</span>
                         <span class="p">[</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;(bar)&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;baz&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_split</span><span class="p">(</span><span class="s">&quot;blah (ding dong), wubba&quot;</span><span class="p">,</span>
                         <span class="p">[</span><span class="s">&quot;blah&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;(ding&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;dong),&quot;</span><span class="p">,</span>
                          <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;wubba&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_drop_whitespace_false"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_drop_whitespace_false">[docs]</a>    <span class="k">def</span> <span class="nf">test_drop_whitespace_false</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that drop_whitespace=False preserves whitespace.</span>
        <span class="c"># SF patch #1581073</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot; This is a    sentence with     much whitespace.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot; This is a&quot;</span><span class="p">,</span> <span class="s">&quot;    &quot;</span><span class="p">,</span> <span class="s">&quot;sentence &quot;</span><span class="p">,</span>
                         <span class="s">&quot;with     &quot;</span><span class="p">,</span> <span class="s">&quot;much white&quot;</span><span class="p">,</span> <span class="s">&quot;space.&quot;</span><span class="p">],</span>
                        <span class="n">drop_whitespace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_drop_whitespace_false_whitespace_only"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_drop_whitespace_false_whitespace_only">[docs]</a>    <span class="k">def</span> <span class="nf">test_drop_whitespace_false_whitespace_only</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that drop_whitespace=False preserves a whitespace-only string.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&quot;   &quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;   &quot;</span><span class="p">],</span> <span class="n">drop_whitespace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_drop_whitespace_false_whitespace_only_with_indent"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_drop_whitespace_false_whitespace_only_with_indent">[docs]</a>    <span class="k">def</span> <span class="nf">test_drop_whitespace_false_whitespace_only_with_indent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that a whitespace-only string gets indented (when</span>
        <span class="c"># drop_whitespace is False).</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&quot;   &quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;     &quot;</span><span class="p">],</span> <span class="n">drop_whitespace</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                        <span class="n">initial_indent</span><span class="o">=</span><span class="s">&quot;  &quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_drop_whitespace_whitespace_only"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_drop_whitespace_whitespace_only">[docs]</a>    <span class="k">def</span> <span class="nf">test_drop_whitespace_whitespace_only</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check drop_whitespace on a whitespace-only string.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&quot;  &quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_drop_whitespace_leading_whitespace"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_drop_whitespace_leading_whitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_drop_whitespace_leading_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that drop_whitespace does not drop leading whitespace (if</span>
        <span class="c"># followed by non-whitespace).</span>
        <span class="c"># SF bug #622849 reported inconsistent handling of leading</span>
        <span class="c"># whitespace; let&#39;s test that a bit, shall we?</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot; This is a sentence with leading whitespace.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot; This is a sentence with leading whitespace.&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot; This is a sentence with&quot;</span><span class="p">,</span> <span class="s">&quot;leading whitespace.&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_drop_whitespace_whitespace_line"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_drop_whitespace_whitespace_line">[docs]</a>    <span class="k">def</span> <span class="nf">test_drop_whitespace_whitespace_line</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that drop_whitespace skips the whole line if a non-leading</span>
        <span class="c"># line consists only of whitespace.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;abcd    efgh&quot;</span>
        <span class="c"># Include the result for drop_whitespace=False for comparison.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span> <span class="s">&quot;    &quot;</span><span class="p">,</span> <span class="s">&quot;efgh&quot;</span><span class="p">],</span>
                        <span class="n">drop_whitespace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span> <span class="s">&quot;efgh&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_drop_whitespace_whitespace_only_with_indent"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_drop_whitespace_whitespace_only_with_indent">[docs]</a>    <span class="k">def</span> <span class="nf">test_drop_whitespace_whitespace_only_with_indent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that initial_indent is not applied to a whitespace-only</span>
        <span class="c"># string.  This checks a special case of the fact that dropping</span>
        <span class="c"># whitespace occurs before indenting.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&quot;  &quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[],</span> <span class="n">initial_indent</span><span class="o">=</span><span class="s">&quot;++&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_drop_whitespace_whitespace_indent"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_drop_whitespace_whitespace_indent">[docs]</a>    <span class="k">def</span> <span class="nf">test_drop_whitespace_whitespace_indent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that drop_whitespace does not drop whitespace indents.</span>
        <span class="c"># This checks a special case of the fact that dropping whitespace</span>
        <span class="c"># occurs before indenting.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&quot;abcd efgh&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;  abcd&quot;</span><span class="p">,</span> <span class="s">&quot;  efgh&quot;</span><span class="p">],</span>
                        <span class="n">initial_indent</span><span class="o">=</span><span class="s">&quot;  &quot;</span><span class="p">,</span> <span class="n">subsequent_indent</span><span class="o">=</span><span class="s">&quot;  &quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_split"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_split">[docs]</a>    <span class="k">def</span> <span class="nf">test_split</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Ensure that the standard _split() method works as advertised</span>
        <span class="c"># in the comments</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello there -- you goof-ball, use the -b option!&quot;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">_split</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span>
             <span class="p">[</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;there&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;--&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;you&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;goof-&quot;</span><span class="p">,</span>
              <span class="s">&quot;ball,&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;use&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="s">&quot;-b&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span>  <span class="s">&quot;option!&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_break_on_hyphens"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_break_on_hyphens">[docs]</a>    <span class="k">def</span> <span class="nf">test_break_on_hyphens</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Ensure that the break_on_hyphens attributes work</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;yaba daba-doo&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;yaba daba-&quot;</span><span class="p">,</span> <span class="s">&quot;doo&quot;</span><span class="p">],</span>
                        <span class="n">break_on_hyphens</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;yaba&quot;</span><span class="p">,</span> <span class="s">&quot;daba-doo&quot;</span><span class="p">],</span>
                        <span class="n">break_on_hyphens</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_bad_width"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_bad_width">[docs]</a>    <span class="k">def</span> <span class="nf">test_bad_width</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Ensure that width &lt;= 0 is caught.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Whatever, it doesn&#39;t matter.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">wrap</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">wrap</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_no_split_at_umlaut"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_no_split_at_umlaut">[docs]</a>    <span class="k">def</span> <span class="nf">test_no_split_at_umlaut</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Die Empf</span><span class="se">\xe4</span><span class="s">nger-Auswahl&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;Die&quot;</span><span class="p">,</span> <span class="s">&quot;Empf</span><span class="se">\xe4</span><span class="s">nger-&quot;</span><span class="p">,</span> <span class="s">&quot;Auswahl&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="WrapTestCase.test_umlaut_followed_by_dash"><a class="viewcode-back" href="../../test.html#test.test_textwrap.WrapTestCase.test_umlaut_followed_by_dash">[docs]</a>    <span class="k">def</span> <span class="nf">test_umlaut_followed_by_dash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;aa </span><span class="se">\xe4\xe4</span><span class="s">-</span><span class="se">\xe4\xe4</span><span class="s">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;aa </span><span class="se">\xe4\xe4</span><span class="s">-&quot;</span><span class="p">,</span> <span class="s">&quot;</span><span class="se">\xe4\xe4</span><span class="s">&quot;</span><span class="p">])</span>

</div></div>
<div class="viewcode-block" id="MaxLinesTestCase"><a class="viewcode-back" href="../../test.html#test.test_textwrap.MaxLinesTestCase">[docs]</a><span class="k">class</span> <span class="nc">MaxLinesTestCase</span><span class="p">(</span><span class="n">BaseTestCase</span><span class="p">):</span>
    <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello there, how are you this fine day?  I&#39;m glad to hear it!&quot;</span>

<div class="viewcode-block" id="MaxLinesTestCase.test_simple"><a class="viewcode-back" href="../../test.html#test.test_textwrap.MaxLinesTestCase.test_simple">[docs]</a>    <span class="k">def</span> <span class="nf">test_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello [...]&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello [...]&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello there,&quot;</span><span class="p">,</span>
                         <span class="s">&quot;how [...]&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello there,&quot;</span><span class="p">,</span>
                         <span class="s">&quot;how are [...]&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">],</span> <span class="n">max_lines</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello there,&quot;</span><span class="p">,</span>
                         <span class="s">&quot;how are you&quot;</span><span class="p">,</span>
                         <span class="s">&quot;this fine&quot;</span><span class="p">,</span>
                         <span class="s">&quot;day?  I&#39;m&quot;</span><span class="p">,</span>
                         <span class="s">&quot;glad to hear&quot;</span><span class="p">,</span>
                         <span class="s">&quot;it!&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MaxLinesTestCase.test_spaces"><a class="viewcode-back" href="../../test.html#test.test_textwrap.MaxLinesTestCase.test_spaces">[docs]</a>    <span class="k">def</span> <span class="nf">test_spaces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># strip spaces before placeholder</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello there,&quot;</span><span class="p">,</span>
                         <span class="s">&quot;how are you&quot;</span><span class="p">,</span>
                         <span class="s">&quot;this fine&quot;</span><span class="p">,</span>
                         <span class="s">&quot;day? [...]&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="c"># placeholder at the start of line</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span>
                         <span class="s">&quot;[...]&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="c"># final spaces</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="s">&#39; &#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello there,&quot;</span><span class="p">,</span>
                         <span class="s">&quot;how are you&quot;</span><span class="p">,</span>
                         <span class="s">&quot;this fine&quot;</span><span class="p">,</span>
                         <span class="s">&quot;day?  I&#39;m&quot;</span><span class="p">,</span>
                         <span class="s">&quot;glad to hear&quot;</span><span class="p">,</span>
                         <span class="s">&quot;it!&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MaxLinesTestCase.test_placeholder"><a class="viewcode-back" href="../../test.html#test.test_textwrap.MaxLinesTestCase.test_placeholder">[docs]</a>    <span class="k">def</span> <span class="nf">test_placeholder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello...&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                        <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39;...&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;Hello there,&quot;</span><span class="p">,</span>
                         <span class="s">&quot;how are...&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39;...&#39;</span><span class="p">)</span>
        <span class="c"># long placeholder and indentation</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">initial_indent</span><span class="o">=</span><span class="s">&#39;    &#39;</span><span class="p">,</span>
                 <span class="n">max_lines</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39; [truncated]...&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">subsequent_indent</span><span class="o">=</span><span class="s">&#39;    &#39;</span><span class="p">,</span>
                 <span class="n">max_lines</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39; [truncated]...&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;    Hello there,&quot;</span><span class="p">,</span>
                         <span class="s">&quot;  [truncated]...&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">initial_indent</span><span class="o">=</span><span class="s">&#39;    &#39;</span><span class="p">,</span>
                        <span class="n">subsequent_indent</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                        <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39; [truncated]...&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&quot;  [truncated]...&quot;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                        <span class="n">initial_indent</span><span class="o">=</span><span class="s">&#39;  &#39;</span><span class="p">,</span>
                        <span class="n">subsequent_indent</span><span class="o">=</span><span class="s">&#39;    &#39;</span><span class="p">,</span>
                        <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39; [truncated]...&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">],</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39;.&#39;</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="LongWordTestCase"><a class="viewcode-back" href="../../test.html#test.test_textwrap.LongWordTestCase">[docs]</a><span class="k">class</span> <span class="nc">LongWordTestCase</span> <span class="p">(</span><span class="n">BaseTestCase</span><span class="p">):</span>
<div class="viewcode-block" id="LongWordTestCase.setUp"><a class="viewcode-back" href="../../test.html#test.test_textwrap.LongWordTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span> <span class="o">=</span> <span class="n">TextWrapper</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="s">Did you say &quot;supercalifragilisticexpialidocious?&quot;</span>
<span class="s">How *do* you spell that odd word, anyways?</span>
<span class="s">&#39;&#39;&#39;</span>
</div>
<div class="viewcode-block" id="LongWordTestCase.test_break_long"><a class="viewcode-back" href="../../test.html#test.test_textwrap.LongWordTestCase.test_break_long">[docs]</a>    <span class="k">def</span> <span class="nf">test_break_long</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Wrap text with long words and lots of punctuation</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&#39;Did you say &quot;supercalifragilis&#39;</span><span class="p">,</span>
                         <span class="s">&#39;ticexpialidocious?&quot; How *do*&#39;</span><span class="p">,</span>
                         <span class="s">&#39;you spell that odd word,&#39;</span><span class="p">,</span>
                         <span class="s">&#39;anyways?&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&#39;Did you say &quot;supercalifragilisticexpialidocious?&quot;&#39;</span><span class="p">,</span>
                         <span class="s">&#39;How *do* you spell that odd word, anyways?&#39;</span><span class="p">])</span>

        <span class="c"># SF bug 797650.  Prevent an infinite loop by making sure that at</span>
        <span class="c"># least one character gets split off on every pass.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="s">&#39;-&#39;</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&#39;----------&#39;</span><span class="p">,</span>
                         <span class="s">&#39;               h&#39;</span><span class="p">,</span>
                         <span class="s">&#39;               e&#39;</span><span class="p">,</span>
                         <span class="s">&#39;               l&#39;</span><span class="p">,</span>
                         <span class="s">&#39;               l&#39;</span><span class="p">,</span>
                         <span class="s">&#39;               o&#39;</span><span class="p">],</span>
                        <span class="n">subsequent_indent</span> <span class="o">=</span> <span class="s">&#39; &#39;</span><span class="o">*</span><span class="mi">15</span><span class="p">)</span>

        <span class="c"># bug 1146.  Prevent a long word to be wrongly wrapped when the</span>
        <span class="c"># preceding word is exactly one character shorter than the width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&#39;Did you say &#39;</span><span class="p">,</span>
                         <span class="s">&#39;&quot;supercalifr&#39;</span><span class="p">,</span>
                         <span class="s">&#39;agilisticexp&#39;</span><span class="p">,</span>
                         <span class="s">&#39;ialidocious?&#39;</span><span class="p">,</span>
                         <span class="s">&#39;&quot; How *do*&#39;</span><span class="p">,</span>
                         <span class="s">&#39;you spell&#39;</span><span class="p">,</span>
                         <span class="s">&#39;that odd&#39;</span><span class="p">,</span>
                         <span class="s">&#39;word,&#39;</span><span class="p">,</span>
                         <span class="s">&#39;anyways?&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="LongWordTestCase.test_nobreak_long"><a class="viewcode-back" href="../../test.html#test.test_textwrap.LongWordTestCase.test_nobreak_long">[docs]</a>    <span class="k">def</span> <span class="nf">test_nobreak_long</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test with break_long_words disabled</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">break_long_words</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Did you say&#39;</span><span class="p">,</span>
                  <span class="s">&#39;&quot;supercalifragilisticexpialidocious?&quot;&#39;</span><span class="p">,</span>
                  <span class="s">&#39;How *do* you spell that odd&#39;</span><span class="p">,</span>
                  <span class="s">&#39;word, anyways?&#39;</span>
                  <span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapper</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

        <span class="c"># Same thing with kwargs passed to standalone wrap() function.</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">break_long_words</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="LongWordTestCase.test_max_lines_long"><a class="viewcode-back" href="../../test.html#test.test_textwrap.LongWordTestCase.test_max_lines_long">[docs]</a>    <span class="k">def</span> <span class="nf">test_max_lines_long</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
                        <span class="p">[</span><span class="s">&#39;Did you say &#39;</span><span class="p">,</span>
                         <span class="s">&#39;&quot;supercalifr&#39;</span><span class="p">,</span>
                         <span class="s">&#39;agilisticexp&#39;</span><span class="p">,</span>
                         <span class="s">&#39;[...]&#39;</span><span class="p">],</span>
                        <span class="n">max_lines</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="IndentTestCases"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCases">[docs]</a><span class="k">class</span> <span class="nc">IndentTestCases</span><span class="p">(</span><span class="n">BaseTestCase</span><span class="p">):</span>

    <span class="c"># called before each test method</span>
<div class="viewcode-block" id="IndentTestCases.setUp"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCases.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="s">This paragraph will be filled, first without any indentation,</span>
<span class="s">and then with some (including a hanging indent).&#39;&#39;&#39;</span>

</div>
<div class="viewcode-block" id="IndentTestCases.test_fill"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCases.test_fill">[docs]</a>    <span class="k">def</span> <span class="nf">test_fill</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test the fill() method</span>

        <span class="n">expect</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="s">This paragraph will be filled, first</span>
<span class="s">without any indentation, and then with</span>
<span class="s">some (including a hanging indent).&#39;&#39;&#39;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">fill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="IndentTestCases.test_initial_indent"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCases.test_initial_indent">[docs]</a>    <span class="k">def</span> <span class="nf">test_initial_indent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test initial_indent parameter</span>

        <span class="n">expect</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;     This paragraph will be filled,&quot;</span><span class="p">,</span>
                  <span class="s">&quot;first without any indentation, and then&quot;</span><span class="p">,</span>
                  <span class="s">&quot;with some (including a hanging indent).&quot;</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">wrap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">initial_indent</span><span class="o">=</span><span class="s">&quot;     &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

        <span class="n">expect</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">expect</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">fill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">initial_indent</span><span class="o">=</span><span class="s">&quot;     &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="IndentTestCases.test_subsequent_indent"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCases.test_subsequent_indent">[docs]</a>    <span class="k">def</span> <span class="nf">test_subsequent_indent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test subsequent_indent parameter</span>

        <span class="n">expect</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="s">  * This paragraph will be filled, first</span>
<span class="s">    without any indentation, and then</span>
<span class="s">    with some (including a hanging</span>
<span class="s">    indent).&#39;&#39;&#39;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">fill</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span>
                      <span class="n">initial_indent</span><span class="o">=</span><span class="s">&quot;  * &quot;</span><span class="p">,</span> <span class="n">subsequent_indent</span><span class="o">=</span><span class="s">&quot;    &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>


<span class="c"># Despite the similar names, DedentTestCase is *not* the inverse</span>
<span class="c"># of IndentTestCase!</span></div></div>
<div class="viewcode-block" id="DedentTestCase"><a class="viewcode-back" href="../../test.html#test.test_textwrap.DedentTestCase">[docs]</a><span class="k">class</span> <span class="nc">DedentTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

<div class="viewcode-block" id="DedentTestCase.assertUnchanged"><a class="viewcode-back" href="../../test.html#test.test_textwrap.DedentTestCase.assertUnchanged">[docs]</a>    <span class="k">def</span> <span class="nf">assertUnchanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;assert that dedent() has no effect on &#39;text&#39;&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="DedentTestCase.test_dedent_nomargin"><a class="viewcode-back" href="../../test.html#test.test_textwrap.DedentTestCase.test_dedent_nomargin">[docs]</a>    <span class="k">def</span> <span class="nf">test_dedent_nomargin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># No lines indented.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello there.</span><span class="se">\n</span><span class="s">How are you?</span><span class="se">\n</span><span class="s">Oh good, I&#39;m glad.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertUnchanged</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># Similar, with a blank line.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello there.</span><span class="se">\n\n</span><span class="s">Boo!&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertUnchanged</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># Some lines indented, but overall margin is still zero.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello there.</span><span class="se">\n</span><span class="s">  This is indented.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertUnchanged</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># Again, add a blank line.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello there.</span><span class="se">\n\n</span><span class="s">  Boo!</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertUnchanged</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DedentTestCase.test_dedent_even"><a class="viewcode-back" href="../../test.html#test.test_textwrap.DedentTestCase.test_dedent_even">[docs]</a>    <span class="k">def</span> <span class="nf">test_dedent_even</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># All lines indented by two spaces.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  Hello there.</span><span class="se">\n</span><span class="s">  How are ya?</span><span class="se">\n</span><span class="s">  Oh good.&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="s">&quot;Hello there.</span><span class="se">\n</span><span class="s">How are ya?</span><span class="se">\n</span><span class="s">Oh good.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

        <span class="c"># Same, with blank lines.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  Hello there.</span><span class="se">\n\n</span><span class="s">  How are ya?</span><span class="se">\n</span><span class="s">  Oh good.</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="s">&quot;Hello there.</span><span class="se">\n\n</span><span class="s">How are ya?</span><span class="se">\n</span><span class="s">Oh good.</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

        <span class="c"># Now indent one of the blank lines.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  Hello there.</span><span class="se">\n</span><span class="s">  </span><span class="se">\n</span><span class="s">  How are ya?</span><span class="se">\n</span><span class="s">  Oh good.</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="s">&quot;Hello there.</span><span class="se">\n\n</span><span class="s">How are ya?</span><span class="se">\n</span><span class="s">Oh good.</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="DedentTestCase.test_dedent_uneven"><a class="viewcode-back" href="../../test.html#test.test_textwrap.DedentTestCase.test_dedent_uneven">[docs]</a>    <span class="k">def</span> <span class="nf">test_dedent_uneven</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Lines indented unevenly.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="s">        def foo():</span>
<span class="s">            while 1:</span>
<span class="s">                return foo</span>
<span class="s">        &#39;&#39;&#39;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="s">def foo():</span>
<span class="s">    while 1:</span>
<span class="s">        return foo</span>
<span class="s">&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

        <span class="c"># Uneven indentation with a blank line.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  Foo</span><span class="se">\n</span><span class="s">    Bar</span><span class="se">\n\n</span><span class="s">   Baz</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="s">&quot;Foo</span><span class="se">\n</span><span class="s">  Bar</span><span class="se">\n\n</span><span class="s"> Baz</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

        <span class="c"># Uneven indentation with a whitespace-only line.</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  Foo</span><span class="se">\n</span><span class="s">    Bar</span><span class="se">\n</span><span class="s"> </span><span class="se">\n</span><span class="s">   Baz</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="s">&quot;Foo</span><span class="se">\n</span><span class="s">  Bar</span><span class="se">\n\n</span><span class="s"> Baz</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

    <span class="c"># dedent() should not mangle internal tabs</span></div>
<div class="viewcode-block" id="DedentTestCase.test_dedent_preserve_internal_tabs"><a class="viewcode-back" href="../../test.html#test.test_textwrap.DedentTestCase.test_dedent_preserve_internal_tabs">[docs]</a>    <span class="k">def</span> <span class="nf">test_dedent_preserve_internal_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  hello</span><span class="se">\t</span><span class="s">there</span><span class="se">\n</span><span class="s">  how are</span><span class="se">\t</span><span class="s">you?&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="s">&quot;hello</span><span class="se">\t</span><span class="s">there</span><span class="se">\n</span><span class="s">how are</span><span class="se">\t</span><span class="s">you?&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

        <span class="c"># make sure that it preserves tabs when it&#39;s not making any</span>
        <span class="c"># changes at all</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">expect</span><span class="p">))</span>

    <span class="c"># dedent() should not mangle tabs in the margin (i.e.</span>
    <span class="c"># tabs and spaces both count as margin, but are *not*</span>
    <span class="c"># considered equivalent)</span></div>
<div class="viewcode-block" id="DedentTestCase.test_dedent_preserve_margin_tabs"><a class="viewcode-back" href="../../test.html#test.test_textwrap.DedentTestCase.test_dedent_preserve_margin_tabs">[docs]</a>    <span class="k">def</span> <span class="nf">test_dedent_preserve_margin_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  hello there</span><span class="se">\n\t</span><span class="s">how are you?&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertUnchanged</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># same effect even if we have 8 spaces</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;        hello there</span><span class="se">\n\t</span><span class="s">how are you?&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertUnchanged</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># dedent() only removes whitespace that can be uniformly removed!</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\t</span><span class="s">hello there</span><span class="se">\n\t</span><span class="s">how are you?&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="s">&quot;hello there</span><span class="se">\n</span><span class="s">how are you?&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  </span><span class="se">\t</span><span class="s">hello there</span><span class="se">\n</span><span class="s">  </span><span class="se">\t</span><span class="s">how are you?&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  </span><span class="se">\t</span><span class="s">  hello there</span><span class="se">\n</span><span class="s">  </span><span class="se">\t</span><span class="s">  how are you?&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;  </span><span class="se">\t</span><span class="s">hello there</span><span class="se">\n</span><span class="s">  </span><span class="se">\t</span><span class="s">  how are you?&quot;</span>
        <span class="n">expect</span> <span class="o">=</span> <span class="s">&quot;hello there</span><span class="se">\n</span><span class="s">  how are you?&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expect</span><span class="p">,</span> <span class="n">dedent</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>


<span class="c"># Test textwrap.indent</span></div></div>
<div class="viewcode-block" id="IndentTestCase"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase">[docs]</a><span class="k">class</span> <span class="nc">IndentTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c"># The examples used for tests. If any of these change, the expected</span>
    <span class="c"># results in the various test cases must also be updated.</span>
    <span class="c"># The roundtrip cases are separate, because textwrap.dedent doesn&#39;t</span>
    <span class="c"># handle Windows line endings</span>
    <span class="n">ROUNDTRIP_CASES</span> <span class="o">=</span> <span class="p">(</span>
      <span class="c"># Basic test case</span>
      <span class="s">&quot;Hi.</span><span class="se">\n</span><span class="s">This is a test.</span><span class="se">\n</span><span class="s">Testing.&quot;</span><span class="p">,</span>
      <span class="c"># Include a blank line</span>
      <span class="s">&quot;Hi.</span><span class="se">\n</span><span class="s">This is a test.</span><span class="se">\n\n</span><span class="s">Testing.&quot;</span><span class="p">,</span>
      <span class="c"># Include leading and trailing blank lines</span>
      <span class="s">&quot;</span><span class="se">\n</span><span class="s">Hi.</span><span class="se">\n</span><span class="s">This is a test.</span><span class="se">\n</span><span class="s">Testing.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">CASES</span> <span class="o">=</span> <span class="n">ROUNDTRIP_CASES</span> <span class="o">+</span> <span class="p">(</span>
      <span class="c"># Use Windows line endings</span>
      <span class="s">&quot;Hi.</span><span class="se">\r\n</span><span class="s">This is a test.</span><span class="se">\r\n</span><span class="s">Testing.</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span>
      <span class="c"># Pathological case</span>
      <span class="s">&quot;</span><span class="se">\n</span><span class="s">Hi.</span><span class="se">\r\n</span><span class="s">This is a test.</span><span class="se">\n\r\n</span><span class="s">Testing.</span><span class="se">\r\n\n</span><span class="s">&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<div class="viewcode-block" id="IndentTestCase.test_indent_nomargin_default"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_indent_nomargin_default">[docs]</a>    <span class="k">def</span> <span class="nf">test_indent_nomargin_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># indent should do nothing if &#39;prefix&#39; is empty.</span>
        <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CASES</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_indent_nomargin_explicit_default"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_indent_nomargin_explicit_default">[docs]</a>    <span class="k">def</span> <span class="nf">test_indent_nomargin_explicit_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># The same as test_indent_nomargin, but explicitly requesting</span>
        <span class="c"># the default behaviour by passing None as the predicate</span>
        <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CASES</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span> <span class="n">text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_indent_nomargin_all_lines"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_indent_nomargin_all_lines">[docs]</a>    <span class="k">def</span> <span class="nf">test_indent_nomargin_all_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># The same as test_indent_nomargin, but using the optional</span>
        <span class="c"># predicate argument</span>
        <span class="n">predicate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CASES</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">predicate</span><span class="p">),</span> <span class="n">text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_indent_no_lines"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_indent_no_lines">[docs]</a>    <span class="k">def</span> <span class="nf">test_indent_no_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Explicitly skip indenting any lines</span>
        <span class="n">predicate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="bp">False</span>
        <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">CASES</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">&#39;    &#39;</span><span class="p">,</span> <span class="n">predicate</span><span class="p">),</span> <span class="n">text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_roundtrip_spaces"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_roundtrip_spaces">[docs]</a>    <span class="k">def</span> <span class="nf">test_roundtrip_spaces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># A whitespace prefix should roundtrip with dedent</span>
        <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ROUNDTRIP_CASES</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">dedent</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">&#39;    &#39;</span><span class="p">)),</span> <span class="n">text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_roundtrip_tabs"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_roundtrip_tabs">[docs]</a>    <span class="k">def</span> <span class="nf">test_roundtrip_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># A whitespace prefix should roundtrip with dedent</span>
        <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ROUNDTRIP_CASES</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">dedent</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\t\t</span><span class="s">&#39;</span><span class="p">)),</span> <span class="n">text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_roundtrip_mixed"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_roundtrip_mixed">[docs]</a>    <span class="k">def</span> <span class="nf">test_roundtrip_mixed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># A whitespace prefix should roundtrip with dedent</span>
        <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ROUNDTRIP_CASES</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">dedent</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">&#39; </span><span class="se">\t</span><span class="s">  </span><span class="se">\t</span><span class="s"> &#39;</span><span class="p">)),</span> <span class="n">text</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_indent_default"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_indent_default">[docs]</a>    <span class="k">def</span> <span class="nf">test_indent_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test default indenting of lines that are not whitespace only</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s">&#39;  &#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span>
          <span class="c"># Basic test case</span>
          <span class="s">&quot;  Hi.</span><span class="se">\n</span><span class="s">  This is a test.</span><span class="se">\n</span><span class="s">  Testing.&quot;</span><span class="p">,</span>
          <span class="c"># Include a blank line</span>
          <span class="s">&quot;  Hi.</span><span class="se">\n</span><span class="s">  This is a test.</span><span class="se">\n\n</span><span class="s">  Testing.&quot;</span><span class="p">,</span>
          <span class="c"># Include leading and trailing blank lines</span>
          <span class="s">&quot;</span><span class="se">\n</span><span class="s">  Hi.</span><span class="se">\n</span><span class="s">  This is a test.</span><span class="se">\n</span><span class="s">  Testing.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
          <span class="c"># Use Windows line endings</span>
          <span class="s">&quot;  Hi.</span><span class="se">\r\n</span><span class="s">  This is a test.</span><span class="se">\r\n</span><span class="s">  Testing.</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span>
          <span class="c"># Pathological case</span>
          <span class="s">&quot;</span><span class="se">\n</span><span class="s">  Hi.</span><span class="se">\r\n</span><span class="s">  This is a test.</span><span class="se">\n\r\n</span><span class="s">  Testing.</span><span class="se">\r\n\n</span><span class="s">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">expect</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CASES</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">prefix</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_indent_explicit_default"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_indent_explicit_default">[docs]</a>    <span class="k">def</span> <span class="nf">test_indent_explicit_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test default indenting of lines that are not whitespace only</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s">&#39;  &#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span>
          <span class="c"># Basic test case</span>
          <span class="s">&quot;  Hi.</span><span class="se">\n</span><span class="s">  This is a test.</span><span class="se">\n</span><span class="s">  Testing.&quot;</span><span class="p">,</span>
          <span class="c"># Include a blank line</span>
          <span class="s">&quot;  Hi.</span><span class="se">\n</span><span class="s">  This is a test.</span><span class="se">\n\n</span><span class="s">  Testing.&quot;</span><span class="p">,</span>
          <span class="c"># Include leading and trailing blank lines</span>
          <span class="s">&quot;</span><span class="se">\n</span><span class="s">  Hi.</span><span class="se">\n</span><span class="s">  This is a test.</span><span class="se">\n</span><span class="s">  Testing.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
          <span class="c"># Use Windows line endings</span>
          <span class="s">&quot;  Hi.</span><span class="se">\r\n</span><span class="s">  This is a test.</span><span class="se">\r\n</span><span class="s">  Testing.</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span>
          <span class="c"># Pathological case</span>
          <span class="s">&quot;</span><span class="se">\n</span><span class="s">  Hi.</span><span class="se">\r\n</span><span class="s">  This is a test.</span><span class="se">\n\r\n</span><span class="s">  Testing.</span><span class="se">\r\n\n</span><span class="s">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">expect</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CASES</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_indent_all_lines"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_indent_all_lines">[docs]</a>    <span class="k">def</span> <span class="nf">test_indent_all_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Add &#39;prefix&#39; to all lines, including whitespace-only ones.</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s">&#39;  &#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span>
          <span class="c"># Basic test case</span>
          <span class="s">&quot;  Hi.</span><span class="se">\n</span><span class="s">  This is a test.</span><span class="se">\n</span><span class="s">  Testing.&quot;</span><span class="p">,</span>
          <span class="c"># Include a blank line</span>
          <span class="s">&quot;  Hi.</span><span class="se">\n</span><span class="s">  This is a test.</span><span class="se">\n</span><span class="s">  </span><span class="se">\n</span><span class="s">  Testing.&quot;</span><span class="p">,</span>
          <span class="c"># Include leading and trailing blank lines</span>
          <span class="s">&quot;  </span><span class="se">\n</span><span class="s">  Hi.</span><span class="se">\n</span><span class="s">  This is a test.</span><span class="se">\n</span><span class="s">  Testing.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
          <span class="c"># Use Windows line endings</span>
          <span class="s">&quot;  Hi.</span><span class="se">\r\n</span><span class="s">  This is a test.</span><span class="se">\r\n</span><span class="s">  Testing.</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span>
          <span class="c"># Pathological case</span>
          <span class="s">&quot;  </span><span class="se">\n</span><span class="s">  Hi.</span><span class="se">\r\n</span><span class="s">  This is a test.</span><span class="se">\n</span><span class="s">  </span><span class="se">\r\n</span><span class="s">  Testing.</span><span class="se">\r\n</span><span class="s">  </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">predicate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">expect</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CASES</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">predicate</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="IndentTestCase.test_indent_empty_lines"><a class="viewcode-back" href="../../test.html#test.test_textwrap.IndentTestCase.test_indent_empty_lines">[docs]</a>    <span class="k">def</span> <span class="nf">test_indent_empty_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Add &#39;prefix&#39; solely to whitespace-only lines.</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s">&#39;  &#39;</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span>
          <span class="c"># Basic test case</span>
          <span class="s">&quot;Hi.</span><span class="se">\n</span><span class="s">This is a test.</span><span class="se">\n</span><span class="s">Testing.&quot;</span><span class="p">,</span>
          <span class="c"># Include a blank line</span>
          <span class="s">&quot;Hi.</span><span class="se">\n</span><span class="s">This is a test.</span><span class="se">\n</span><span class="s">  </span><span class="se">\n</span><span class="s">Testing.&quot;</span><span class="p">,</span>
          <span class="c"># Include leading and trailing blank lines</span>
          <span class="s">&quot;  </span><span class="se">\n</span><span class="s">Hi.</span><span class="se">\n</span><span class="s">This is a test.</span><span class="se">\n</span><span class="s">Testing.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
          <span class="c"># Use Windows line endings</span>
          <span class="s">&quot;Hi.</span><span class="se">\r\n</span><span class="s">This is a test.</span><span class="se">\r\n</span><span class="s">Testing.</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span>
          <span class="c"># Pathological case</span>
          <span class="s">&quot;  </span><span class="se">\n</span><span class="s">Hi.</span><span class="se">\r\n</span><span class="s">This is a test.</span><span class="se">\n</span><span class="s">  </span><span class="se">\r\n</span><span class="s">Testing.</span><span class="se">\r\n</span><span class="s">  </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">predicate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="ow">not</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">expect</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CASES</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">indent</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">predicate</span><span class="p">),</span> <span class="n">expect</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="ShortenTestCase"><a class="viewcode-back" href="../../test.html#test.test_textwrap.ShortenTestCase">[docs]</a><span class="k">class</span> <span class="nc">ShortenTestCase</span><span class="p">(</span><span class="n">BaseTestCase</span><span class="p">):</span>

<div class="viewcode-block" id="ShortenTestCase.check_shorten"><a class="viewcode-back" href="../../test.html#test.test_textwrap.ShortenTestCase.check_shorten">[docs]</a>    <span class="k">def</span> <span class="nf">check_shorten</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">expect</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ShortenTestCase.test_simple"><a class="viewcode-back" href="../../test.html#test.test_textwrap.ShortenTestCase.test_simple">[docs]</a>    <span class="k">def</span> <span class="nf">test_simple</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Simple case: just words, spaces, and a bit of punctuation</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello there, how are you this fine day? I&#39;m glad to hear it!&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="s">&quot;Hello there, [...]&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s">&quot;Hello there, how are you this fine day? &quot;</span>
            <span class="s">&quot;I&#39;m glad to [...]&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ShortenTestCase.test_placeholder"><a class="viewcode-back" href="../../test.html#test.test_textwrap.ShortenTestCase.test_placeholder">[docs]</a>    <span class="k">def</span> <span class="nf">test_placeholder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;Hello there, how are you this fine day? I&#39;m glad to hear it!&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="s">&quot;Hello there,$$&quot;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39;$$&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="s">&quot;Hello there, how$$&quot;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39;$$&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="s">&quot;Hello there, $$&quot;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39; $$&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="n">text</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39;$$&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s">&quot;Hello there, how are you this fine day? &quot;</span>
            <span class="s">&quot;I&#39;m glad to hear$$&quot;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&#39;$$&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ShortenTestCase.test_empty_string"><a class="viewcode-back" href="../../test.html#test.test_textwrap.ShortenTestCase.test_empty_string">[docs]</a>    <span class="k">def</span> <span class="nf">test_empty_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ShortenTestCase.test_whitespace"><a class="viewcode-back" href="../../test.html#test.test_textwrap.ShortenTestCase.test_whitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Whitespace collapsing</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">            This is a  paragraph that  already has</span>
<span class="s">            line breaks and </span><span class="se">\t</span><span class="s"> tabs too.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span>
                             <span class="s">&quot;This is a paragraph that already has line &quot;</span>
                             <span class="s">&quot;breaks and tabs too.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span>
                             <span class="s">&quot;This is a paragraph that already has line &quot;</span>
                             <span class="s">&quot;breaks and [...]&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="s">&quot;hello      world!  &quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s">&quot;hello world!&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="s">&quot;hello      world!  &quot;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&quot;hello [...]&quot;</span><span class="p">)</span>
        <span class="c"># The leading space is trimmed from the placeholder</span>
        <span class="c"># (it would be ugly otherwise).</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="s">&quot;hello      world!  &quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&quot;[...]&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ShortenTestCase.test_width_too_small_for_placeholder"><a class="viewcode-back" href="../../test.html#test.test_textwrap.ShortenTestCase.test_width_too_small_for_placeholder">[docs]</a>    <span class="k">def</span> <span class="nf">test_width_too_small_for_placeholder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">shorten</span><span class="p">(</span><span class="s">&quot;x&quot;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&quot;(......)&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">shorten</span><span class="p">(</span><span class="s">&quot;x&quot;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s">&quot;(.......)&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ShortenTestCase.test_first_word_too_long_but_placeholder_fits"><a class="viewcode-back" href="../../test.html#test.test_textwrap.ShortenTestCase.test_first_word_too_long_but_placeholder_fits">[docs]</a>    <span class="k">def</span> <span class="nf">test_first_word_too_long_but_placeholder_fits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_shorten</span><span class="p">(</span><span class="s">&quot;Helloo&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&quot;[...]&quot;</span><span class="p">)</span>

</div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>