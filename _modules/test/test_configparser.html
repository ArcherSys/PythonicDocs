

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_configparser &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_configparser</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_configparser</h1><div class="highlight"><pre>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">configparser</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">textwrap</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="n">support</span>

<div class="viewcode-block" id="SortedDict"><a class="viewcode-back" href="../../test.html#test.test_configparser.SortedDict">[docs]</a><span class="k">class</span> <span class="nc">SortedDict</span><span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">UserDict</span><span class="p">):</span>

<div class="viewcode-block" id="SortedDict.items"><a class="viewcode-back" href="../../test.html#test.test_configparser.SortedDict.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="SortedDict.keys"><a class="viewcode-back" href="../../test.html#test.test_configparser.SortedDict.keys">[docs]</a>    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="SortedDict.values"><a class="viewcode-back" href="../../test.html#test.test_configparser.SortedDict.values">[docs]</a>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
</div>
<div class="viewcode-block" id="SortedDict.iteritems"><a class="viewcode-back" href="../../test.html#test.test_configparser.SortedDict.iteritems">[docs]</a>    <span class="k">def</span> <span class="nf">iteritems</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="SortedDict.iterkeys"><a class="viewcode-back" href="../../test.html#test.test_configparser.SortedDict.iterkeys">[docs]</a>    <span class="k">def</span> <span class="nf">iterkeys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="SortedDict.itervalues"><a class="viewcode-back" href="../../test.html#test.test_configparser.SortedDict.itervalues">[docs]</a>    <span class="k">def</span> <span class="nf">itervalues</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</div>
    <span class="n">__iter__</span> <span class="o">=</span> <span class="n">iterkeys</span>

</div>
<div class="viewcode-block" id="CfgParserTestCaseClass"><a class="viewcode-back" href="../../test.html#test.test_configparser.CfgParserTestCaseClass">[docs]</a><span class="k">class</span> <span class="nc">CfgParserTestCaseClass</span><span class="p">:</span>
    <span class="n">allow_no_value</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">delimiters</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;=&#39;</span><span class="p">,</span> <span class="s">&#39;:&#39;</span><span class="p">)</span>
    <span class="n">comment_prefixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;;&#39;</span><span class="p">,</span> <span class="s">&#39;#&#39;</span><span class="p">)</span>
    <span class="n">inline_comment_prefixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;;&#39;</span><span class="p">,</span> <span class="s">&#39;#&#39;</span><span class="p">)</span>
    <span class="n">empty_lines_in_values</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">dict_type</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">_default_dict</span>
    <span class="n">strict</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">default_section</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">DEFAULTSECT</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">_UNSET</span>

<div class="viewcode-block" id="CfgParserTestCaseClass.newconfig"><a class="viewcode-back" href="../../test.html#test.test_configparser.CfgParserTestCaseClass.newconfig">[docs]</a>    <span class="k">def</span> <span class="nf">newconfig</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">defaults</span><span class="o">=</span><span class="n">defaults</span><span class="p">,</span>
            <span class="n">allow_no_value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">,</span>
            <span class="n">delimiters</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">,</span>
            <span class="n">comment_prefixes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">comment_prefixes</span><span class="p">,</span>
            <span class="n">inline_comment_prefixes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">inline_comment_prefixes</span><span class="p">,</span>
            <span class="n">empty_lines_in_values</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">empty_lines_in_values</span><span class="p">,</span>
            <span class="n">dict_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dict_type</span><span class="p">,</span>
            <span class="n">strict</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">strict</span><span class="p">,</span>
            <span class="n">default_section</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">,</span>
            <span class="n">interpolation</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">interpolation</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_class</span><span class="p">(</span><span class="o">**</span><span class="n">arguments</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">instance</span>
</div>
<div class="viewcode-block" id="CfgParserTestCaseClass.fromstring"><a class="viewcode-back" href="../../test.html#test.test_configparser.CfgParserTestCaseClass.fromstring">[docs]</a>    <span class="k">def</span> <span class="nf">fromstring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">(</span><span class="n">defaults</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cf</span>
</div></div>
<div class="viewcode-block" id="BasicTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase">[docs]</a><span class="k">class</span> <span class="nc">BasicTestCase</span><span class="p">(</span><span class="n">CfgParserTestCaseClass</span><span class="p">):</span>

<div class="viewcode-block" id="BasicTestCase.basic_test"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.basic_test">[docs]</a>    <span class="k">def</span> <span class="nf">basic_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cf</span><span class="p">):</span>
        <span class="n">E</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Commented Bar&#39;</span><span class="p">,</span>
             <span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span>
             <span class="s">&#39;Internationalized Stuff&#39;</span><span class="p">,</span>
             <span class="s">&#39;Long Line&#39;</span><span class="p">,</span>
             <span class="s">&#39;Section</span><span class="se">\\</span><span class="s">with$weird</span><span class="si">%c</span><span class="s">haracters[</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span>
             <span class="s">&#39;Spaces&#39;</span><span class="p">,</span>
             <span class="s">&#39;Spacey Bar&#39;</span><span class="p">,</span>
             <span class="s">&#39;Spacey Bar From The Beginning&#39;</span><span class="p">,</span>
             <span class="s">&#39;Types&#39;</span><span class="p">,</span>
             <span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
            <span class="n">E</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;NoValue&#39;</span><span class="p">)</span>
        <span class="n">E</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">F</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;baz&#39;</span><span class="p">,</span> <span class="s">&#39;qwe&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar3&#39;</span><span class="p">)]</span>

        <span class="c"># API access</span>
        <span class="n">L</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">()</span>
        <span class="n">L</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
        <span class="n">L</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="s">&#39;Spacey Bar From The Beginning&#39;</span><span class="p">)</span>
        <span class="n">L</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span>

        <span class="c"># mapping access</span>
        <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">section</span> <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">]</span>
        <span class="n">L</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">E</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">)</span>
        <span class="n">E</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">E</span><span class="p">)</span>
        <span class="n">L</span> <span class="o">=</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar From The Beginning&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span>
        <span class="n">L</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">E</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">section</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">defaults</span><span class="p">(),</span> <span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">])</span>

        <span class="c"># The use of spaces in the section names serves as a</span>
        <span class="c"># regression test for SourceForge bug #583248:</span>
        <span class="c"># http://www.python.org/sf/583248</span>

        <span class="c"># API access</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">),</span> <span class="s">&#39;bar1&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">),</span> <span class="s">&#39;bar2&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Spacey Bar From The Beginning&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">),</span> <span class="s">&#39;bar3&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Spacey Bar From The Beginning&#39;</span><span class="p">,</span> <span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;qwe&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Commented Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">),</span> <span class="s">&#39;bar4&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Commented Bar&#39;</span><span class="p">,</span> <span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;qwe&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Spaces&#39;</span><span class="p">,</span> <span class="s">&#39;key with spaces&#39;</span><span class="p">),</span> <span class="s">&#39;value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Spaces&#39;</span><span class="p">,</span> <span class="s">&#39;another with spaces&#39;</span><span class="p">),</span> <span class="s">&#39;splat!&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;int&#39;</span><span class="p">),</span> <span class="mi">42</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;int&#39;</span><span class="p">),</span> <span class="s">&quot;42&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;float&#39;</span><span class="p">),</span> <span class="mf">0.44</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;float&#39;</span><span class="p">),</span> <span class="s">&quot;0.44&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;boolean&#39;</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;123&#39;</span><span class="p">),</span> <span class="s">&#39;strange but acceptable&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;NoValue&#39;</span><span class="p">,</span> <span class="s">&#39;option-without-value&#39;</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>

        <span class="c"># test vars= and fallback=</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;bar1&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;baz&#39;</span><span class="p">}),</span> <span class="s">&#39;baz&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;No Such Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoOptionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-foo&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;No Such Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;baz&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-foo&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;baz&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">None</span><span class="p">),</span> <span class="s">&#39;bar2&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;No Such Spacey Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">None</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;int&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="mi">18</span><span class="p">),</span> <span class="mi">42</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-int&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="mi">18</span><span class="p">),</span> <span class="mi">18</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-int&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&quot;18&quot;</span><span class="p">),</span> <span class="s">&quot;18&quot;</span><span class="p">)</span> <span class="c"># sic!</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoOptionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-int&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;float&#39;</span><span class="p">,</span>
                                           <span class="n">fallback</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">0.44</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-float&#39;</span><span class="p">,</span>
                                           <span class="n">fallback</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-float&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&quot;0.0&quot;</span><span class="p">),</span> <span class="s">&quot;0.0&quot;</span><span class="p">)</span> <span class="c"># sic!</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoOptionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-float&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;boolean&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-boolean&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&quot;yes&quot;</span><span class="p">),</span>
           <span class="s">&quot;yes&quot;</span><span class="p">)</span> <span class="c"># sic!</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-boolean&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoOptionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;Types&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-boolean&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;No Such Types&#39;</span><span class="p">,</span> <span class="s">&#39;boolean&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;NoValue&#39;</span><span class="p">,</span> <span class="s">&#39;option-without-value&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;NoValue&#39;</span><span class="p">,</span> <span class="s">&#39;no-such-option-without-value&#39;</span><span class="p">,</span>
                      <span class="n">fallback</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>

        <span class="c"># mapping access</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">],</span> <span class="s">&#39;bar1&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">],</span> <span class="s">&#39;bar2&#39;</span><span class="p">)</span>
        <span class="n">section</span> <span class="o">=</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar From The Beginning&#39;</span><span class="p">]</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;Spacey Bar From The Beginning&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">parser</span><span class="p">,</span> <span class="n">cf</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">AttributeError</span><span class="p">):</span>
            <span class="n">section</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Name is read-only&#39;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">AttributeError</span><span class="p">):</span>
            <span class="n">section</span><span class="o">.</span><span class="n">parser</span> <span class="o">=</span> <span class="s">&#39;Parser is read-only&#39;</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">section</span><span class="p">[</span><span class="s">&#39;foo&#39;</span><span class="p">],</span> <span class="s">&#39;bar3&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">section</span><span class="p">[</span><span class="s">&#39;baz&#39;</span><span class="p">],</span> <span class="s">&#39;qwe&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Commented Bar&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">],</span> <span class="s">&#39;bar4&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Commented Bar&#39;</span><span class="p">][</span><span class="s">&#39;baz&#39;</span><span class="p">],</span> <span class="s">&#39;qwe&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spaces&#39;</span><span class="p">][</span><span class="s">&#39;key with spaces&#39;</span><span class="p">],</span> <span class="s">&#39;value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spaces&#39;</span><span class="p">][</span><span class="s">&#39;another with spaces&#39;</span><span class="p">],</span> <span class="s">&#39;splat!&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Long Line&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">],</span>
           <span class="s">&#39;this line is much, much longer than my editor</span><span class="se">\n</span><span class="s">likes it.&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;NoValue&#39;</span><span class="p">][</span><span class="s">&#39;option-without-value&#39;</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
        <span class="c"># test vars= and fallback=</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;bar1&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;bar1&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;baz&#39;</span><span class="p">}),</span> <span class="s">&#39;baz&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;No Such Foo Bar&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">][</span><span class="s">&#39;no-such-foo&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;No Such Foo Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&#39;baz&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;no-such-foo&#39;</span><span class="p">,</span> <span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;baz&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;no-such-foo&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;baz&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;no-such-foo&#39;</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span> <span class="s">&#39;bar2&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">None</span><span class="p">),</span> <span class="s">&#39;bar2&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;No Such Spacey Bar&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;int&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="mi">42</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;int&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="mi">18</span><span class="p">),</span> <span class="mi">42</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;no-such-int&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="mi">18</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;no-such-int&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="mi">18</span><span class="p">),</span> <span class="mi">18</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;no-such-int&#39;</span><span class="p">,</span> <span class="s">&quot;18&quot;</span><span class="p">),</span> <span class="s">&quot;18&quot;</span><span class="p">)</span> <span class="c"># sic!</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;no-such-int&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&quot;18&quot;</span><span class="p">),</span> <span class="s">&quot;18&quot;</span><span class="p">)</span> <span class="c"># sic!</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&#39;no-such-int&#39;</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;float&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">0.44</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;float&#39;</span><span class="p">,</span>
                                                    <span class="n">fallback</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">0.44</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;no-such-float&#39;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;no-such-float&#39;</span><span class="p">,</span>
                                                    <span class="n">fallback</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;no-such-float&#39;</span><span class="p">,</span> <span class="s">&quot;0.0&quot;</span><span class="p">),</span> <span class="s">&quot;0.0&quot;</span><span class="p">)</span> <span class="c"># sic!</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;no-such-float&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&quot;0.0&quot;</span><span class="p">),</span> <span class="s">&quot;0.0&quot;</span><span class="p">)</span> <span class="c"># sic!</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="s">&#39;no-such-float&#39;</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;boolean&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;boolean&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;no-such-boolean&#39;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">),</span> <span class="s">&quot;yes&quot;</span><span class="p">)</span> <span class="c"># sic!</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;no-such-boolean&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="s">&quot;yes&quot;</span><span class="p">),</span>
           <span class="s">&quot;yes&quot;</span><span class="p">)</span> <span class="c"># sic!</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;no-such-boolean&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;no-such-boolean&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;no-such-boolean&#39;</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;NoValue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;option-without-value&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;NoValue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;option-without-value&#39;</span><span class="p">,</span> <span class="n">fallback</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;NoValue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;no-such-option-without-value&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
            <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;NoValue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;no-such-option-without-value&#39;</span><span class="p">,</span>
                      <span class="n">fallback</span><span class="o">=</span><span class="bp">False</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>

        <span class="c"># Make sure the right things happen for remove_section() and</span>
        <span class="c"># remove_option(); added to include check for SourceForge bug #123324.</span>

        <span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">][</span><span class="s">&#39;this_value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;1&#39;</span>
        <span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">][</span><span class="s">&#39;that_value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;2&#39;</span>

        <span class="c"># API access</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">remove_section</span><span class="p">(</span><span class="s">&#39;Spaces&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="s">&#39;Spaces&#39;</span><span class="p">,</span> <span class="s">&#39;key with spaces&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">remove_section</span><span class="p">(</span><span class="s">&#39;Spaces&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">remove_section</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">remove_option</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">),</span>
                        <span class="s">&quot;remove_option() failed to report existence of option&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">),</span>
                    <span class="s">&quot;remove_option() failed to remove option&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">remove_option</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">),</span>
                    <span class="s">&quot;remove_option() failed to report non-existence of option&quot;</span>
                    <span class="s">&quot; that was removed&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;this_value&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">remove_option</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;this_value&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">remove_option</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">,</span> <span class="s">&#39;this_value&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="s">&#39;Foo Bar&#39;</span><span class="p">,</span> <span class="s">&#39;this_value&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">remove_option</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">,</span> <span class="s">&#39;this_value&#39;</span><span class="p">))</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">remove_option</span><span class="p">(</span><span class="s">&#39;No Such Section&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;No Such Section&#39;</span><span class="p">,))</span>

        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Long Line&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">),</span>
           <span class="s">&#39;this line is much, much longer than my editor</span><span class="se">\n</span><span class="s">likes it.&#39;</span><span class="p">)</span>

        <span class="c"># mapping access</span>
        <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="s">&#39;Types&#39;</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Types&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="s">&#39;foo&#39;</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">])</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&#39;that_value&#39;</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">])</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">][</span><span class="s">&#39;that_value&#39;</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">][</span><span class="s">&#39;that_value&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="s">&#39;that_value&#39;</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;Spacey Bar&#39;</span><span class="p">])</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">][</span><span class="s">&#39;that_value&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;No Such Section&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">]</span>

        <span class="c"># Don&#39;t add new asserts below in this method as most of the options</span>
        <span class="c"># and sections are now removed.</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_basic"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_basic">[docs]</a>    <span class="k">def</span> <span class="nf">test_basic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">config_string</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">[Foo Bar]</span>
<span class="s">foo{0[0]}bar1</span>
<span class="s">[Spacey Bar]</span>
<span class="s">foo {0[0]} bar2</span>
<span class="s">[Spacey Bar From The Beginning]</span>
<span class="s">  foo {0[0]} bar3</span>
<span class="s">  baz {0[0]} qwe</span>
<span class="s">[Commented Bar]</span>
<span class="s">foo{0[1]} bar4 {1[1]} comment</span>
<span class="s">baz{0[0]}qwe {1[0]}another one</span>
<span class="s">[Long Line]</span>
<span class="s">foo{0[1]} this line is much, much longer than my editor</span>
<span class="s">   likes it.</span>
<span class="s">[Section</span><span class="se">\\</span><span class="s">with$weird</span><span class="si">%c</span><span class="s">haracters[</span><span class="se">\t</span><span class="s">]</span>
<span class="s">[Internationalized Stuff]</span>
<span class="s">foo[bg]{0[1]} Bulgarian</span>
<span class="s">foo{0[0]}Default</span>
<span class="s">foo[en]{0[0]}English</span>
<span class="s">foo[de]{0[0]}Deutsch</span>
<span class="s">[Spaces]</span>
<span class="s">key with spaces {0[1]} value</span>
<span class="s">another with spaces {0[0]} splat!</span>
<span class="s">[Types]</span>
<span class="s">int {0[1]} 42</span>
<span class="s">float {0[0]} 0.44</span>
<span class="s">boolean {0[0]} NO</span>
<span class="s">123 {0[1]} strange but acceptable</span>
<span class="s">&quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">comment_prefixes</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
            <span class="n">config_string</span> <span class="o">+=</span> <span class="p">(</span>
                <span class="s">&quot;[NoValue]</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;option-without-value</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="p">)</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">config_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">basic_test</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">strict</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateOptionError</span><span class="p">):</span>
                <span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">                    [Duplicate Options Here]</span>
<span class="s">                    option {0[0]} with a value</span>
<span class="s">                    option {0[1]} with another value</span>
<span class="s">                &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">)))</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateSectionError</span><span class="p">):</span>
                <span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">                    [And Now For Something]</span>
<span class="s">                    completely different {0[0]} True</span>
<span class="s">                    [And Now For Something]</span>
<span class="s">                    the larch {0[1]} 1</span>
<span class="s">                &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">                [Duplicate Options Here]</span>
<span class="s">                option {0[0]} with a value</span>
<span class="s">                option {0[1]} with another value</span>
<span class="s">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">)))</span>

            <span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">                [And Now For Something]</span>
<span class="s">                completely different {0[0]} True</span>
<span class="s">                [And Now For Something]</span>
<span class="s">                the larch {0[1]} 1</span>
<span class="s">            &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">)))</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_basic_from_dict"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_basic_from_dict">[docs]</a>    <span class="k">def</span> <span class="nf">test_basic_from_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;Foo Bar&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="s">&quot;bar1&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s">&quot;Spacey Bar&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="s">&quot;bar2&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s">&quot;Spacey Bar From The Beginning&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="s">&quot;bar3&quot;</span><span class="p">,</span>
                <span class="s">&quot;baz&quot;</span><span class="p">:</span> <span class="s">&quot;qwe&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s">&quot;Commented Bar&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="s">&quot;bar4&quot;</span><span class="p">,</span>
                <span class="s">&quot;baz&quot;</span><span class="p">:</span> <span class="s">&quot;qwe&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s">&quot;Long Line&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="s">&quot;this line is much, much longer than my editor</span><span class="se">\n</span><span class="s">likes &quot;</span>
                       <span class="s">&quot;it.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s">&quot;Section</span><span class="se">\\</span><span class="s">with$weird</span><span class="si">%c</span><span class="s">haracters[</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="p">},</span>
            <span class="s">&quot;Internationalized Stuff&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;foo[bg]&quot;</span><span class="p">:</span> <span class="s">&quot;Bulgarian&quot;</span><span class="p">,</span>
                <span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="s">&quot;Default&quot;</span><span class="p">,</span>
                <span class="s">&quot;foo[en]&quot;</span><span class="p">:</span> <span class="s">&quot;English&quot;</span><span class="p">,</span>
                <span class="s">&quot;foo[de]&quot;</span><span class="p">:</span> <span class="s">&quot;Deutsch&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s">&quot;Spaces&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;key with spaces&quot;</span><span class="p">:</span> <span class="s">&quot;value&quot;</span><span class="p">,</span>
                <span class="s">&quot;another with spaces&quot;</span><span class="p">:</span> <span class="s">&quot;splat!&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s">&quot;Types&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">&quot;int&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
                <span class="s">&quot;float&quot;</span><span class="p">:</span> <span class="mf">0.44</span><span class="p">,</span>
                <span class="s">&quot;boolean&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
                <span class="mi">123</span><span class="p">:</span> <span class="s">&quot;strange but acceptable&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                <span class="s">&quot;NoValue&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s">&quot;option-without-value&quot;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">})</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">read_dict</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">basic_test</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">strict</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateSectionError</span><span class="p">):</span>
                <span class="n">cf</span><span class="o">.</span><span class="n">read_dict</span><span class="p">({</span>
                    <span class="s">&#39;1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="s">&#39;value&#39;</span><span class="p">},</span>
                    <span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key2&#39;</span><span class="p">:</span> <span class="s">&#39;value2&#39;</span><span class="p">},</span>
                <span class="p">})</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateOptionError</span><span class="p">):</span>
                <span class="n">cf</span><span class="o">.</span><span class="n">read_dict</span><span class="p">({</span>
                    <span class="s">&quot;Duplicate Options Here&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s">&#39;option&#39;</span><span class="p">:</span> <span class="s">&#39;with a value&#39;</span><span class="p">,</span>
                        <span class="s">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s">&#39;with another value&#39;</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">read_dict</span><span class="p">({</span>
                <span class="s">&#39;section&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="s">&#39;value&#39;</span><span class="p">},</span>
                <span class="s">&#39;SECTION&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;key2&#39;</span><span class="p">:</span> <span class="s">&#39;value2&#39;</span><span class="p">},</span>
            <span class="p">})</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">read_dict</span><span class="p">({</span>
                <span class="s">&quot;Duplicate Options Here&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s">&#39;option&#39;</span><span class="p">:</span> <span class="s">&#39;with a value&#39;</span><span class="p">,</span>
                    <span class="s">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s">&#39;with another value&#39;</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">})</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_case_sensitivity"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_case_sensitivity">[docs]</a>    <span class="k">def</span> <span class="nf">test_case_sensitivity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;B&quot;</span><span class="p">)</span>
        <span class="n">L</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">()</span>
        <span class="n">L</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;B&quot;</span><span class="p">,</span> <span class="s">&quot;a&quot;</span><span class="p">])</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;B&quot;</span><span class="p">,</span> <span class="s">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">])</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">),</span> <span class="s">&quot;value&quot;</span><span class="p">,</span>
           <span class="s">&quot;could not locate option, expecting case-insensitive option names&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">):</span>
            <span class="c"># section names are case-sensitive</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;value&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">))</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;A-B&quot;</span><span class="p">,</span> <span class="s">&quot;A-B value&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;a-b&quot;</span><span class="p">,</span> <span class="s">&quot;A-b&quot;</span><span class="p">,</span> <span class="s">&quot;a-B&quot;</span><span class="p">,</span> <span class="s">&quot;A-B&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span>
                <span class="n">cf</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="n">opt</span><span class="p">),</span>
                <span class="s">&quot;has_option() returned false for option which should exist&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&quot;a-b&quot;</span><span class="p">])</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">])</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">remove_option</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;B&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">),</span> <span class="p">[])</span>

        <span class="c"># SF bug #432369:</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s">&quot;[MySection]</span><span class="se">\n</span><span class="s">Option{} first line   </span><span class="se">\n\t</span><span class="s">second line   </span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s">&quot;MySection&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s">&quot;option&quot;</span><span class="p">])</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;MySection&quot;</span><span class="p">,</span> <span class="s">&quot;Option&quot;</span><span class="p">),</span> <span class="s">&quot;first line</span><span class="se">\n</span><span class="s">second line&quot;</span><span class="p">)</span>

        <span class="c"># SF bug #561822:</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;[section]</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;nekey{}nevalue</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                             <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;key&quot;</span><span class="p">:</span><span class="s">&quot;value&quot;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="s">&quot;section&quot;</span><span class="p">,</span> <span class="s">&quot;Key&quot;</span><span class="p">))</span>

</div>
<div class="viewcode-block" id="BasicTestCase.test_case_sensitivity_mapping_access"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_case_sensitivity_mapping_access">[docs]</a>    <span class="k">def</span> <span class="nf">test_case_sensitivity_mapping_access</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">cf</span><span class="p">[</span><span class="s">&quot;A&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">cf</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;B&quot;</span><span class="p">:</span> <span class="s">&quot;value&quot;</span><span class="p">}</span>
        <span class="n">cf</span><span class="p">[</span><span class="s">&quot;B&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">section</span> <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">]</span>
        <span class="n">L</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">elem_eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertCountEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">([</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;B&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">,</span> <span class="s">&quot;a&quot;</span><span class="p">]))</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="p">{</span><span class="s">&quot;b&quot;</span><span class="p">})</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">][</span><span class="s">&quot;b&quot;</span><span class="p">],</span> <span class="s">&quot;value&quot;</span><span class="p">,</span>
           <span class="s">&quot;could not locate option, expecting case-insensitive option names&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="c"># section names are case-sensitive</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">][</span><span class="s">&quot;A&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;value&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&quot;b&quot;</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">])</span>
        <span class="n">cf</span><span class="p">[</span><span class="s">&quot;A&quot;</span><span class="p">][</span><span class="s">&quot;A-B&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;A-B value&quot;</span>
        <span class="k">for</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;a-b&quot;</span><span class="p">,</span> <span class="s">&quot;A-b&quot;</span><span class="p">,</span> <span class="s">&quot;a-B&quot;</span><span class="p">,</span> <span class="s">&quot;A-B&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span>
                <span class="n">opt</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">[</span><span class="s">&quot;A&quot;</span><span class="p">],</span>
                <span class="s">&quot;has_option() returned false for option which should exist&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&quot;A&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="p">{</span><span class="s">&quot;a-b&quot;</span><span class="p">})</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="p">{</span><span class="s">&quot;b&quot;</span><span class="p">})</span>
        <span class="k">del</span> <span class="n">cf</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">][</span><span class="s">&quot;B&quot;</span><span class="p">]</span>
        <span class="n">elem_eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="p">{})</span>

        <span class="c"># SF bug #432369:</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s">&quot;[MySection]</span><span class="se">\n</span><span class="s">Option{} first line   </span><span class="se">\n\t</span><span class="s">second line   </span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&quot;MySection&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="p">{</span><span class="s">&quot;option&quot;</span><span class="p">})</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&quot;MySection&quot;</span><span class="p">][</span><span class="s">&quot;Option&quot;</span><span class="p">],</span> <span class="s">&quot;first line</span><span class="se">\n</span><span class="s">second line&quot;</span><span class="p">)</span>

        <span class="c"># SF bug #561822:</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;[section]</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;nekey{}nevalue</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                             <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;key&quot;</span><span class="p">:</span><span class="s">&quot;value&quot;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="s">&quot;Key&quot;</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">[</span><span class="s">&quot;section&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_default_case_sensitivity"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_default_case_sensitivity">[docs]</a>    <span class="k">def</span> <span class="nf">test_default_case_sensitivity</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">({</span><span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="s">&quot;Bar&quot;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">,</span> <span class="s">&quot;Foo&quot;</span><span class="p">),</span> <span class="s">&quot;Bar&quot;</span><span class="p">,</span>
            <span class="s">&quot;could not locate option, expecting case-insensitive option names&quot;</span><span class="p">)</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">({</span><span class="s">&quot;Foo&quot;</span><span class="p">:</span> <span class="s">&quot;Bar&quot;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">,</span> <span class="s">&quot;Foo&quot;</span><span class="p">),</span> <span class="s">&quot;Bar&quot;</span><span class="p">,</span>
            <span class="s">&quot;could not locate option, expecting case-insensitive defaults&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_parse_errors"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_parse_errors">[docs]</a>    <span class="k">def</span> <span class="nf">test_parse_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_error</span><span class="p">(</span><span class="n">cf</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span><span class="p">,</span>
                         <span class="s">&quot;[Foo]</span><span class="se">\n</span><span class="s">&quot;</span>
                         <span class="s">&quot;{}val-without-opt-name</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parse_error</span><span class="p">(</span><span class="n">cf</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span><span class="p">,</span>
                         <span class="s">&quot;[Foo]</span><span class="se">\n</span><span class="s">&quot;</span>
                         <span class="s">&quot;{}val-without-opt-name</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_error</span><span class="p">(</span><span class="n">cf</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">MissingSectionHeaderError</span><span class="p">,</span>
                             <span class="s">&quot;No Section!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;&lt;???&gt;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;No Section!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
            <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_error</span><span class="p">(</span><span class="n">cf</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span><span class="p">,</span>
                                <span class="s">&quot;[Foo]</span><span class="se">\n</span><span class="s">  wrong-indent</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;&lt;???&gt;&#39;</span><span class="p">,))</span>
            <span class="c"># read_file on a real file</span>
            <span class="n">tricky</span> <span class="o">=</span> <span class="n">support</span><span class="o">.</span><span class="n">findfile</span><span class="p">(</span><span class="s">&quot;cfgparser.3&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;=&#39;</span><span class="p">:</span>
                <span class="n">error</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span>
                <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="n">tricky</span><span class="p">,)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">error</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">MissingSectionHeaderError</span>
                <span class="n">expected</span> <span class="o">=</span> <span class="p">(</span><span class="n">tricky</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
                            <span class="s">&#39;  # INI with as many tricky parts as possible</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">tricky</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_error</span><span class="p">(</span><span class="n">cf</span><span class="p">,</span> <span class="n">error</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BasicTestCase.parse_error"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.parse_error">[docs]</a>    <span class="k">def</span> <span class="nf">parse_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cf</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">src</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="s">&#39;readline&#39;</span><span class="p">):</span>
            <span class="n">sio</span> <span class="o">=</span> <span class="n">src</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sio</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">sio</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cm</span><span class="o">.</span><span class="n">exception</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_query_errors"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_query_errors">[docs]</a>    <span class="k">def</span> <span class="nf">test_query_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">(),</span> <span class="p">[],</span>
                         <span class="s">&quot;new ConfigParser should have no defined sections&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">has_section</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">),</span>
                         <span class="s">&quot;new ConfigParser should have no acknowledged &quot;</span>
                         <span class="s">&quot;sections&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">,</span> <span class="s">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">(</span><span class="n">cf</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,))</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
        <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">(</span><span class="n">cf</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">NoOptionError</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BasicTestCase.get_error"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.get_error">[docs]</a>    <span class="k">def</span> <span class="nf">get_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cf</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">exc</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;expected exception type </span><span class="si">%s</span><span class="s">.</span><span class="si">%s</span><span class="s">&quot;</span>
                      <span class="o">%</span> <span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">__module__</span><span class="p">,</span> <span class="n">exc</span><span class="o">.</span><span class="n">__name__</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_boolean"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_boolean">[docs]</a>    <span class="k">def</span> <span class="nf">test_boolean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s">&quot;[BOOLTEST]</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;T1{equals}1</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;T2{equals}TRUE</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;T3{equals}True</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;T4{equals}oN</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;T5{equals}yes</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;F1{equals}0</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;F2{equals}FALSE</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;F3{equals}False</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;F4{equals}oFF</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;F5{equals}nO</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;E1{equals}2</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;E2{equals}foo</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;E3{equals}-1</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;E4{equals}0.1</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;E5{equals}FALSE AND MORE&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">equals</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="p">)</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;BOOLTEST&#39;</span><span class="p">,</span> <span class="s">&#39;t</span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">x</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="s">&#39;BOOLTEST&#39;</span><span class="p">,</span> <span class="s">&#39;f</span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">x</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span>
                              <span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">,</span> <span class="s">&#39;BOOLTEST&#39;</span><span class="p">,</span> <span class="s">&#39;e</span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_weird_errors"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_weird_errors">[docs]</a>    <span class="k">def</span> <span class="nf">test_weird_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateSectionError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">)</span>
        <span class="n">e</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">exception</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="s">&quot;Section &#39;Foo&#39; already exists&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">strict</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateSectionError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
                <span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">                    [Foo]</span>
<span class="s">                    will this be added{equals}True</span>
<span class="s">                    [Bar]</span>
<span class="s">                    what about this{equals}True</span>
<span class="s">                    [Foo]</span>
<span class="s">                    oops{equals}this won&#39;t</span>
<span class="s">                &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">equals</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span> <span class="n">source</span><span class="o">=</span><span class="s">&#39;&lt;foo-bar&gt;&#39;</span><span class="p">)</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">exception</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="s">&quot;While reading from &#39;&lt;foo-bar&gt;&#39; &quot;</span>
                                     <span class="s">&quot;[line  5]: section &#39;Foo&#39; already exists&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&#39;&lt;foo-bar&gt;&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateOptionError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
                <span class="n">cf</span><span class="o">.</span><span class="n">read_dict</span><span class="p">({</span><span class="s">&#39;Bar&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;opt&#39;</span><span class="p">:</span> <span class="s">&#39;val&#39;</span><span class="p">,</span> <span class="s">&#39;OPT&#39;</span><span class="p">:</span> <span class="s">&#39;is really `opt`&#39;</span><span class="p">}})</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">exception</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="s">&quot;While reading from &#39;&lt;dict&gt;&#39;: option &quot;</span>
                                     <span class="s">&quot;&#39;opt&#39; in section &#39;Bar&#39; already exists&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;Bar&quot;</span><span class="p">,</span> <span class="s">&quot;opt&quot;</span><span class="p">,</span> <span class="s">&quot;&lt;dict&gt;&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_write"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_write">[docs]</a>    <span class="k">def</span> <span class="nf">test_write</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">config_string</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s">&quot;[Long Line]</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;foo{0[0]} this line is much, much longer than my editor</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;   likes it.</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;[{default_section}]</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;foo{0[1]} another very</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot; long line</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;[Long Line - With Comments!]</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;test {0[1]} we        {comment} can</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;            also      {comment} place</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;            comments  {comment} in</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;            multiline {comment} values&quot;</span>
            <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">comment_prefixes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                        <span class="n">default_section</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
            <span class="n">config_string</span> <span class="o">+=</span> <span class="p">(</span>
            <span class="s">&quot;[Valueless]</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;option-without-value</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="p">)</span>

        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">config_string</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">space_around_delimiters</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">):</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">space_around_delimiters</span><span class="o">=</span><span class="n">space_around_delimiters</span><span class="p">)</span>
            <span class="n">delimiter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">space_around_delimiters</span><span class="p">:</span>
                <span class="n">delimiter</span> <span class="o">=</span> <span class="s">&quot; {} &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">delimiter</span><span class="p">)</span>
            <span class="n">expect_string</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s">&quot;[{default_section}]</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;foo{equals}another very</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;</span><span class="se">\t</span><span class="s">long line</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;[Long Line]</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;foo{equals}this line is much, much longer than my editor</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;</span><span class="se">\t</span><span class="s">likes it.</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;[Long Line - With Comments!]</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;test{equals}we</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;</span><span class="se">\t</span><span class="s">also</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;</span><span class="se">\t</span><span class="s">comments</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;</span><span class="se">\t</span><span class="s">multiline</span><span class="se">\n</span><span class="s">&quot;</span>
                <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">equals</span><span class="o">=</span><span class="n">delimiter</span><span class="p">,</span>
                            <span class="n">default_section</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_no_value</span><span class="p">:</span>
                <span class="n">expect_string</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="s">&quot;[Valueless]</span><span class="se">\n</span><span class="s">&quot;</span>
                    <span class="s">&quot;option-without-value</span><span class="se">\n</span><span class="s">&quot;</span>
                    <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
                    <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">(),</span> <span class="n">expect_string</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_set_string_types"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_set_string_types">[docs]</a>    <span class="k">def</span> <span class="nf">test_set_string_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;[sect]</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;option1{eq}foo</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="c"># Check that we don&#39;t get an exception when setting values in</span>
        <span class="c"># an existing section using strings:</span>
        <span class="k">class</span> <span class="nc">mystr</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;splat&quot;</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="n">mystr</span><span class="p">(</span><span class="s">&quot;splat&quot;</span><span class="p">))</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="s">&quot;splat&quot;</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="n">mystr</span><span class="p">(</span><span class="s">&quot;splat&quot;</span><span class="p">))</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;splat&quot;</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="s">&quot;splat&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_read_returns_file_list"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_read_returns_file_list">[docs]</a>    <span class="k">def</span> <span class="nf">test_read_returns_file_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s">&#39;=&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&#39;incompatible format&#39;</span><span class="p">)</span>
        <span class="n">file1</span> <span class="o">=</span> <span class="n">support</span><span class="o">.</span><span class="n">findfile</span><span class="p">(</span><span class="s">&quot;cfgparser.1&quot;</span><span class="p">)</span>
        <span class="c"># check when we pass a mix of readable and non-readable files:</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">parsed_files</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">([</span><span class="n">file1</span><span class="p">,</span> <span class="s">&quot;nonexistent-file&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parsed_files</span><span class="p">,</span> <span class="p">[</span><span class="n">file1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span> <span class="s">&quot;newbar&quot;</span><span class="p">)</span>
        <span class="c"># check when we pass only a filename:</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">parsed_files</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">file1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parsed_files</span><span class="p">,</span> <span class="p">[</span><span class="n">file1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">),</span> <span class="s">&quot;newbar&quot;</span><span class="p">)</span>
        <span class="c"># check when we pass only missing files:</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">parsed_files</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">([</span><span class="s">&quot;nonexistent-file&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parsed_files</span><span class="p">,</span> <span class="p">[])</span>
        <span class="c"># check when we pass no files:</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">parsed_files</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">([])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parsed_files</span><span class="p">,</span> <span class="p">[])</span>

    <span class="c"># shared by subclasses</span></div>
<div class="viewcode-block" id="BasicTestCase.get_interpolation_config"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.get_interpolation_config">[docs]</a>    <span class="k">def</span> <span class="nf">get_interpolation_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
            <span class="s">&quot;[Foo]</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;bar{equals}something </span><span class="si">%(with1)s</span><span class="s"> interpolation (1 step)</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;bar9{equals}something </span><span class="si">%(with9)s</span><span class="s"> lots of interpolation (9 steps)</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;bar10{equals}something </span><span class="si">%(with10)s</span><span class="s"> lots of interpolation (10 steps)</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;bar11{equals}something </span><span class="si">%(with11)s</span><span class="s"> lots of interpolation (11 steps)</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;with11{equals}</span><span class="si">%(with10)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;with10{equals}</span><span class="si">%(with9)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;with9{equals}</span><span class="si">%(with8)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;with8{equals}</span><span class="si">%(With7)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;with7{equals}</span><span class="si">%(WITH6)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;with6{equals}</span><span class="si">%(with5)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;With5{equals}</span><span class="si">%(with4)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;WITH4{equals}</span><span class="si">%(with3)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;with3{equals}</span><span class="si">%(with2)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;with2{equals}</span><span class="si">%(with1)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;with1{equals}with</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;[Mutual Recursion]</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;foo{equals}</span><span class="si">%(bar)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;bar{equals}</span><span class="si">%(foo)s</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;[Interpolation Error]</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="c"># no definition for &#39;reference&#39;</span>
            <span class="s">&quot;name{equals}</span><span class="si">%(reference)s</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">equals</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</div>
<div class="viewcode-block" id="BasicTestCase.check_items_config"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.check_items_config">[docs]</a>    <span class="k">def</span> <span class="nf">check_items_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [section]</span>
<span class="s">            name {0[0]} </span><span class="si">%(value)s</span><span class="s"></span>
<span class="s">            key{0[1]} |</span><span class="si">%(name)s</span><span class="s">|</span>
<span class="s">            getdefault{0[1]} |</span><span class="si">%(default)s</span><span class="s">|</span>
<span class="s">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">),</span> <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;default&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;default&gt;&quot;</span><span class="p">})</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="s">&quot;section&quot;</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;value&#39;</span><span class="p">:</span> <span class="s">&#39;value&#39;</span><span class="p">}))</span>
        <span class="n">L</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="s">&quot;no such section&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_popitem"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_popitem">[docs]</a>    <span class="k">def</span> <span class="nf">test_popitem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [section1]</span>
<span class="s">            name1 {0[0]} value1</span>
<span class="s">            [section2]</span>
<span class="s">            name2 {0[0]} value2</span>
<span class="s">            [section3]</span>
<span class="s">            name3 {0[0]} value3</span>
<span class="s">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">),</span> <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;default&quot;</span><span class="p">:</span> <span class="s">&quot;&lt;default&gt;&quot;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">popitem</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;section1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">popitem</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;section2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">popitem</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="s">&#39;section3&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_clear"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_clear">[docs]</a>    <span class="k">def</span> <span class="nf">test_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">({</span><span class="s">&quot;foo&quot;</span><span class="p">:</span> <span class="s">&quot;Bar&quot;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">,</span> <span class="s">&quot;Foo&quot;</span><span class="p">),</span> <span class="s">&quot;Bar&quot;</span><span class="p">,</span>
            <span class="s">&quot;could not locate option, expecting case-insensitive option names&quot;</span><span class="p">)</span>
        <span class="n">cf</span><span class="p">[</span><span class="s">&#39;zing&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;option1&#39;</span><span class="p">:</span> <span class="s">&#39;value1&#39;</span><span class="p">,</span> <span class="s">&#39;option2&#39;</span><span class="p">:</span> <span class="s">&#39;value2&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">(),</span> <span class="p">[</span><span class="s">&#39;zing&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;zing&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="p">{</span><span class="s">&#39;option1&#39;</span><span class="p">,</span> <span class="s">&#39;option2&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">})</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">()),</span> <span class="nb">set</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">})</span>
</div>
<div class="viewcode-block" id="BasicTestCase.test_setitem"><a class="viewcode-back" href="../../test.html#test.test_configparser.BasicTestCase.test_setitem">[docs]</a>    <span class="k">def</span> <span class="nf">test_setitem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [section1]</span>
<span class="s">            name1 {0[0]} value1</span>
<span class="s">            [section2]</span>
<span class="s">            name2 {0[0]} value2</span>
<span class="s">            [section3]</span>
<span class="s">            name3 {0[0]} value3</span>
<span class="s">        &quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">),</span> <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;nameD&quot;</span><span class="p">:</span> <span class="s">&quot;valueD&quot;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="p">{</span><span class="s">&#39;name1&#39;</span><span class="p">,</span> <span class="s">&#39;named&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="p">{</span><span class="s">&#39;name2&#39;</span><span class="p">,</span> <span class="s">&#39;named&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="p">{</span><span class="s">&#39;name3&#39;</span><span class="p">,</span> <span class="s">&#39;named&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section1&#39;</span><span class="p">][</span><span class="s">&#39;name1&#39;</span><span class="p">],</span> <span class="s">&#39;value1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section2&#39;</span><span class="p">][</span><span class="s">&#39;name2&#39;</span><span class="p">],</span> <span class="s">&#39;value2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section3&#39;</span><span class="p">][</span><span class="s">&#39;name3&#39;</span><span class="p">],</span> <span class="s">&#39;value3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">(),</span> <span class="p">[</span><span class="s">&#39;section1&#39;</span><span class="p">,</span> <span class="s">&#39;section2&#39;</span><span class="p">,</span> <span class="s">&#39;section3&#39;</span><span class="p">])</span>
        <span class="n">cf</span><span class="p">[</span><span class="s">&#39;section2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;name22&#39;</span><span class="p">:</span> <span class="s">&#39;value22&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="p">{</span><span class="s">&#39;name22&#39;</span><span class="p">,</span> <span class="s">&#39;named&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section2&#39;</span><span class="p">][</span><span class="s">&#39;name22&#39;</span><span class="p">],</span> <span class="s">&#39;value22&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="s">&#39;name2&#39;</span><span class="p">,</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;section2&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">(),</span> <span class="p">[</span><span class="s">&#39;section1&#39;</span><span class="p">,</span> <span class="s">&#39;section2&#39;</span><span class="p">,</span> <span class="s">&#39;section3&#39;</span><span class="p">])</span>
        <span class="n">cf</span><span class="p">[</span><span class="s">&#39;section3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="p">{</span><span class="s">&#39;named&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="s">&#39;name3&#39;</span><span class="p">,</span> <span class="n">cf</span><span class="p">[</span><span class="s">&#39;section3&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">(),</span> <span class="p">[</span><span class="s">&#39;section1&#39;</span><span class="p">,</span> <span class="s">&#39;section2&#39;</span><span class="p">,</span> <span class="s">&#39;section3&#39;</span><span class="p">])</span>
        <span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="nb">set</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="p">{</span><span class="s">&#39;name1&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="p">{</span><span class="s">&#39;name22&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;section3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="nb">set</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">(),</span> <span class="p">[</span><span class="s">&#39;section1&#39;</span><span class="p">,</span> <span class="s">&#39;section2&#39;</span><span class="p">,</span> <span class="s">&#39;section3&#39;</span><span class="p">])</span>

</div></div>
<div class="viewcode-block" id="StrictTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.StrictTestCase">[docs]</a><span class="k">class</span> <span class="nc">StrictTestCase</span><span class="p">(</span><span class="n">BasicTestCase</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">RawConfigParser</span>
    <span class="n">strict</span> <span class="o">=</span> <span class="bp">True</span>

</div>
<div class="viewcode-block" id="ConfigParserTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCase">[docs]</a><span class="k">class</span> <span class="nc">ConfigParserTestCase</span><span class="p">(</span><span class="n">BasicTestCase</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span>

<div class="viewcode-block" id="ConfigParserTestCase.test_interpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCase.test_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">test_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_interpolation_config</span><span class="p">()</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">),</span> <span class="s">&quot;something with interpolation (1 step)&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar9&quot;</span><span class="p">),</span>
           <span class="s">&quot;something with lots of interpolation (9 steps)&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar10&quot;</span><span class="p">),</span>
           <span class="s">&quot;something with lots of interpolation (10 steps)&quot;</span><span class="p">)</span>
        <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">(</span><span class="n">cf</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationDepthError</span><span class="p">,</span> <span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar11&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">interpolation</span> <span class="o">==</span> <span class="n">configparser</span><span class="o">.</span><span class="n">_UNSET</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;bar11&quot;</span><span class="p">,</span> <span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%(with1)s</span><span class="s">&quot;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interpolation</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">LegacyInterpolation</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;bar11&quot;</span><span class="p">,</span> <span class="s">&quot;Foo&quot;</span><span class="p">,</span>
                <span class="s">&quot;something </span><span class="si">%(with11)s</span><span class="s"> lots of interpolation (11 steps)&quot;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCase.test_interpolation_missing_value"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCase.test_interpolation_missing_value">[docs]</a>    <span class="k">def</span> <span class="nf">test_interpolation_missing_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_interpolation_config</span><span class="p">()</span>
        <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">(</span><span class="n">cf</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationMissingOptionError</span><span class="p">,</span>
                           <span class="s">&quot;Interpolation Error&quot;</span><span class="p">,</span> <span class="s">&quot;name&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">reference</span><span class="p">,</span> <span class="s">&quot;reference&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="s">&quot;Interpolation Error&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">option</span><span class="p">,</span> <span class="s">&quot;name&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">interpolation</span> <span class="o">==</span> <span class="n">configparser</span><span class="o">.</span><span class="n">_UNSET</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;Interpolation Error&#39;</span><span class="p">,</span>
                                    <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;reference&#39;</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interpolation</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">LegacyInterpolation</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;Interpolation Error&#39;</span><span class="p">,</span>
                                    <span class="s">&#39;</span><span class="si">%(reference)s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;reference&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCase.test_items"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCase.test_items">[docs]</a>    <span class="k">def</span> <span class="nf">test_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_items_config</span><span class="p">([(</span><span class="s">&#39;default&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;default&gt;&#39;</span><span class="p">),</span>
                                 <span class="p">(</span><span class="s">&#39;getdefault&#39;</span><span class="p">,</span> <span class="s">&#39;|&lt;default&gt;|&#39;</span><span class="p">),</span>
                                 <span class="p">(</span><span class="s">&#39;key&#39;</span><span class="p">,</span> <span class="s">&#39;|value|&#39;</span><span class="p">),</span>
                                 <span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;value&#39;</span><span class="p">),</span>
                                 <span class="p">(</span><span class="s">&#39;value&#39;</span><span class="p">,</span> <span class="s">&#39;value&#39;</span><span class="p">)])</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCase.test_safe_interpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCase.test_safe_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">test_safe_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># See http://www.python.org/sf/511737</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;[section]</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;option1{eq}xxx</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;option2{eq}</span><span class="si">%(option1)s</span><span class="s">/xxx</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;ok{eq}</span><span class="si">%(option1)s</span><span class="s">/</span><span class="si">%%</span><span class="s">s</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;not_ok{eq}</span><span class="si">%(option2)s</span><span class="s">/</span><span class="si">%%</span><span class="s">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                 <span class="n">eq</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;section&quot;</span><span class="p">,</span> <span class="s">&quot;ok&quot;</span><span class="p">),</span> <span class="s">&quot;xxx/</span><span class="si">%s</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">interpolation</span> <span class="o">==</span> <span class="n">configparser</span><span class="o">.</span><span class="n">_UNSET</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;section&quot;</span><span class="p">,</span> <span class="s">&quot;not_ok&quot;</span><span class="p">),</span> <span class="s">&quot;xxx/xxx/</span><span class="si">%s</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">interpolation</span><span class="p">,</span> <span class="n">configparser</span><span class="o">.</span><span class="n">LegacyInterpolation</span><span class="p">):</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;section&quot;</span><span class="p">,</span> <span class="s">&quot;not_ok&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCase.test_set_malformatted_interpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCase.test_set_malformatted_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">test_set_malformatted_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;[sect]</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;option1{eq}foo</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;sect&#39;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">),</span> <span class="s">&quot;foo&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%f</span><span class="s">oo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;foo%&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;f</span><span class="si">%o</span><span class="s">o&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;sect&#39;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">),</span> <span class="s">&quot;foo&quot;</span><span class="p">)</span>

        <span class="c"># bug #5741: double percents are *not* malformed</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="s">&quot;foo</span><span class="si">%%</span><span class="s">bar&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">),</span> <span class="s">&quot;foo%bar&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCase.test_set_nonstring_types"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCase.test_set_nonstring_types">[docs]</a>    <span class="k">def</span> <span class="nf">test_set_nonstring_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;[sect]</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;option1{eq}foo</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="c"># Check that we get a TypeError when setting non-string values</span>
        <span class="c"># in an existing section:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">,</span> <span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="s">&quot;invalid opt name!&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">,</span> <span class="mi">123</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCase.test_add_section_default"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCase.test_add_section_default">[docs]</a>    <span class="k">def</span> <span class="nf">test_add_section_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="ConfigParserTestCaseNoInterpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseNoInterpolation">[docs]</a><span class="k">class</span> <span class="nc">ConfigParserTestCaseNoInterpolation</span><span class="p">(</span><span class="n">BasicTestCase</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">ini</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        [numbers]</span>
<span class="s">        one = 1</span>
<span class="s">        two = </span><span class="si">%(one)s</span><span class="s"> * 2</span>
<span class="s">        three = ${common:one} * 3</span>

<span class="s">        [hexen]</span>
<span class="s">        sixteen = ${numbers:two} * 8</span>
<span class="s">    &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<div class="viewcode-block" id="ConfigParserTestCaseNoInterpolation.assertMatchesIni"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseNoInterpolation.assertMatchesIni">[docs]</a>    <span class="k">def</span> <span class="nf">assertMatchesIni</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cf</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;numbers&#39;</span><span class="p">][</span><span class="s">&#39;one&#39;</span><span class="p">],</span> <span class="s">&#39;1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;numbers&#39;</span><span class="p">][</span><span class="s">&#39;two&#39;</span><span class="p">],</span> <span class="s">&#39;</span><span class="si">%(one)s</span><span class="s"> * 2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;numbers&#39;</span><span class="p">][</span><span class="s">&#39;three&#39;</span><span class="p">],</span> <span class="s">&#39;${common:one} * 3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;hexen&#39;</span><span class="p">][</span><span class="s">&#39;sixteen&#39;</span><span class="p">],</span> <span class="s">&#39;${numbers:two} * 8&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseNoInterpolation.test_no_interpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseNoInterpolation.test_no_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">test_no_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ini</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertMatchesIni</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseNoInterpolation.test_empty_case"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseNoInterpolation.test_empty_case">[docs]</a>    <span class="k">def</span> <span class="nf">test_empty_case</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseNoInterpolation.test_none_as_default_interpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseNoInterpolation.test_none_as_default_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">test_none_as_default_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">class</span> <span class="nc">CustomConfigParser</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">):</span>
            <span class="n">_DEFAULT_INTERPOLATION</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="n">cf</span> <span class="o">=</span> <span class="n">CustomConfigParser</span><span class="p">()</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ini</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertMatchesIni</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="ConfigParserTestCaseLegacyInterpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseLegacyInterpolation">[docs]</a><span class="k">class</span> <span class="nc">ConfigParserTestCaseLegacyInterpolation</span><span class="p">(</span><span class="n">ConfigParserTestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">LegacyInterpolation</span><span class="p">()</span>

<div class="viewcode-block" id="ConfigParserTestCaseLegacyInterpolation.test_set_malformatted_interpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseLegacyInterpolation.test_set_malformatted_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">test_set_malformatted_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;[sect]</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;option1{eq}foo</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">delimiters</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;sect&#39;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">),</span> <span class="s">&quot;foo&quot;</span><span class="p">)</span>

        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%f</span><span class="s">oo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;sect&#39;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">),</span> <span class="s">&quot;</span><span class="si">%f</span><span class="s">oo&quot;</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;foo%&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;sect&#39;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">),</span> <span class="s">&quot;foo%&quot;</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">,</span> <span class="s">&quot;f</span><span class="si">%o</span><span class="s">o&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;sect&#39;</span><span class="p">,</span> <span class="s">&quot;option1&quot;</span><span class="p">),</span> <span class="s">&quot;f</span><span class="si">%o</span><span class="s">o&quot;</span><span class="p">)</span>

        <span class="c"># bug #5741: double percents are *not* malformed</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">,</span> <span class="s">&quot;foo</span><span class="si">%%</span><span class="s">bar&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;sect&quot;</span><span class="p">,</span> <span class="s">&quot;option2&quot;</span><span class="p">),</span> <span class="s">&quot;foo</span><span class="si">%%</span><span class="s">bar&quot;</span><span class="p">)</span>
</div></div>
<div class="viewcode-block" id="ConfigParserTestCaseNonStandardDelimiters"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseNonStandardDelimiters">[docs]</a><span class="k">class</span> <span class="nc">ConfigParserTestCaseNonStandardDelimiters</span><span class="p">(</span><span class="n">ConfigParserTestCase</span><span class="p">):</span>
    <span class="n">delimiters</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;:=&#39;</span><span class="p">,</span> <span class="s">&#39;$&#39;</span><span class="p">)</span>
    <span class="n">comment_prefixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="s">&#39;&quot;&#39;</span><span class="p">)</span>
    <span class="n">inline_comment_prefixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="s">&#39;&quot;&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseNonStandardDefaultSection"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseNonStandardDefaultSection">[docs]</a><span class="k">class</span> <span class="nc">ConfigParserTestCaseNonStandardDefaultSection</span><span class="p">(</span><span class="n">ConfigParserTestCase</span><span class="p">):</span>
    <span class="n">default_section</span> <span class="o">=</span> <span class="s">&#39;general&#39;</span>
</div>
<div class="viewcode-block" id="MultilineValuesTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.MultilineValuesTestCase">[docs]</a><span class="k">class</span> <span class="nc">MultilineValuesTestCase</span><span class="p">(</span><span class="n">BasicTestCase</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span>
    <span class="n">wonderful_spam</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;I&#39;m having spam spam spam spam &quot;</span>
                      <span class="s">&quot;spam spam spam beaked beans spam &quot;</span>
                      <span class="s">&quot;spam spam and spam!&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\t\n</span><span class="s">&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="MultilineValuesTestCase.setUp"><a class="viewcode-back" href="../../test.html#test.test_configparser.MultilineValuesTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s">&#39;section{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
                <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&#39;lovely_spam{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">j</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">wonderful_spam</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MultilineValuesTestCase.tearDown"><a class="viewcode-back" href="../../test.html#test.test_configparser.MultilineValuesTestCase.tearDown">[docs]</a>    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">unlink</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MultilineValuesTestCase.test_dominating_multiline_values"><a class="viewcode-back" href="../../test.html#test.test_configparser.MultilineValuesTestCase.test_dominating_multiline_values">[docs]</a>    <span class="k">def</span> <span class="nf">test_dominating_multiline_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># We&#39;re reading from file because this is where the code changed</span>
        <span class="c"># during performance updates in Python 3.2</span>
        <span class="n">cf_from_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">support</span><span class="o">.</span><span class="n">TESTFN</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">cf_from_file</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf_from_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;section8&#39;</span><span class="p">,</span> <span class="s">&#39;lovely_spam4&#39;</span><span class="p">),</span>
                         <span class="bp">self</span><span class="o">.</span><span class="n">wonderful_spam</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\t\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">))</span>
</div></div>
<div class="viewcode-block" id="RawConfigParserTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.RawConfigParserTestCase">[docs]</a><span class="k">class</span> <span class="nc">RawConfigParserTestCase</span><span class="p">(</span><span class="n">BasicTestCase</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">RawConfigParser</span>

<div class="viewcode-block" id="RawConfigParserTestCase.test_interpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.RawConfigParserTestCase.test_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">test_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_interpolation_config</span><span class="p">()</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">),</span>
           <span class="s">&quot;something </span><span class="si">%(with1)s</span><span class="s"> interpolation (1 step)&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar9&quot;</span><span class="p">),</span>
           <span class="s">&quot;something </span><span class="si">%(with9)s</span><span class="s"> lots of interpolation (9 steps)&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar10&quot;</span><span class="p">),</span>
           <span class="s">&quot;something </span><span class="si">%(with10)s</span><span class="s"> lots of interpolation (10 steps)&quot;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar11&quot;</span><span class="p">),</span>
           <span class="s">&quot;something </span><span class="si">%(with11)s</span><span class="s"> lots of interpolation (11 steps)&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="RawConfigParserTestCase.test_items"><a class="viewcode-back" href="../../test.html#test.test_configparser.RawConfigParserTestCase.test_items">[docs]</a>    <span class="k">def</span> <span class="nf">test_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_items_config</span><span class="p">([(</span><span class="s">&#39;default&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;default&gt;&#39;</span><span class="p">),</span>
                                 <span class="p">(</span><span class="s">&#39;getdefault&#39;</span><span class="p">,</span> <span class="s">&#39;|</span><span class="si">%(default)s</span><span class="s">|&#39;</span><span class="p">),</span>
                                 <span class="p">(</span><span class="s">&#39;key&#39;</span><span class="p">,</span> <span class="s">&#39;|</span><span class="si">%(name)s</span><span class="s">|&#39;</span><span class="p">),</span>
                                 <span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%(value)s</span><span class="s">&#39;</span><span class="p">),</span>
                                 <span class="p">(</span><span class="s">&#39;value&#39;</span><span class="p">,</span> <span class="s">&#39;value&#39;</span><span class="p">)])</span>
</div>
<div class="viewcode-block" id="RawConfigParserTestCase.test_set_nonstring_types"><a class="viewcode-back" href="../../test.html#test.test_configparser.RawConfigParserTestCase.test_set_nonstring_types">[docs]</a>    <span class="k">def</span> <span class="nf">test_set_nonstring_types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&#39;non-string&#39;</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&#39;non-string&#39;</span><span class="p">,</span> <span class="s">&#39;int&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&#39;non-string&#39;</span><span class="p">,</span> <span class="s">&#39;list&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">])</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&#39;non-string&#39;</span><span class="p">,</span> <span class="s">&#39;dict&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;pi&#39;</span><span class="p">:</span> <span class="mf">3.14159</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;non-string&#39;</span><span class="p">,</span> <span class="s">&#39;int&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;non-string&#39;</span><span class="p">,</span> <span class="s">&#39;list&#39;</span><span class="p">),</span>
                         <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;non-string&#39;</span><span class="p">,</span> <span class="s">&#39;dict&#39;</span><span class="p">),</span> <span class="p">{</span><span class="s">&#39;pi&#39;</span><span class="p">:</span> <span class="mf">3.14159</span><span class="p">})</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s">&#39;this is sick&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="s">&#39;this is sick&#39;</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cf</span><span class="o">.</span><span class="n">_dict</span> <span class="ow">is</span> <span class="n">configparser</span><span class="o">.</span><span class="n">_default_dict</span><span class="p">:</span>
            <span class="c"># would not work for SortedDict; only checking for the most common</span>
            <span class="c"># default dictionary (OrderedDict)</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">optionxform</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&#39;non-string&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;non-string&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
</div></div>
<div class="viewcode-block" id="RawConfigParserTestCaseNonStandardDelimiters"><a class="viewcode-back" href="../../test.html#test.test_configparser.RawConfigParserTestCaseNonStandardDelimiters">[docs]</a><span class="k">class</span> <span class="nc">RawConfigParserTestCaseNonStandardDelimiters</span><span class="p">(</span><span class="n">RawConfigParserTestCase</span><span class="p">):</span>
    <span class="n">delimiters</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;:=&#39;</span><span class="p">,</span> <span class="s">&#39;$&#39;</span><span class="p">)</span>
    <span class="n">comment_prefixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="s">&#39;&quot;&#39;</span><span class="p">)</span>
    <span class="n">inline_comment_prefixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="s">&#39;&quot;&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="RawConfigParserTestSambaConf"><a class="viewcode-back" href="../../test.html#test.test_configparser.RawConfigParserTestSambaConf">[docs]</a><span class="k">class</span> <span class="nc">RawConfigParserTestSambaConf</span><span class="p">(</span><span class="n">CfgParserTestCaseClass</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">RawConfigParser</span>
    <span class="n">comment_prefixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;#&#39;</span><span class="p">,</span> <span class="s">&#39;;&#39;</span><span class="p">,</span> <span class="s">&#39;----&#39;</span><span class="p">)</span>
    <span class="n">inline_comment_prefixes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;//&#39;</span><span class="p">,)</span>
    <span class="n">empty_lines_in_values</span> <span class="o">=</span> <span class="bp">False</span>

<div class="viewcode-block" id="RawConfigParserTestSambaConf.test_reading"><a class="viewcode-back" href="../../test.html#test.test_configparser.RawConfigParserTestSambaConf.test_reading">[docs]</a>    <span class="k">def</span> <span class="nf">test_reading</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">smbconf</span> <span class="o">=</span> <span class="n">support</span><span class="o">.</span><span class="n">findfile</span><span class="p">(</span><span class="s">&quot;cfgparser.2&quot;</span><span class="p">)</span>
        <span class="c"># check when we pass a mix of readable and non-readable files:</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">parsed_files</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">([</span><span class="n">smbconf</span><span class="p">,</span> <span class="s">&quot;nonexistent-file&quot;</span><span class="p">],</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parsed_files</span><span class="p">,</span> <span class="p">[</span><span class="n">smbconf</span><span class="p">])</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;global&#39;</span><span class="p">,</span> <span class="s">&#39;homes&#39;</span><span class="p">,</span> <span class="s">&#39;printers&#39;</span><span class="p">,</span>
                    <span class="s">&#39;print$&#39;</span><span class="p">,</span> <span class="s">&#39;pdf-generator&#39;</span><span class="p">,</span> <span class="s">&#39;tmp&#39;</span><span class="p">,</span> <span class="s">&#39;Agustin&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">(),</span> <span class="n">sections</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;global&quot;</span><span class="p">,</span> <span class="s">&quot;workgroup&quot;</span><span class="p">),</span> <span class="s">&quot;MDKGROUP&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="s">&quot;global&quot;</span><span class="p">,</span> <span class="s">&quot;max log size&quot;</span><span class="p">),</span> <span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;global&quot;</span><span class="p">,</span> <span class="s">&quot;hosts allow&quot;</span><span class="p">),</span> <span class="s">&quot;127.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;tmp&quot;</span><span class="p">,</span> <span class="s">&quot;echo command&quot;</span><span class="p">),</span> <span class="s">&quot;cat </span><span class="si">%s</span><span class="s">; rm </span><span class="si">%s</span><span class="s">&quot;</span><span class="p">)</span>
</div></div>
<div class="viewcode-block" id="ConfigParserTestCaseExtendedInterpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseExtendedInterpolation">[docs]</a><span class="k">class</span> <span class="nc">ConfigParserTestCaseExtendedInterpolation</span><span class="p">(</span><span class="n">BasicTestCase</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span>
    <span class="n">interpolation</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ExtendedInterpolation</span><span class="p">()</span>
    <span class="n">default_section</span> <span class="o">=</span> <span class="s">&#39;common&#39;</span>
    <span class="n">strict</span> <span class="o">=</span> <span class="bp">True</span>

<div class="viewcode-block" id="ConfigParserTestCaseExtendedInterpolation.fromstring"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseExtendedInterpolation.fromstring">[docs]</a>    <span class="k">def</span> <span class="nf">fromstring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">optionxform</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">(</span><span class="n">defaults</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">optionxform</span><span class="p">:</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">optionxform</span> <span class="o">=</span> <span class="n">optionxform</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cf</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseExtendedInterpolation.test_extended_interpolation"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseExtendedInterpolation.test_extended_interpolation">[docs]</a>    <span class="k">def</span> <span class="nf">test_extended_interpolation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [common]</span>
<span class="s">            favourite Beatle = Paul</span>
<span class="s">            favourite color = green</span>

<span class="s">            [tom]</span>
<span class="s">            favourite band = ${favourite color} day</span>
<span class="s">            favourite pope = John ${favourite Beatle} II</span>
<span class="s">            sequel = ${favourite pope}I</span>

<span class="s">            [ambv]</span>
<span class="s">            favourite Beatle = George</span>
<span class="s">            son of Edward VII = ${favourite Beatle} V</span>
<span class="s">            son of George V = ${son of Edward VII}I</span>

<span class="s">            [stanley]</span>
<span class="s">            favourite Beatle = ${ambv:favourite Beatle}</span>
<span class="s">            favourite pope = ${tom:favourite pope}</span>
<span class="s">            favourite color = black</span>
<span class="s">            favourite state of mind = paranoid</span>
<span class="s">            favourite movie = soylent ${common:favourite color}</span>
<span class="s">            favourite song = ${favourite color} sabbath - ${favourite state of mind}</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;common&#39;</span><span class="p">][</span><span class="s">&#39;favourite Beatle&#39;</span><span class="p">],</span> <span class="s">&#39;Paul&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;common&#39;</span><span class="p">][</span><span class="s">&#39;favourite color&#39;</span><span class="p">],</span> <span class="s">&#39;green&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;tom&#39;</span><span class="p">][</span><span class="s">&#39;favourite Beatle&#39;</span><span class="p">],</span> <span class="s">&#39;Paul&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;tom&#39;</span><span class="p">][</span><span class="s">&#39;favourite color&#39;</span><span class="p">],</span> <span class="s">&#39;green&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;tom&#39;</span><span class="p">][</span><span class="s">&#39;favourite band&#39;</span><span class="p">],</span> <span class="s">&#39;green day&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;tom&#39;</span><span class="p">][</span><span class="s">&#39;favourite pope&#39;</span><span class="p">],</span> <span class="s">&#39;John Paul II&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;tom&#39;</span><span class="p">][</span><span class="s">&#39;sequel&#39;</span><span class="p">],</span> <span class="s">&#39;John Paul III&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;ambv&#39;</span><span class="p">][</span><span class="s">&#39;favourite Beatle&#39;</span><span class="p">],</span> <span class="s">&#39;George&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;ambv&#39;</span><span class="p">][</span><span class="s">&#39;favourite color&#39;</span><span class="p">],</span> <span class="s">&#39;green&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;ambv&#39;</span><span class="p">][</span><span class="s">&#39;son of Edward VII&#39;</span><span class="p">],</span> <span class="s">&#39;George V&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;ambv&#39;</span><span class="p">][</span><span class="s">&#39;son of George V&#39;</span><span class="p">],</span> <span class="s">&#39;George VI&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;stanley&#39;</span><span class="p">][</span><span class="s">&#39;favourite Beatle&#39;</span><span class="p">],</span> <span class="s">&#39;George&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;stanley&#39;</span><span class="p">][</span><span class="s">&#39;favourite color&#39;</span><span class="p">],</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;stanley&#39;</span><span class="p">][</span><span class="s">&#39;favourite state of mind&#39;</span><span class="p">],</span> <span class="s">&#39;paranoid&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;stanley&#39;</span><span class="p">][</span><span class="s">&#39;favourite movie&#39;</span><span class="p">],</span> <span class="s">&#39;soylent green&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;stanley&#39;</span><span class="p">][</span><span class="s">&#39;favourite pope&#39;</span><span class="p">],</span> <span class="s">&#39;John Paul II&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;stanley&#39;</span><span class="p">][</span><span class="s">&#39;favourite song&#39;</span><span class="p">],</span>
           <span class="s">&#39;black sabbath - paranoid&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseExtendedInterpolation.test_endless_loop"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseExtendedInterpolation.test_endless_loop">[docs]</a>    <span class="k">def</span> <span class="nf">test_endless_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [one for you]</span>
<span class="s">            ping = ${one for me:pong}</span>

<span class="s">            [one for me]</span>
<span class="s">            pong = ${one for you:ping}</span>

<span class="s">            [selfish]</span>
<span class="s">            me = ${me}</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationDepthError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;one for you&#39;</span><span class="p">][</span><span class="s">&#39;ping&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationDepthError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;selfish&#39;</span><span class="p">][</span><span class="s">&#39;me&#39;</span><span class="p">]</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseExtendedInterpolation.test_strange_options"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseExtendedInterpolation.test_strange_options">[docs]</a>    <span class="k">def</span> <span class="nf">test_strange_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [dollars]</span>
<span class="s">            $var = $$value</span>
<span class="s">            $var2 = ${$var}</span>
<span class="s">            ${sick} = cannot interpolate me</span>

<span class="s">            [interpolated]</span>
<span class="s">            $other = ${dollars:$var}</span>
<span class="s">            $trying = ${dollars:${sick}}</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;dollars&#39;</span><span class="p">][</span><span class="s">&#39;$var&#39;</span><span class="p">],</span> <span class="s">&#39;$value&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;interpolated&#39;</span><span class="p">][</span><span class="s">&#39;$other&#39;</span><span class="p">],</span> <span class="s">&#39;$value&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;dollars&#39;</span><span class="p">][</span><span class="s">&#39;${sick}&#39;</span><span class="p">],</span> <span class="s">&#39;cannot interpolate me&#39;</span><span class="p">)</span>
        <span class="n">exception_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationMissingOptionError</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">exception_class</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;interpolated&#39;</span><span class="p">][</span><span class="s">&#39;$trying&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">reference</span><span class="p">,</span> <span class="s">&#39;dollars:${sick&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s">&#39;}&#39;</span><span class="p">)</span> <span class="c">#rawval</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseExtendedInterpolation.test_case_sensitivity_basic"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseExtendedInterpolation.test_case_sensitivity_basic">[docs]</a>    <span class="k">def</span> <span class="nf">test_case_sensitivity_basic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ini</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [common]</span>
<span class="s">            optionlower = value</span>
<span class="s">            OptionUpper = Value</span>

<span class="s">            [Common]</span>
<span class="s">            optionlower = a better ${common:optionlower}</span>
<span class="s">            OptionUpper = A Better ${common:OptionUpper}</span>

<span class="s">            [random]</span>
<span class="s">            foolower = ${common:optionlower} redefined</span>
<span class="s">            FooUpper = ${Common:OptionUpper} Redefined</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">ini</span><span class="p">)</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;common&#39;</span><span class="p">][</span><span class="s">&#39;optionlower&#39;</span><span class="p">],</span> <span class="s">&#39;value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;common&#39;</span><span class="p">][</span><span class="s">&#39;OptionUpper&#39;</span><span class="p">],</span> <span class="s">&#39;Value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Common&#39;</span><span class="p">][</span><span class="s">&#39;optionlower&#39;</span><span class="p">],</span> <span class="s">&#39;a better value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Common&#39;</span><span class="p">][</span><span class="s">&#39;OptionUpper&#39;</span><span class="p">],</span> <span class="s">&#39;A Better Value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;random&#39;</span><span class="p">][</span><span class="s">&#39;foolower&#39;</span><span class="p">],</span> <span class="s">&#39;value redefined&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;random&#39;</span><span class="p">][</span><span class="s">&#39;FooUpper&#39;</span><span class="p">],</span> <span class="s">&#39;A Better Value Redefined&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseExtendedInterpolation.test_case_sensitivity_conflicts"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseExtendedInterpolation.test_case_sensitivity_conflicts">[docs]</a>    <span class="k">def</span> <span class="nf">test_case_sensitivity_conflicts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ini</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [common]</span>
<span class="s">            option = value</span>
<span class="s">            Option = Value</span>

<span class="s">            [Common]</span>
<span class="s">            option = a better ${common:option}</span>
<span class="s">            Option = A Better ${common:Option}</span>

<span class="s">            [random]</span>
<span class="s">            foo = ${common:option} redefined</span>
<span class="s">            Foo = ${Common:Option} Redefined</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateOptionError</span><span class="p">):</span>
            <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">ini</span><span class="p">)</span>

        <span class="c"># raw options</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">ini</span><span class="p">,</span> <span class="n">optionxform</span><span class="o">=</span><span class="k">lambda</span> <span class="n">opt</span><span class="p">:</span> <span class="n">opt</span><span class="p">)</span>
        <span class="n">eq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;common&#39;</span><span class="p">][</span><span class="s">&#39;option&#39;</span><span class="p">],</span> <span class="s">&#39;value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;common&#39;</span><span class="p">][</span><span class="s">&#39;Option&#39;</span><span class="p">],</span> <span class="s">&#39;Value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Common&#39;</span><span class="p">][</span><span class="s">&#39;option&#39;</span><span class="p">],</span> <span class="s">&#39;a better value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;Common&#39;</span><span class="p">][</span><span class="s">&#39;Option&#39;</span><span class="p">],</span> <span class="s">&#39;A Better Value&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;random&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">],</span> <span class="s">&#39;value redefined&#39;</span><span class="p">)</span>
        <span class="n">eq</span><span class="p">(</span><span class="n">cf</span><span class="p">[</span><span class="s">&#39;random&#39;</span><span class="p">][</span><span class="s">&#39;Foo&#39;</span><span class="p">],</span> <span class="s">&#39;A Better Value Redefined&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseExtendedInterpolation.test_other_errors"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseExtendedInterpolation.test_other_errors">[docs]</a>    <span class="k">def</span> <span class="nf">test_other_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [interpolation fail]</span>
<span class="s">            case1 = ${where&#39;s the brace</span>
<span class="s">            case2 = ${does_not_exist}</span>
<span class="s">            case3 = ${wrong_section:wrong_value}</span>
<span class="s">            case4 = ${i:like:colon:characters}</span>
<span class="s">            case5 = $100 for Fail No 5!</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationSyntaxError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;interpolation fail&#39;</span><span class="p">][</span><span class="s">&#39;case1&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationMissingOptionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;interpolation fail&#39;</span><span class="p">][</span><span class="s">&#39;case2&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationMissingOptionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;interpolation fail&#39;</span><span class="p">][</span><span class="s">&#39;case3&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationSyntaxError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;interpolation fail&#39;</span><span class="p">][</span><span class="s">&#39;case4&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationSyntaxError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;interpolation fail&#39;</span><span class="p">][</span><span class="s">&#39;case5&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">cf</span><span class="p">[</span><span class="s">&#39;interpolation fail&#39;</span><span class="p">][</span><span class="s">&#39;case6&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;BLACK $ABBATH&quot;</span>

</div></div>
<div class="viewcode-block" id="ConfigParserTestCaseNoValue"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseNoValue">[docs]</a><span class="k">class</span> <span class="nc">ConfigParserTestCaseNoValue</span><span class="p">(</span><span class="n">ConfigParserTestCase</span><span class="p">):</span>
    <span class="n">allow_no_value</span> <span class="o">=</span> <span class="bp">True</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseTrickyFile"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseTrickyFile">[docs]</a><span class="k">class</span> <span class="nc">ConfigParserTestCaseTrickyFile</span><span class="p">(</span><span class="n">CfgParserTestCaseClass</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span>
    <span class="n">delimiters</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;=&#39;</span><span class="p">}</span>
    <span class="n">comment_prefixes</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;#&#39;</span><span class="p">}</span>
    <span class="n">allow_no_value</span> <span class="o">=</span> <span class="bp">True</span>

<div class="viewcode-block" id="ConfigParserTestCaseTrickyFile.test_cfgparser_dot_3"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseTrickyFile.test_cfgparser_dot_3">[docs]</a>    <span class="k">def</span> <span class="nf">test_cfgparser_dot_3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tricky</span> <span class="o">=</span> <span class="n">support</span><span class="o">.</span><span class="n">findfile</span><span class="p">(</span><span class="s">&quot;cfgparser.3&quot;</span><span class="p">)</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">tricky</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">)),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">sections</span><span class="p">(),</span> <span class="p">[</span><span class="s">&#39;strange&#39;</span><span class="p">,</span>
                                         <span class="s">&#39;corruption&#39;</span><span class="p">,</span>
                                         <span class="s">&#39;yeah, sections can be &#39;</span>
                                         <span class="s">&#39;indented as well&#39;</span><span class="p">,</span>
                                         <span class="s">&#39;another one!&#39;</span><span class="p">,</span>
                                         <span class="s">&#39;no values here&#39;</span><span class="p">,</span>
                                         <span class="s">&#39;tricky interpolation&#39;</span><span class="p">,</span>
                                         <span class="s">&#39;more interpolation&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">,</span> <span class="s">&#39;go&#39;</span><span class="p">,</span>
                                   <span class="nb">vars</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;interpolate&#39;</span><span class="p">:</span> <span class="s">&#39;-1&#39;</span><span class="p">}),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
            <span class="c"># no interpolation will happen</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">,</span> <span class="s">&#39;go&#39;</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                      <span class="nb">vars</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;interpolate&#39;</span><span class="p">:</span> <span class="s">&#39;-1&#39;</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;strange&#39;</span><span class="p">,</span> <span class="s">&#39;other&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)),</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;corruption&#39;</span><span class="p">,</span> <span class="s">&#39;value&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)),</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">longname</span> <span class="o">=</span> <span class="s">&#39;yeah, sections can be indented as well&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">getboolean</span><span class="p">(</span><span class="n">longname</span><span class="p">,</span> <span class="s">&#39;are they subsections&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">longname</span><span class="p">,</span> <span class="s">&#39;lets use some Unicode&#39;</span><span class="p">),</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="s">&#39;another one!&#39;</span><span class="p">)),</span> <span class="mi">5</span><span class="p">)</span> <span class="c"># 4 in section and</span>
                                                           <span class="c"># `go` from DEFAULT</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationMissingOptionError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="s">&#39;no values here&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;tricky interpolation&#39;</span><span class="p">,</span> <span class="s">&#39;lets&#39;</span><span class="p">),</span> <span class="s">&#39;do this&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;tricky interpolation&#39;</span><span class="p">,</span> <span class="s">&#39;lets&#39;</span><span class="p">),</span>
                         <span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;tricky interpolation&#39;</span><span class="p">,</span> <span class="s">&#39;go&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;more interpolation&#39;</span><span class="p">,</span> <span class="s">&#39;lets&#39;</span><span class="p">),</span> <span class="s">&#39;go shopping&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ConfigParserTestCaseTrickyFile.test_unicode_failure"><a class="viewcode-back" href="../../test.html#test.test_configparser.ConfigParserTestCaseTrickyFile.test_unicode_failure">[docs]</a>    <span class="k">def</span> <span class="nf">test_unicode_failure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tricky</span> <span class="o">=</span> <span class="n">support</span><span class="o">.</span><span class="n">findfile</span><span class="p">(</span><span class="s">&quot;cfgparser.3&quot;</span><span class="p">)</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">UnicodeDecodeError</span><span class="p">):</span>
            <span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">tricky</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="Issue7005TestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.Issue7005TestCase">[docs]</a><span class="k">class</span> <span class="nc">Issue7005TestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Test output when None is set() as a value and allow_no_value == False.</span>

<span class="sd">    http://bugs.python.org/issue7005</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">expected_output</span> <span class="o">=</span> <span class="s">&quot;[section]</span><span class="se">\n</span><span class="s">option = None</span><span class="se">\n\n</span><span class="s">&quot;</span>

<div class="viewcode-block" id="Issue7005TestCase.prepare"><a class="viewcode-back" href="../../test.html#test.test_configparser.Issue7005TestCase.prepare">[docs]</a>    <span class="k">def</span> <span class="nf">prepare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_class</span><span class="p">):</span>
        <span class="c"># This is the default, but that&#39;s the point.</span>
        <span class="n">cp</span> <span class="o">=</span> <span class="n">config_class</span><span class="p">(</span><span class="n">allow_no_value</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="n">cp</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;section&quot;</span><span class="p">)</span>
        <span class="n">cp</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;section&quot;</span><span class="p">,</span> <span class="s">&quot;option&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">sio</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
        <span class="n">cp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">sio</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">sio</span><span class="o">.</span><span class="n">getvalue</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Issue7005TestCase.test_none_as_value_stringified"><a class="viewcode-back" href="../../test.html#test.test_configparser.Issue7005TestCase.test_none_as_value_stringified">[docs]</a>    <span class="k">def</span> <span class="nf">test_none_as_value_stringified</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cp</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">(</span><span class="n">allow_no_value</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="n">cp</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="s">&quot;section&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">cp</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;section&quot;</span><span class="p">,</span> <span class="s">&quot;option&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Issue7005TestCase.test_none_as_value_stringified_raw"><a class="viewcode-back" href="../../test.html#test.test_configparser.Issue7005TestCase.test_none_as_value_stringified_raw">[docs]</a>    <span class="k">def</span> <span class="nf">test_none_as_value_stringified_raw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">RawConfigParser</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected_output</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="SortedTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.SortedTestCase">[docs]</a><span class="k">class</span> <span class="nc">SortedTestCase</span><span class="p">(</span><span class="n">RawConfigParserTestCase</span><span class="p">):</span>
    <span class="n">dict_type</span> <span class="o">=</span> <span class="n">SortedDict</span>

<div class="viewcode-block" id="SortedTestCase.test_sorted"><a class="viewcode-back" href="../../test.html#test.test_configparser.SortedTestCase.test_sorted">[docs]</a>    <span class="k">def</span> <span class="nf">test_sorted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="s">&quot;[b]</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;o4=1</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;o3=2</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;o2=3</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;o1=4</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;[a]</span><span class="se">\n</span><span class="s">&quot;</span>
                             <span class="s">&quot;k=v</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">getvalue</span><span class="p">(),</span>
                         <span class="s">&quot;[a]</span><span class="se">\n</span><span class="s">&quot;</span>
                         <span class="s">&quot;k = v</span><span class="se">\n\n</span><span class="s">&quot;</span>
                         <span class="s">&quot;[b]</span><span class="se">\n</span><span class="s">&quot;</span>
                         <span class="s">&quot;o1 = 4</span><span class="se">\n</span><span class="s">&quot;</span>
                         <span class="s">&quot;o2 = 3</span><span class="se">\n</span><span class="s">&quot;</span>
                         <span class="s">&quot;o3 = 2</span><span class="se">\n</span><span class="s">&quot;</span>
                         <span class="s">&quot;o4 = 1</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="CompatibleTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.CompatibleTestCase">[docs]</a><span class="k">class</span> <span class="nc">CompatibleTestCase</span><span class="p">(</span><span class="n">CfgParserTestCaseClass</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">RawConfigParser</span>
    <span class="n">comment_prefixes</span> <span class="o">=</span> <span class="s">&#39;#;&#39;</span>
    <span class="n">inline_comment_prefixes</span> <span class="o">=</span> <span class="s">&#39;;&#39;</span>

<div class="viewcode-block" id="CompatibleTestCase.test_comment_handling"><a class="viewcode-back" href="../../test.html#test.test_configparser.CompatibleTestCase.test_comment_handling">[docs]</a>    <span class="k">def</span> <span class="nf">test_comment_handling</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">config_string</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s">        [Commented Bar]</span>
<span class="s">        baz=qwe ; a comment</span>
<span class="s">        foo: bar # not a comment!</span>
<span class="s">        # but this is a comment</span>
<span class="s">        ; another comment</span>
<span class="s">        quirk: this;is not a comment</span>
<span class="s">        ; a space must precede an inline comment</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">config_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Commented Bar&#39;</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">),</span>
                         <span class="s">&#39;bar # not a comment!&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Commented Bar&#39;</span><span class="p">,</span> <span class="s">&#39;baz&#39;</span><span class="p">),</span> <span class="s">&#39;qwe&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">cf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;Commented Bar&#39;</span><span class="p">,</span> <span class="s">&#39;quirk&#39;</span><span class="p">),</span>
                         <span class="s">&#39;this;is not a comment&#39;</span><span class="p">)</span>
</div></div>
<div class="viewcode-block" id="CopyTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.CopyTestCase">[docs]</a><span class="k">class</span> <span class="nc">CopyTestCase</span><span class="p">(</span><span class="n">BasicTestCase</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">config_class</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span>

<div class="viewcode-block" id="CopyTestCase.fromstring"><a class="viewcode-back" href="../../test.html#test.test_configparser.CopyTestCase.fromstring">[docs]</a>    <span class="k">def</span> <span class="nf">fromstring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">(</span><span class="n">defaults</span><span class="p">)</span>
        <span class="n">cf</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
        <span class="n">cf_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newconfig</span><span class="p">()</span>
        <span class="n">cf_copy</span><span class="o">.</span><span class="n">read_dict</span><span class="p">(</span><span class="n">cf</span><span class="p">)</span>
        <span class="c"># we have to clean up option duplicates that appeared because of</span>
        <span class="c"># the magic DEFAULTSECT behaviour.</span>
        <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">cf_copy</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">section</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">for</span> <span class="n">default</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">cf</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">default_section</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">section</span><span class="p">[</span><span class="n">default</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
                    <span class="k">del</span> <span class="n">section</span><span class="p">[</span><span class="n">default</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">cf_copy</span>

</div></div>
<div class="viewcode-block" id="FakeFile"><a class="viewcode-back" href="../../test.html#test.test_configparser.FakeFile">[docs]</a><span class="k">class</span> <span class="nc">FakeFile</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">support</span><span class="o">.</span><span class="n">findfile</span><span class="p">(</span><span class="s">&quot;cfgparser.1&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>

<div class="viewcode-block" id="FakeFile.readline"><a class="viewcode-back" href="../../test.html#test.test_configparser.FakeFile.readline">[docs]</a>    <span class="k">def</span> <span class="nf">readline</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">return</span> <span class="s">&#39;&#39;</span>

</div></div>
<div class="viewcode-block" id="readline_generator"><a class="viewcode-back" href="../../test.html#test.test_configparser.readline_generator">[docs]</a><span class="k">def</span> <span class="nf">readline_generator</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;As advised in Doc/library/configparser.rst.&quot;&quot;&quot;</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">line</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">line</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="ReadFileTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.ReadFileTestCase">[docs]</a><span class="k">class</span> <span class="nc">ReadFileTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="ReadFileTestCase.test_file"><a class="viewcode-back" href="../../test.html#test.test_configparser.ReadFileTestCase.test_file">[docs]</a>    <span class="k">def</span> <span class="nf">test_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">file_paths</span> <span class="o">=</span> <span class="p">[</span><span class="n">support</span><span class="o">.</span><span class="n">findfile</span><span class="p">(</span><span class="s">&quot;cfgparser.1&quot;</span><span class="p">)]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">file_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file_paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;utf8&#39;</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">UnicodeEncodeError</span><span class="p">:</span>
            <span class="k">pass</span>   <span class="c"># unfortunately we can&#39;t test bytes on this path</span>
        <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_paths</span><span class="p">:</span>
            <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">,</span> <span class="n">parser</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="n">parser</span><span class="p">[</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parser</span><span class="p">[</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">][</span><span class="s">&quot;foo&quot;</span><span class="p">],</span> <span class="s">&quot;newbar&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ReadFileTestCase.test_iterable"><a class="viewcode-back" href="../../test.html#test.test_configparser.ReadFileTestCase.test_iterable">[docs]</a>    <span class="k">def</span> <span class="nf">test_iterable</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        [Foo Bar]</span>
<span class="s">        foo=newbar&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">,</span> <span class="n">parser</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="n">parser</span><span class="p">[</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parser</span><span class="p">[</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">][</span><span class="s">&quot;foo&quot;</span><span class="p">],</span> <span class="s">&quot;newbar&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ReadFileTestCase.test_readline_generator"><a class="viewcode-back" href="../../test.html#test.test_configparser.ReadFileTestCase.test_readline_generator">[docs]</a>    <span class="k">def</span> <span class="nf">test_readline_generator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Issue #11670.&quot;&quot;&quot;</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">FakeFile</span><span class="p">())</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">readline_generator</span><span class="p">(</span><span class="n">FakeFile</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">,</span> <span class="n">parser</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="n">parser</span><span class="p">[</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parser</span><span class="p">[</span><span class="s">&quot;Foo Bar&quot;</span><span class="p">][</span><span class="s">&quot;foo&quot;</span><span class="p">],</span> <span class="s">&quot;newbar&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ReadFileTestCase.test_source_as_bytes"><a class="viewcode-back" href="../../test.html#test.test_configparser.ReadFileTestCase.test_source_as_bytes">[docs]</a>    <span class="k">def</span> <span class="nf">test_source_as_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Issue #18260.&quot;&quot;&quot;</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        [badbad]</span>
<span class="s">        [badbad]&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateSectionError</span><span class="p">)</span> <span class="k">as</span> <span class="n">dse</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">b</span><span class="s">&quot;badbad&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">dse</span><span class="o">.</span><span class="n">exception</span><span class="p">),</span>
            <span class="s">&quot;While reading from b&#39;badbad&#39; [line  2]: section &#39;badbad&#39; &quot;</span>
            <span class="s">&quot;already exists&quot;</span>
        <span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        [badbad]</span>
<span class="s">        bad = bad</span>
<span class="s">        bad = bad&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateOptionError</span><span class="p">)</span> <span class="k">as</span> <span class="n">dse</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">b</span><span class="s">&quot;badbad&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">dse</span><span class="o">.</span><span class="n">exception</span><span class="p">),</span>
            <span class="s">&quot;While reading from b&#39;badbad&#39; [line  3]: option &#39;bad&#39; in section &quot;</span>
            <span class="s">&quot;&#39;badbad&#39; already exists&quot;</span>
        <span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        [badbad]</span>
<span class="s">        = bad&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span><span class="p">)</span> <span class="k">as</span> <span class="n">dse</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">b</span><span class="s">&quot;badbad&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">dse</span><span class="o">.</span><span class="n">exception</span><span class="p">),</span>
            <span class="s">&quot;Source contains parsing errors: b&#39;badbad&#39;</span><span class="se">\n\t</span><span class="s">[line  2]: &#39;= bad&#39;&quot;</span>
        <span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        [badbad</span>
<span class="s">        bad = bad&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">MissingSectionHeaderError</span><span class="p">)</span> <span class="k">as</span> <span class="n">dse</span><span class="p">:</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">b</span><span class="s">&quot;badbad&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">dse</span><span class="o">.</span><span class="n">exception</span><span class="p">),</span>
            <span class="s">&quot;File contains no section headers.</span><span class="se">\n</span><span class="s">file: b&#39;badbad&#39;, line: 1</span><span class="se">\n</span><span class="s">&quot;</span>
            <span class="s">&quot;&#39;[badbad&#39;&quot;</span>
        <span class="p">)</span>

</div></div>
<div class="viewcode-block" id="CoverageOneHundredTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.CoverageOneHundredTestCase">[docs]</a><span class="k">class</span> <span class="nc">CoverageOneHundredTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Covers edge cases in the codebase.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="CoverageOneHundredTestCase.test_duplicate_option_error"><a class="viewcode-back" href="../../test.html#test.test_configparser.CoverageOneHundredTestCase.test_duplicate_option_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_duplicate_option_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateOptionError</span><span class="p">(</span><span class="s">&#39;section&#39;</span><span class="p">,</span> <span class="s">&#39;option&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="s">&#39;section&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">option</span><span class="p">,</span> <span class="s">&#39;option&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;section&#39;</span><span class="p">,</span> <span class="s">&#39;option&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">),</span> <span class="s">&quot;Option &#39;option&#39; in section &#39;section&#39; &quot;</span>
                                     <span class="s">&quot;already exists&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CoverageOneHundredTestCase.test_interpolation_depth_error"><a class="viewcode-back" href="../../test.html#test.test_configparser.CoverageOneHundredTestCase.test_interpolation_depth_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_interpolation_depth_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationDepthError</span><span class="p">(</span><span class="s">&#39;option&#39;</span><span class="p">,</span> <span class="s">&#39;section&#39;</span><span class="p">,</span>
                                                     <span class="s">&#39;rawval&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;option&#39;</span><span class="p">,</span> <span class="s">&#39;section&#39;</span><span class="p">,</span> <span class="s">&#39;rawval&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">option</span><span class="p">,</span> <span class="s">&#39;option&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="s">&#39;section&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CoverageOneHundredTestCase.test_parsing_error"><a class="viewcode-back" href="../../test.html#test.test_configparser.CoverageOneHundredTestCase.test_parsing_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_parsing_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="p">),</span> <span class="s">&quot;Required argument `source&#39; not &quot;</span>
                                            <span class="s">&quot;given.&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s">&#39;source&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">&#39;filename&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="p">),</span> <span class="s">&quot;Cannot specify both `filename&#39; &quot;</span>
                                            <span class="s">&quot;and `source&#39;. Use `source&#39;.&quot;</span><span class="p">)</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;source&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="s">&#39;source&#39;</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">w</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s">&quot;always&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">filename</span><span class="p">,</span> <span class="s">&#39;source&#39;</span><span class="p">)</span>
            <span class="n">error</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;filename&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="s">&#39;filename&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">warning</span> <span class="ow">in</span> <span class="n">w</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">warning</span><span class="o">.</span><span class="n">category</span> <span class="ow">is</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CoverageOneHundredTestCase.test_interpolation_validation"><a class="viewcode-back" href="../../test.html#test.test_configparser.CoverageOneHundredTestCase.test_interpolation_validation">[docs]</a>    <span class="k">def</span> <span class="nf">test_interpolation_validation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [section]</span>
<span class="s">            invalid_percent = %</span>
<span class="s">            invalid_reference = %(()</span>
<span class="s">            invalid_variable = </span><span class="si">%(does_not_exist)s</span><span class="s"></span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationSyntaxError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">parser</span><span class="p">[</span><span class="s">&#39;section&#39;</span><span class="p">][</span><span class="s">&#39;invalid_percent&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="p">),</span> <span class="s">&quot;&#39;%&#39; must be followed by &#39;%&#39; or &quot;</span>
                                            <span class="s">&quot;&#39;(&#39;, found: &#39;%&#39;&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationSyntaxError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">parser</span><span class="p">[</span><span class="s">&#39;section&#39;</span><span class="p">][</span><span class="s">&#39;invalid_reference&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="p">),</span> <span class="s">&quot;bad interpolation variable &quot;</span>
                                            <span class="s">&quot;reference &#39;%(()&#39;&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CoverageOneHundredTestCase.test_readfp_deprecation"><a class="viewcode-back" href="../../test.html#test.test_configparser.CoverageOneHundredTestCase.test_readfp_deprecation">[docs]</a>    <span class="k">def</span> <span class="nf">test_readfp_deprecation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sio</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        [section]</span>
<span class="s">        option = value</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">w</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s">&quot;always&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
            <span class="n">parser</span><span class="o">.</span><span class="n">readfp</span><span class="p">(</span><span class="n">sio</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">&#39;StringIO&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">warning</span> <span class="ow">in</span> <span class="n">w</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">warning</span><span class="o">.</span><span class="n">category</span> <span class="ow">is</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parser</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">parser</span><span class="p">[</span><span class="s">&#39;section&#39;</span><span class="p">][</span><span class="s">&#39;option&#39;</span><span class="p">],</span> <span class="s">&#39;value&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CoverageOneHundredTestCase.test_safeconfigparser_deprecation"><a class="viewcode-back" href="../../test.html#test.test_configparser.CoverageOneHundredTestCase.test_safeconfigparser_deprecation">[docs]</a>    <span class="k">def</span> <span class="nf">test_safeconfigparser_deprecation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">w</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s">&quot;always&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
            <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">SafeConfigParser</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">warning</span> <span class="ow">in</span> <span class="n">w</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">warning</span><span class="o">.</span><span class="n">category</span> <span class="ow">is</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CoverageOneHundredTestCase.test_sectionproxy_repr"><a class="viewcode-back" href="../../test.html#test.test_configparser.CoverageOneHundredTestCase.test_sectionproxy_repr">[docs]</a>    <span class="k">def</span> <span class="nf">test_sectionproxy_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">()</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            [section]</span>
<span class="s">            key = value</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">parser</span><span class="p">[</span><span class="s">&#39;section&#39;</span><span class="p">]),</span> <span class="s">&#39;&lt;Section: section&gt;&#39;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="ExceptionPicklingTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase">[docs]</a><span class="k">class</span> <span class="nc">ExceptionPicklingTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tests for issue #13760: ConfigParser exceptions are not picklable.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="ExceptionPicklingTestCase.test_error"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span><span class="s">&#39;value&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_nosectionerror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_nosectionerror">[docs]</a>    <span class="k">def</span> <span class="nf">test_nosectionerror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">NoSectionError</span><span class="p">(</span><span class="s">&#39;section&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">section</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_nooptionerror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_nooptionerror">[docs]</a>    <span class="k">def</span> <span class="nf">test_nooptionerror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">NoOptionError</span><span class="p">(</span><span class="s">&#39;option&#39;</span><span class="p">,</span> <span class="s">&#39;section&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">section</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">option</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">option</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_duplicatesectionerror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_duplicatesectionerror">[docs]</a>    <span class="k">def</span> <span class="nf">test_duplicatesectionerror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateSectionError</span><span class="p">(</span><span class="s">&#39;section&#39;</span><span class="p">,</span> <span class="s">&#39;source&#39;</span><span class="p">,</span> <span class="mi">123</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">section</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">lineno</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_duplicateoptionerror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_duplicateoptionerror">[docs]</a>    <span class="k">def</span> <span class="nf">test_duplicateoptionerror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">DuplicateOptionError</span><span class="p">(</span><span class="s">&#39;section&#39;</span><span class="p">,</span> <span class="s">&#39;option&#39;</span><span class="p">,</span> <span class="s">&#39;source&#39;</span><span class="p">,</span>
            <span class="mi">123</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">section</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">option</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">option</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">lineno</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_interpolationerror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_interpolationerror">[docs]</a>    <span class="k">def</span> <span class="nf">test_interpolationerror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationError</span><span class="p">(</span><span class="s">&#39;option&#39;</span><span class="p">,</span> <span class="s">&#39;section&#39;</span><span class="p">,</span> <span class="s">&#39;msg&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">section</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">option</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">option</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_interpolationmissingoptionerror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_interpolationmissingoptionerror">[docs]</a>    <span class="k">def</span> <span class="nf">test_interpolationmissingoptionerror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationMissingOptionError</span><span class="p">(</span><span class="s">&#39;option&#39;</span><span class="p">,</span> <span class="s">&#39;section&#39;</span><span class="p">,</span>
            <span class="s">&#39;rawval&#39;</span><span class="p">,</span> <span class="s">&#39;reference&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">section</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">option</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">option</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">reference</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">reference</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_interpolationsyntaxerror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_interpolationsyntaxerror">[docs]</a>    <span class="k">def</span> <span class="nf">test_interpolationsyntaxerror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationSyntaxError</span><span class="p">(</span><span class="s">&#39;option&#39;</span><span class="p">,</span> <span class="s">&#39;section&#39;</span><span class="p">,</span> <span class="s">&#39;msg&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">section</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">option</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">option</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_interpolationdeptherror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_interpolationdeptherror">[docs]</a>    <span class="k">def</span> <span class="nf">test_interpolationdeptherror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">InterpolationDepthError</span><span class="p">(</span><span class="s">&#39;option&#39;</span><span class="p">,</span> <span class="s">&#39;section&#39;</span><span class="p">,</span>
            <span class="s">&#39;rawval&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">section</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">option</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">option</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_parsingerror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_parsingerror">[docs]</a>    <span class="k">def</span> <span class="nf">test_parsingerror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span><span class="p">(</span><span class="s">&#39;source&#39;</span><span class="p">)</span>
        <span class="n">e1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;line1&#39;</span><span class="p">)</span>
        <span class="n">e1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;line2&#39;</span><span class="p">)</span>
        <span class="n">e1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;line3&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ParsingError</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;filename&#39;</span><span class="p">)</span>
        <span class="n">e1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;line1&#39;</span><span class="p">)</span>
        <span class="n">e1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;line2&#39;</span><span class="p">)</span>
        <span class="n">e1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;line3&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ExceptionPicklingTestCase.test_missingsectionheadererror"><a class="viewcode-back" href="../../test.html#test.test_configparser.ExceptionPicklingTestCase.test_missingsectionheadererror">[docs]</a>    <span class="k">def</span> <span class="nf">test_missingsectionheadererror</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">pickle</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">MissingSectionHeaderError</span><span class="p">(</span><span class="s">&#39;filename&#39;</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="s">&#39;line&#39;</span><span class="p">)</span>
        <span class="n">pickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e1</span><span class="p">)</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">message</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">e1</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span> <span class="n">e2</span><span class="o">.</span><span class="n">lineno</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">e1</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e2</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="InlineCommentStrippingTestCase"><a class="viewcode-back" href="../../test.html#test.test_configparser.InlineCommentStrippingTestCase">[docs]</a><span class="k">class</span> <span class="nc">InlineCommentStrippingTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tests for issue #14590: ConfigParser doesn&#39;t strip inline comment when</span>
<span class="sd">    delimiter occurs earlier without preceding space..&quot;&quot;&quot;</span>

<div class="viewcode-block" id="InlineCommentStrippingTestCase.test_stripping"><a class="viewcode-back" href="../../test.html#test.test_configparser.InlineCommentStrippingTestCase.test_stripping">[docs]</a>    <span class="k">def</span> <span class="nf">test_stripping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cfg</span> <span class="o">=</span> <span class="n">configparser</span><span class="o">.</span><span class="n">ConfigParser</span><span class="p">(</span><span class="n">inline_comment_prefixes</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;;&#39;</span><span class="p">,</span> <span class="s">&#39;#&#39;</span><span class="p">,</span>
                <span class="s">&#39;//&#39;</span><span class="p">))</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">read_string</span><span class="p">(</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        [section]</span>
<span class="s">        k1 = v1;still v1</span>
<span class="s">        k2 = v2 ;a comment</span>
<span class="s">        k3 = v3 ; also a comment</span>
<span class="s">        k4 = v4;still v4 ;a comment</span>
<span class="s">        k5 = v5;still v5 ; also a comment</span>
<span class="s">        k6 = v6;still v6; and still v6 ;a comment</span>
<span class="s">        k7 = v7;still v7; and still v7 ; also a comment</span>

<span class="s">        [multiprefix]</span>
<span class="s">        k1 = v1;still v1 #a comment ; yeah, pretty much</span>
<span class="s">        k2 = v2 // this already is a comment ; continued</span>
<span class="s">        k3 = v3;#//still v3# and still v3 ; a comment</span>
<span class="s">        &quot;&quot;&quot;</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="s">&#39;section&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k1&#39;</span><span class="p">],</span> <span class="s">&#39;v1;still v1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k2&#39;</span><span class="p">],</span> <span class="s">&#39;v2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k3&#39;</span><span class="p">],</span> <span class="s">&#39;v3&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k4&#39;</span><span class="p">],</span> <span class="s">&#39;v4;still v4&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k5&#39;</span><span class="p">],</span> <span class="s">&#39;v5;still v5&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k6&#39;</span><span class="p">],</span> <span class="s">&#39;v6;still v6; and still v6&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k7&#39;</span><span class="p">],</span> <span class="s">&#39;v7;still v7; and still v7&#39;</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="s">&#39;multiprefix&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k1&#39;</span><span class="p">],</span> <span class="s">&#39;v1;still v1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k2&#39;</span><span class="p">],</span> <span class="s">&#39;v2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;k3&#39;</span><span class="p">],</span> <span class="s">&#39;v3;#//still v3# and still v3&#39;</span><span class="p">)</span>

</div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>