

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.string_tests &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.string_tests</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.string_tests</h1><div class="highlight"><pre>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Common tests shared by test_str, test_unicode, test_userstring and test_string.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">string</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">struct</span>
<span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="n">support</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">UserList</span>

<div class="viewcode-block" id="Sequence"><a class="viewcode-back" href="../../test.html#test.string_tests.Sequence">[docs]</a><span class="k">class</span> <span class="nc">Sequence</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seq</span><span class="o">=</span><span class="s">&#39;wxyz&#39;</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="o">=</span> <span class="n">seq</span>
    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</div>
<div class="viewcode-block" id="BadSeq1"><a class="viewcode-back" href="../../test.html#test.string_tests.BadSeq1">[docs]</a><span class="k">class</span> <span class="nc">BadSeq1</span><span class="p">(</span><span class="n">Sequence</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">123</span><span class="p">]</span>
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="s">&#39;{0} {1} {2}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">seq</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BadSeq2"><a class="viewcode-back" href="../../test.html#test.string_tests.BadSeq2">[docs]</a><span class="k">class</span> <span class="nc">BadSeq2</span><span class="p">(</span><span class="n">Sequence</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">seq</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="mi">8</span>
</div>
<div class="viewcode-block" id="BaseTest"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest">[docs]</a><span class="k">class</span> <span class="nc">BaseTest</span><span class="p">:</span>
    <span class="c"># These tests are for buffers of values (bytes) and not</span>
    <span class="c"># specific to character interpretation, used for bytes objects</span>
    <span class="c"># and various string implementations</span>

    <span class="c"># The type to be tested</span>
    <span class="c"># Change in subclasses to change the behaviour of fixtesttype()</span>
    <span class="n">type2test</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="c"># Whether the &quot;contained items&quot; of the container are integers in</span>
    <span class="c"># range(0, 256) (i.e. bytes, bytearray) or strings of length 1</span>
    <span class="c"># (str)</span>
    <span class="n">contains_bytes</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="c"># All tests pass their arguments to the testing methods</span>
    <span class="c"># as str objects. fixtesttype() can be used to propagate</span>
    <span class="c"># these arguments to the appropriate type</span>
<div class="viewcode-block" id="BaseTest.fixtype"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.fixtype">[docs]</a>    <span class="k">def</span> <span class="nf">fixtype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">([</span>
               <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
               <span class="k">for</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">obj</span>

    <span class="c"># check that obj.method(*args) returns result</span></div>
<div class="viewcode-block" id="BaseTest.checkequal"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.checkequal">[docs]</a>    <span class="k">def</span> <span class="nf">checkequal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">methodname</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="n">realresult</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">methodname</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">result</span><span class="p">,</span>
            <span class="n">realresult</span>
        <span class="p">)</span>
        <span class="c"># if the original is returned make sure that</span>
        <span class="c"># this doesn&#39;t happen with subclasses</span>
        <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="n">realresult</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">class</span> <span class="nc">subtype</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">type2test</span><span class="p">):</span>
                    <span class="k">pass</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="k">pass</span>  <span class="c"># Skip this if we can&#39;t subclass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">obj</span> <span class="o">=</span> <span class="n">subtype</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
                <span class="n">realresult</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">methodname</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNot</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">realresult</span><span class="p">)</span>

    <span class="c"># check that obj.method(*args) raises exc</span></div>
<div class="viewcode-block" id="BaseTest.checkraises"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.checkraises">[docs]</a>    <span class="k">def</span> <span class="nf">checkraises</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">methodname</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span>
            <span class="n">exc</span><span class="p">,</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">methodname</span><span class="p">),</span>
            <span class="o">*</span><span class="n">args</span>
        <span class="p">)</span>

    <span class="c"># call obj.method(*args) without any checks</span></div>
<div class="viewcode-block" id="BaseTest.checkcall"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.checkcall">[docs]</a>    <span class="k">def</span> <span class="nf">checkcall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">methodname</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">methodname</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_count"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_count">[docs]</a>    <span class="k">def</span> <span class="nf">test_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;xx&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;xx&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;xx&#39;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contains_bytes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

        <span class="c"># For a variety of combinations,</span>
        <span class="c">#    verify that str.count() matches an equivalent function</span>
        <span class="c">#    replacing all occurrences and then differencing the string lengths</span>
        <span class="n">charset</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]</span>
        <span class="n">digits</span> <span class="o">=</span> <span class="mi">7</span>
        <span class="n">base</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">charset</span><span class="p">)</span>
        <span class="n">teststrings</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">base</span> <span class="o">**</span> <span class="n">digits</span><span class="p">):</span>
            <span class="n">entry</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">digits</span><span class="p">):</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">base</span><span class="p">)</span>
                <span class="n">entry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">charset</span><span class="p">[</span><span class="n">m</span><span class="p">])</span>
            <span class="n">teststrings</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">))</span>
        <span class="n">teststrings</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span> <span class="k">for</span> <span class="n">ts</span> <span class="ow">in</span> <span class="n">teststrings</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">teststrings</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">teststrings</span><span class="p">:</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span><span class="p">:</span>
                    <span class="n">r2</span><span class="p">,</span> <span class="n">rem</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">))),</span>
                                     <span class="nb">len</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">r2</span><span class="p">,</span> <span class="n">rem</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="n">rem</span> <span class="ow">or</span> <span class="n">r1</span> <span class="o">!=</span> <span class="n">r2</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">rem</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> != 0 for </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rem</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> != </span><span class="si">%s</span><span class="s"> for </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseTest.test_find"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_find">[docs]</a>    <span class="k">def</span> <span class="nf">test_find</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="c"># to check the ability to pass None as defaults</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contains_bytes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;xx&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;xx&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;xx&#39;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c"># issue 7458</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c"># For a variety of combinations,</span>
        <span class="c">#    verify that str.find() matches __contains__</span>
        <span class="c">#    and that the found substring is really at that location</span>
        <span class="n">charset</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
        <span class="n">digits</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="n">base</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">charset</span><span class="p">)</span>
        <span class="n">teststrings</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">base</span> <span class="o">**</span> <span class="n">digits</span><span class="p">):</span>
            <span class="n">entry</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">digits</span><span class="p">):</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">base</span><span class="p">)</span>
                <span class="n">entry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">charset</span><span class="p">[</span><span class="n">m</span><span class="p">])</span>
            <span class="n">teststrings</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">))</span>
        <span class="n">teststrings</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span> <span class="k">for</span> <span class="n">ts</span> <span class="ow">in</span> <span class="n">teststrings</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">teststrings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">teststrings</span><span class="p">:</span>
                <span class="n">loc</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="p">(</span><span class="n">loc</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">loc</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="n">loc</span><span class="p">:</span><span class="n">loc</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">j</span><span class="p">)],</span> <span class="n">j</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_rfind"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_rfind">[docs]</a>    <span class="k">def</span> <span class="nf">test_rfind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span>  <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;abcd&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;abcz&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="c"># to check the ability to pass None as defaults</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contains_bytes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

        <span class="c"># For a variety of combinations,</span>
        <span class="c">#    verify that str.rfind() matches __contains__</span>
        <span class="c">#    and that the found substring is really at that location</span>
        <span class="n">charset</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
        <span class="n">digits</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="n">base</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">charset</span><span class="p">)</span>
        <span class="n">teststrings</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">base</span> <span class="o">**</span> <span class="n">digits</span><span class="p">):</span>
            <span class="n">entry</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">digits</span><span class="p">):</span>
                <span class="n">i</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">base</span><span class="p">)</span>
                <span class="n">entry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">charset</span><span class="p">[</span><span class="n">m</span><span class="p">])</span>
            <span class="n">teststrings</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entry</span><span class="p">))</span>
        <span class="n">teststrings</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span> <span class="k">for</span> <span class="n">ts</span> <span class="ow">in</span> <span class="n">teststrings</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">teststrings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">teststrings</span><span class="p">:</span>
                <span class="n">loc</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
                <span class="n">r1</span> <span class="o">=</span> <span class="p">(</span><span class="n">loc</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">r2</span> <span class="o">=</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">loc</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="n">loc</span><span class="p">:</span><span class="n">loc</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">j</span><span class="p">)],</span> <span class="n">j</span><span class="p">)</span>

        <span class="c"># issue 7458</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c"># issue #15534</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&lt;......</span><span class="se">\u043c</span><span class="s">...&#39;</span><span class="p">,</span> <span class="s">&quot;rfind&quot;</span><span class="p">,</span> <span class="s">&quot;&lt;&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_index"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_index">[docs]</a>    <span class="k">def</span> <span class="nf">test_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;hib&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;abcdefghiab&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;abcdefghi&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;abcdefghi&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="c"># to check the ability to pass None as defaults</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contains_bytes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_rindex"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_rindex">[docs]</a>    <span class="k">def</span> <span class="nf">test_rindex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span>  <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span>  <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span>  <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;abcdefghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;hib&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;defghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;defghiabc&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;abcdefghi&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;abcdefghi&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="c"># to check the ability to pass None as defaults</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;rrarrrrrrrrra&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contains_bytes</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_lower"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_lower">[docs]</a>    <span class="k">def</span> <span class="nf">test_lower</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;HeLLo&#39;</span><span class="p">,</span> <span class="s">&#39;lower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;lower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;lower&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_upper"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_upper">[docs]</a>    <span class="k">def</span> <span class="nf">test_upper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;HELLO&#39;</span><span class="p">,</span> <span class="s">&#39;HeLLo&#39;</span><span class="p">,</span> <span class="s">&#39;upper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;HELLO&#39;</span><span class="p">,</span> <span class="s">&#39;HELLO&#39;</span><span class="p">,</span> <span class="s">&#39;upper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;upper&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_expandtabs"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_expandtabs">[docs]</a>    <span class="k">def</span> <span class="nf">test_expandtabs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab      def</span><span class="se">\n</span><span class="s">g       hi&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab</span><span class="se">\t</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\t</span><span class="s">hi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;expandtabs&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab      def</span><span class="se">\n</span><span class="s">g       hi&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab</span><span class="se">\t</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\t</span><span class="s">hi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab  def</span><span class="se">\n</span><span class="s">g   hi&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab</span><span class="se">\t</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\t</span><span class="s">hi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc</span><span class="se">\r\n</span><span class="s">ab      def</span><span class="se">\n</span><span class="s">g       hi&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\r\n</span><span class="s">ab</span><span class="se">\t</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\t</span><span class="s">hi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;expandtabs&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc</span><span class="se">\r\n</span><span class="s">ab      def</span><span class="se">\n</span><span class="s">g       hi&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\r\n</span><span class="s">ab</span><span class="se">\t</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\t</span><span class="s">hi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc</span><span class="se">\r\n</span><span class="s">ab  def</span><span class="se">\n</span><span class="s">g   hi&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\r\n</span><span class="s">ab</span><span class="se">\t</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\t</span><span class="s">hi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc</span><span class="se">\r\n</span><span class="s">ab</span><span class="se">\r\n</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\r\n</span><span class="s">hi&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\r\n</span><span class="s">ab</span><span class="se">\r\n</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\r\n</span><span class="s">hi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="c"># check keyword args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab      def</span><span class="se">\n</span><span class="s">g       hi&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab</span><span class="se">\t</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\t</span><span class="s">hi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="n">tabsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab  def</span><span class="se">\n</span><span class="s">g   hi&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\r</span><span class="s">ab</span><span class="se">\t</span><span class="s">def</span><span class="se">\n</span><span class="s">g</span><span class="se">\t</span><span class="s">hi&#39;</span><span class="p">,</span>
                        <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="n">tabsize</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;  a</span><span class="se">\n</span><span class="s"> b&#39;</span><span class="p">,</span> <span class="s">&#39; </span><span class="se">\t</span><span class="s">a</span><span class="se">\n\t</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="c"># This test is only valid when sizeof(int) == sizeof(void*) == 4.</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">32</span><span class="p">)</span> <span class="ow">and</span> <span class="n">struct</span><span class="o">.</span><span class="n">calcsize</span><span class="p">(</span><span class="s">&#39;P&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span>
                             <span class="s">&#39;</span><span class="se">\t</span><span class="s">a</span><span class="se">\n\t</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_split"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_split">[docs]</a>    <span class="k">def</span> <span class="nf">test_split</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># by a char</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a|b|c|d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b|c|d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c|d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a|b|c|d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;b||c||d&#39;</span><span class="p">],</span> <span class="s">&#39;a||b||c||d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;endcase &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;endcase |&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39; startcase&#39;</span><span class="p">],</span> <span class="s">&#39;| startcase&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;bothcase&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;|bothcase|&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;b</span><span class="se">\x00</span><span class="s">c</span><span class="se">\x00</span><span class="s">d&#39;</span><span class="p">],</span> <span class="s">&#39;a</span><span class="se">\x00\x00</span><span class="s">b</span><span class="se">\x00</span><span class="s">c</span><span class="se">\x00</span><span class="s">d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;a|&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">15</span> <span class="o">+</span><span class="p">[</span><span class="s">&#39;a|a|a|a|a&#39;</span><span class="p">],</span>
                                   <span class="p">(</span><span class="s">&#39;a|&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>

        <span class="c"># by string</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b//c//d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c//d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a//b//c//d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;b////c////d&#39;</span><span class="p">],</span> <span class="s">&#39;a////b////c////d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;endcase &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;endcase test&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;test&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39; begincase&#39;</span><span class="p">],</span> <span class="s">&#39;test begincase&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;test&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39; bothcase &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;test bothcase test&#39;</span><span class="p">,</span>
                        <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;test&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;bc&#39;</span><span class="p">],</span> <span class="s">&#39;abbbc&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;bb&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;aaa&#39;</span><span class="p">],</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">],</span> <span class="s">&#39;abbaab&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;ba&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;aaaa&#39;</span><span class="p">],</span> <span class="s">&#39;aaaa&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;aab&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;aa&#39;</span><span class="p">],</span> <span class="s">&#39;aa&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;bobb&#39;</span><span class="p">],</span> <span class="s">&#39;Abbobbbobb&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;bbobb&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;AbbobbBbbobb&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;bbobb&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;aBLAH&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;BLAH&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;aBLAH&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;BLAH&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">18</span> <span class="o">+</span> <span class="p">[</span><span class="s">&#39;aBLAHa&#39;</span><span class="p">],</span> <span class="p">(</span><span class="s">&#39;aBLAH&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span>
                        <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;BLAH&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>

        <span class="c"># with keyword args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b|c|d&#39;</span><span class="p">],</span>
                        <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b|c|d&#39;</span><span class="p">],</span>
                        <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b|c|d&#39;</span><span class="p">],</span>
                        <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b c d&#39;</span><span class="p">],</span>
                        <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c"># argument type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

        <span class="c"># null case</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_rsplit"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_rsplit">[docs]</a>    <span class="k">def</span> <span class="nf">test_rsplit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># by a char</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a|b|c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a|b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a|b|c|d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a||b||c&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a||b||c||d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39; begincase&#39;</span><span class="p">],</span> <span class="s">&#39;| begincase&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;endcase &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;endcase |&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;bothcase&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;|bothcase|&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a</span><span class="se">\x00\x00</span><span class="s">b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a</span><span class="se">\x00\x00</span><span class="s">b</span><span class="se">\x00</span><span class="s">c</span><span class="se">\x00</span><span class="s">d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;a|&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a|a|a|a|a&#39;</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">15</span><span class="p">,</span>
                        <span class="p">(</span><span class="s">&#39;a|&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>

        <span class="c"># by string</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a//b//c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a//b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a//b//c//d&#39;</span><span class="p">],</span> <span class="s">&#39;a//b//c//d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a////b////c&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a////b////c////d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;//&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39; begincase&#39;</span><span class="p">],</span> <span class="s">&#39;test begincase&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;test&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;endcase &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;endcase test&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;test&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39; bothcase &#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;test bothcase test&#39;</span><span class="p">,</span>
                        <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;test&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span> <span class="s">&#39;abbbc&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;bb&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;aaa&#39;</span><span class="p">],</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">],</span> <span class="s">&#39;abbaab&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;ba&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;aaaa&#39;</span><span class="p">],</span> <span class="s">&#39;aaaa&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;aab&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;aa&#39;</span><span class="p">],</span> <span class="s">&#39;aa&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;aaa&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;bbob&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">],</span> <span class="s">&#39;bbobbbobbA&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;bbobb&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">],</span> <span class="s">&#39;bbobbBbbobbA&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;bbobb&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;aBLAH&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;BLAH&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;aBLAH&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;BLAH&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;aBLAHa&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">18</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;aBLAH&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span>
                        <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;BLAH&#39;</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>

        <span class="c"># with keyword args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a|b|c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span>
                        <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a|b|c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span>
                        <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a|b|c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span>
                        <span class="s">&#39;a|b|c|d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;|&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a b c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span>
                        <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="c"># argument type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

        <span class="c"># null case</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseTest.test_replace"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_replace">[docs]</a>    <span class="k">def</span> <span class="nf">test_replace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">EQ</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span>

        <span class="c"># Operations on the empty string</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>

        <span class="c"># interleave (from==&quot;&quot;, &#39;to&#39; gets inserted everywhere)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*A*&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*1A*1&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*1&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*-#A*-#&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*-#&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*-A*-A*-&quot;</span><span class="p">,</span> <span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*-&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*-A*-A*-&quot;</span><span class="p">,</span> <span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*-&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*-A*-A*-&quot;</span><span class="p">,</span> <span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*-&quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*-A*-A*-&quot;</span><span class="p">,</span> <span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*-&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*-A*-A*-&quot;</span><span class="p">,</span> <span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*-&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*-A*-A&quot;</span><span class="p">,</span> <span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*-&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*-AA&quot;</span><span class="p">,</span> <span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*-&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;*-&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c"># single character deletion (from==&quot;A&quot;, to==&quot;&quot;)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;AAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;AAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;AAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;AAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;AAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;AAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="s">&quot;AAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;AAA&quot;</span><span class="p">,</span> <span class="s">&quot;AAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;AAAAAAAAAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCD&quot;</span><span class="p">,</span> <span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCD&quot;</span><span class="p">,</span> <span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCD&quot;</span><span class="p">,</span> <span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCD&quot;</span><span class="p">,</span> <span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCD&quot;</span><span class="p">,</span> <span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCDA&quot;</span><span class="p">,</span> <span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCADA&quot;</span><span class="p">,</span> <span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BACADA&quot;</span><span class="p">,</span> <span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;ABACADA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCD&quot;</span><span class="p">,</span> <span class="s">&quot;ABCAD&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCD&quot;</span><span class="p">,</span> <span class="s">&quot;ABCADAA&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BCD&quot;</span><span class="p">,</span> <span class="s">&quot;BCD&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;*************&quot;</span><span class="p">,</span> <span class="s">&quot;*************&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;^A^&quot;</span><span class="p">,</span> <span class="s">&quot;^&quot;</span><span class="o">+</span><span class="s">&quot;A&quot;</span><span class="o">*</span><span class="mi">1000</span><span class="o">+</span><span class="s">&quot;^&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">999</span><span class="p">)</span>

        <span class="c"># substring deletion (from==&quot;the&quot;, to==&quot;&quot;)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ater&quot;</span><span class="p">,</span> <span class="s">&quot;theater&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;thethe&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;thethethethe&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;aaaa&quot;</span><span class="p">,</span> <span class="s">&quot;theatheatheathea&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;that&quot;</span><span class="p">,</span> <span class="s">&quot;that&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;thaet&quot;</span><span class="p">,</span> <span class="s">&quot;thaet&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;here and re&quot;</span><span class="p">,</span> <span class="s">&quot;here and there&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;here and re and re&quot;</span><span class="p">,</span> <span class="s">&quot;here and there and there&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;here and re and re&quot;</span><span class="p">,</span> <span class="s">&quot;here and there and there&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;here and re and re&quot;</span><span class="p">,</span> <span class="s">&quot;here and there and there&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;here and re and re&quot;</span><span class="p">,</span> <span class="s">&quot;here and there and there&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;here and re and there&quot;</span><span class="p">,</span> <span class="s">&quot;here and there and there&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;here and there and there&quot;</span><span class="p">,</span> <span class="s">&quot;here and there and there&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;here and re and re&quot;</span><span class="p">,</span> <span class="s">&quot;here and there and there&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>

        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;abcdefg&quot;</span><span class="p">,</span> <span class="s">&quot;abcdefg&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>

        <span class="c"># substring deletion (from==&quot;bob&quot;, to==&quot;&quot;)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;bbobob&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;bobXbob&quot;</span><span class="p">,</span> <span class="s">&quot;bbobobXbbobob&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;aaaaaaa&quot;</span><span class="p">,</span> <span class="s">&quot;aaaaaaabob&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;aaaaaaa&quot;</span><span class="p">,</span> <span class="s">&quot;aaaaaaa&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>

        <span class="c"># single character replace in place (len(from)==len(to)==1)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="s">&quot;o&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;WhO gOes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="s">&quot;O&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;WhO gOes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="s">&quot;O&quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;WhO gOes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="s">&quot;O&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;WhO gOes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="s">&quot;O&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;WhO gOes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="s">&quot;O&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;WhO goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="s">&quot;O&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="s">&quot;O&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;q&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;W&quot;</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;wwho goes there?ww&quot;</span><span class="p">,</span> <span class="s">&quot;WWho goes there?WW&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;W&quot;</span><span class="p">,</span> <span class="s">&quot;w&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Who goes there!&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;?&quot;</span><span class="p">,</span> <span class="s">&quot;!&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Who goes there!!&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there??&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;?&quot;</span><span class="p">,</span> <span class="s">&quot;!&quot;</span><span class="p">)</span>

        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;Who goes there?&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="s">&quot;!&quot;</span><span class="p">)</span>

        <span class="c"># substring replace in place (len(from)==len(to) &gt; 1)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Th** ** a t**sue&quot;</span><span class="p">,</span> <span class="s">&quot;This is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;is&quot;</span><span class="p">,</span> <span class="s">&quot;**&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Th** ** a t**sue&quot;</span><span class="p">,</span> <span class="s">&quot;This is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;is&quot;</span><span class="p">,</span> <span class="s">&quot;**&quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Th** ** a t**sue&quot;</span><span class="p">,</span> <span class="s">&quot;This is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;is&quot;</span><span class="p">,</span> <span class="s">&quot;**&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Th** ** a t**sue&quot;</span><span class="p">,</span> <span class="s">&quot;This is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;is&quot;</span><span class="p">,</span> <span class="s">&quot;**&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Th** ** a t**sue&quot;</span><span class="p">,</span> <span class="s">&quot;This is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;is&quot;</span><span class="p">,</span> <span class="s">&quot;**&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Th** ** a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;This is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;is&quot;</span><span class="p">,</span> <span class="s">&quot;**&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Th** is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;This is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;is&quot;</span><span class="p">,</span> <span class="s">&quot;**&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;This is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;This is a tissue&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;is&quot;</span><span class="p">,</span> <span class="s">&quot;**&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;cobob&quot;</span><span class="p">,</span> <span class="s">&quot;bobob&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;cob&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;cobobXcobocob&quot;</span><span class="p">,</span> <span class="s">&quot;bobobXbobobob&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;cob&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;bobob&quot;</span><span class="p">,</span> <span class="s">&quot;bobob&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bot&quot;</span><span class="p">,</span> <span class="s">&quot;bot&quot;</span><span class="p">)</span>

        <span class="c"># replace single character (len(from)==1, len(to)&gt;1)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ReyKKjaviKK&quot;</span><span class="p">,</span> <span class="s">&quot;Reykjavik&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;k&quot;</span><span class="p">,</span> <span class="s">&quot;KK&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ReyKKjaviKK&quot;</span><span class="p">,</span> <span class="s">&quot;Reykjavik&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;k&quot;</span><span class="p">,</span> <span class="s">&quot;KK&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ReyKKjaviKK&quot;</span><span class="p">,</span> <span class="s">&quot;Reykjavik&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;k&quot;</span><span class="p">,</span> <span class="s">&quot;KK&quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ReyKKjaviKK&quot;</span><span class="p">,</span> <span class="s">&quot;Reykjavik&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;k&quot;</span><span class="p">,</span> <span class="s">&quot;KK&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ReyKKjavik&quot;</span><span class="p">,</span> <span class="s">&quot;Reykjavik&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;k&quot;</span><span class="p">,</span> <span class="s">&quot;KK&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Reykjavik&quot;</span><span class="p">,</span> <span class="s">&quot;Reykjavik&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;k&quot;</span><span class="p">,</span> <span class="s">&quot;KK&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;A----B----C----&quot;</span><span class="p">,</span> <span class="s">&quot;A.B.C.&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="s">&quot;----&quot;</span><span class="p">)</span>
        <span class="c"># issue #15534</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&#39;...</span><span class="se">\u043c</span><span class="s">......&amp;lt;&#39;</span><span class="p">,</span> <span class="s">&#39;...</span><span class="se">\u043c</span><span class="s">......&lt;&#39;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s">&quot;&amp;lt;&quot;</span><span class="p">)</span>

        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;Reykjavik&quot;</span><span class="p">,</span> <span class="s">&quot;Reykjavik&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;q&quot;</span><span class="p">,</span> <span class="s">&quot;KK&quot;</span><span class="p">)</span>

        <span class="c"># replace substring (len(from)&gt;1, len(to)!=len(from))</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ham, ham, eggs and ham&quot;</span><span class="p">,</span> <span class="s">&quot;spam, spam, eggs and spam&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="s">&quot;ham&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ham, ham, eggs and ham&quot;</span><span class="p">,</span> <span class="s">&quot;spam, spam, eggs and spam&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="s">&quot;ham&quot;</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ham, ham, eggs and ham&quot;</span><span class="p">,</span> <span class="s">&quot;spam, spam, eggs and spam&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="s">&quot;ham&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ham, ham, eggs and ham&quot;</span><span class="p">,</span> <span class="s">&quot;spam, spam, eggs and spam&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="s">&quot;ham&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ham, ham, eggs and ham&quot;</span><span class="p">,</span> <span class="s">&quot;spam, spam, eggs and spam&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="s">&quot;ham&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ham, ham, eggs and spam&quot;</span><span class="p">,</span> <span class="s">&quot;spam, spam, eggs and spam&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="s">&quot;ham&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;ham, spam, eggs and spam&quot;</span><span class="p">,</span> <span class="s">&quot;spam, spam, eggs and spam&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="s">&quot;ham&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;spam, spam, eggs and spam&quot;</span><span class="p">,</span> <span class="s">&quot;spam, spam, eggs and spam&quot;</span><span class="p">,</span>
           <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;spam&quot;</span><span class="p">,</span> <span class="s">&quot;ham&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;bobob&quot;</span><span class="p">,</span> <span class="s">&quot;bobobob&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bobob&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;bobobXbobob&quot;</span><span class="p">,</span> <span class="s">&quot;bobobobXbobobob&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bobob&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">)</span>
        <span class="n">EQ</span><span class="p">(</span><span class="s">&quot;BOBOBOB&quot;</span><span class="p">,</span> <span class="s">&quot;BOBOBOB&quot;</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;bob&quot;</span><span class="p">,</span> <span class="s">&quot;bobby&quot;</span><span class="p">)</span>

        <span class="c"># XXX Commented out. Is there any reason to support buffer objects</span>
        <span class="c"># as arguments for str.replace()?  GvR</span>
<span class="c">##         ba = bytearray(&#39;a&#39;)</span>
<span class="c">##         bb = bytearray(&#39;b&#39;)</span>
<span class="c">##         EQ(&quot;bbc&quot;, &quot;abc&quot;, &quot;replace&quot;, ba, bb)</span>
<span class="c">##         EQ(&quot;aac&quot;, &quot;abc&quot;, &quot;replace&quot;, bb, ba)</span>

        <span class="c">#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;one@two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;onetwothree&#39;</span><span class="p">,</span> <span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;one@two@three!&#39;</span><span class="p">,</span> <span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;one@two@three@&#39;</span><span class="p">,</span> <span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;one@two@three@&#39;</span><span class="p">,</span> <span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;one@two@three@&#39;</span><span class="p">,</span> <span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;!&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;one!two!three!&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;-a-b-c-&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;-&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;-a-b-c&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;-&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;-&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;--&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;xy&#39;</span><span class="p">,</span> <span class="s">&#39;--&#39;</span><span class="p">)</span>
        <span class="c"># Next three for SF bug 422088: [OSF1 alpha] string.replace(); died with</span>
        <span class="c"># MemoryError due to empty result (platform malloc issue when requesting</span>
        <span class="c"># 0 bytes).</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;123123&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;123x123&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipIf</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">&gt;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">32</span><span class="p">)</span> <span class="ow">or</span> <span class="n">struct</span><span class="o">.</span><span class="n">calcsize</span><span class="p">(</span><span class="s">&#39;P&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">,</span>
                     <span class="s">&#39;only applies to 32-bit platforms&#39;</span><span class="p">)</span>
<div class="viewcode-block" id="BaseTest.test_replace_overflow"><a class="viewcode-back" href="../../test.html#test.string_tests.BaseTest.test_replace_overflow">[docs]</a>    <span class="k">def</span> <span class="nf">test_replace_overflow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check for overflow checking on 32 bit machines</span>
        <span class="n">A2_16</span> <span class="o">=</span> <span class="s">&quot;A&quot;</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">16</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">A2_16</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">A2_16</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">A2_16</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="n">A2_16</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">A2_16</span><span class="p">,</span> <span class="s">&quot;replace&quot;</span><span class="p">,</span> <span class="s">&quot;AA&quot;</span><span class="p">,</span> <span class="n">A2_16</span><span class="o">+</span><span class="n">A2_16</span><span class="p">)</span>


</div></div>
<div class="viewcode-block" id="CommonTest"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest">[docs]</a><span class="k">class</span> <span class="nc">CommonTest</span><span class="p">(</span><span class="n">BaseTest</span><span class="p">):</span>
    <span class="c"># This testcase contains test that can be used in all</span>
    <span class="c"># stringlike classes. Currently this is str, unicode</span>
    <span class="c"># UserString and the string module.</span>

<div class="viewcode-block" id="CommonTest.test_hash"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_hash">[docs]</a>    <span class="k">def</span> <span class="nf">test_hash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># SF bug 1054139:  += optimization was not invalidating cached hash value</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="s">&#39;DNSSEC&#39;</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
            <span class="n">b</span> <span class="o">+=</span> <span class="n">c</span>
            <span class="nb">hash</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">hash</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="CommonTest.test_capitalize"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_capitalize">[docs]</a>    <span class="k">def</span> <span class="nf">test_capitalize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39; hello &#39;</span><span class="p">,</span> <span class="s">&#39; hello &#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;Hello &#39;</span><span class="p">,</span> <span class="s">&#39;Hello &#39;</span><span class="p">,</span><span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;Hello &#39;</span><span class="p">,</span> <span class="s">&#39;hello &#39;</span><span class="p">,</span><span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;Aaaa&#39;</span><span class="p">,</span> <span class="s">&#39;aaaa&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;Aaaa&#39;</span><span class="p">,</span> <span class="s">&#39;AaAa&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>

        <span class="c"># check that titlecased chars are lowered correctly</span>
        <span class="c"># \u1ffc is the titlecased char</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\u03a9\u0399\u1ff3\u1ff3\u1ff3</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">&#39;</span><span class="se">\u1ff3\u1ff3\u1ffc\u1ffc</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="c"># check with cased non-letter chars</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\u24c5\u24e8\u24e3\u24d7\u24de\u24dd</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">&#39;</span><span class="se">\u24c5\u24ce\u24c9\u24bd\u24c4\u24c3</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\u24c5\u24e8\u24e3\u24d7\u24de\u24dd</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">&#39;</span><span class="se">\u24df\u24e8\u24e3\u24d7\u24de\u24dd</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\u2160\u2171\u2172</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">&#39;</span><span class="se">\u2160\u2161\u2162</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\u2160\u2171\u2172</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">&#39;</span><span class="se">\u2170\u2171\u2172</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="c"># check with Ll chars with no upper - nothing changes here</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\u019b\u1d00\u1d86\u0221\u1fb7</span><span class="s">&#39;</span><span class="p">,</span>
                        <span class="s">&#39;</span><span class="se">\u019b\u1d00\u1d86\u0221\u1fb7</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CommonTest.test_additional_split"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_additional_split">[docs]</a>    <span class="k">def</span> <span class="nf">test_additional_split</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;this&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;function&#39;</span><span class="p">],</span>
            <span class="s">&#39;this is the split function&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">)</span>

        <span class="c"># by whitespace</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d &#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b c d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a b c d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a b c d&#39;</span><span class="p">],</span> <span class="s">&#39;  a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c  d&#39;</span><span class="p">],</span> <span class="s">&#39;a  b  c  d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([],</span> <span class="s">&#39;         &#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">],</span> <span class="s">&#39;  a    &#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="s">&#39;  a    b   &#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b   &#39;</span><span class="p">],</span> <span class="s">&#39;  a    b   &#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b   c   &#39;</span><span class="p">],</span> <span class="s">&#39;  a    b   c   &#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c   &#39;</span><span class="p">],</span> <span class="s">&#39;  a    b   c   &#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="s">&#39;</span><span class="se">\n\t</span><span class="s">a </span><span class="se">\t\r</span><span class="s"> b </span><span class="se">\v</span><span class="s"> &#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">)</span>
        <span class="n">aaa</span> <span class="o">=</span> <span class="s">&#39; a &#39;</span><span class="o">*</span><span class="mi">20</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span> <span class="n">aaa</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">aaa</span><span class="p">[</span><span class="mi">4</span><span class="p">:]],</span> <span class="n">aaa</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">19</span> <span class="o">+</span> <span class="p">[</span><span class="s">&#39;a &#39;</span><span class="p">],</span> <span class="n">aaa</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">19</span><span class="p">)</span>

        <span class="c"># mixed use of str and unicode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CommonTest.test_additional_rsplit"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_additional_rsplit">[docs]</a>    <span class="k">def</span> <span class="nf">test_additional_rsplit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;this&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;the&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;function&#39;</span><span class="p">],</span>
                         <span class="s">&#39;this is the rsplit function&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">)</span>

        <span class="c"># by whitespace</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d &#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a b c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a b c d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a b c d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d  &#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a  b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a  b  c  d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([],</span> <span class="s">&#39;         &#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">],</span> <span class="s">&#39;  a    &#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="s">&#39;  a    b   &#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;  a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="s">&#39;  a    b   &#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;  a    b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">],</span> <span class="s">&#39;  a    b   c   &#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span>
                        <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;  a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">],</span> <span class="s">&#39;  a    b   c   &#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span>
                        <span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="s">&#39;</span><span class="se">\n\t</span><span class="s">a </span><span class="se">\t\r</span><span class="s"> b </span><span class="se">\v</span><span class="s"> &#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">88</span><span class="p">)</span>
        <span class="n">aaa</span> <span class="o">=</span> <span class="s">&#39; a &#39;</span><span class="o">*</span><span class="mi">20</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span> <span class="n">aaa</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="n">aaa</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]]</span> <span class="o">+</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">],</span> <span class="n">aaa</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39; a  a&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">18</span><span class="p">,</span> <span class="n">aaa</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">18</span><span class="p">)</span>

        <span class="c"># mixed use of str and unicode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;a b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">],</span> <span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CommonTest.test_strip"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_strip">[docs]</a>    <span class="k">def</span> <span class="nf">test_strip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;   hello   &#39;</span><span class="p">,</span> <span class="s">&#39;strip&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello   &#39;</span><span class="p">,</span> <span class="s">&#39;   hello   &#39;</span><span class="p">,</span> <span class="s">&#39;lstrip&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;   hello&#39;</span><span class="p">,</span> <span class="s">&#39;   hello   &#39;</span><span class="p">,</span> <span class="s">&#39;rstrip&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;strip&#39;</span><span class="p">)</span>

        <span class="c"># strip/lstrip/rstrip with None arg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;   hello   &#39;</span><span class="p">,</span> <span class="s">&#39;strip&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello   &#39;</span><span class="p">,</span> <span class="s">&#39;   hello   &#39;</span><span class="p">,</span> <span class="s">&#39;lstrip&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;   hello&#39;</span><span class="p">,</span> <span class="s">&#39;   hello   &#39;</span><span class="p">,</span> <span class="s">&#39;rstrip&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;strip&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="c"># strip/lstrip/rstrip with str arg</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;xyzzyhelloxyzzy&#39;</span><span class="p">,</span> <span class="s">&#39;strip&#39;</span><span class="p">,</span> <span class="s">&#39;xyz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;helloxyzzy&#39;</span><span class="p">,</span> <span class="s">&#39;xyzzyhelloxyzzy&#39;</span><span class="p">,</span> <span class="s">&#39;lstrip&#39;</span><span class="p">,</span> <span class="s">&#39;xyz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;xyzzyhello&#39;</span><span class="p">,</span> <span class="s">&#39;xyzzyhelloxyzzy&#39;</span><span class="p">,</span> <span class="s">&#39;rstrip&#39;</span><span class="p">,</span> <span class="s">&#39;xyz&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;strip&#39;</span><span class="p">,</span> <span class="s">&#39;xyz&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;strip&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;lstrip&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;rstrip&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CommonTest.test_ljust"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_ljust">[docs]</a>    <span class="k">def</span> <span class="nf">test_ljust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc       &#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;ljust&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc   &#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;ljust&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;ljust&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;ljust&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc*******&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;ljust&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&#39;*&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;ljust&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CommonTest.test_rjust"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_rjust">[docs]</a>    <span class="k">def</span> <span class="nf">test_rjust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;       abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;rjust&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;   abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;rjust&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;rjust&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;rjust&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;*******abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;rjust&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&#39;*&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;rjust&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CommonTest.test_center"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_center">[docs]</a>    <span class="k">def</span> <span class="nf">test_center</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;   abc    &#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;center&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39; abc  &#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;center&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;center&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;center&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;***abc****&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;center&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&#39;*&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;center&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CommonTest.test_swapcase"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_swapcase">[docs]</a>    <span class="k">def</span> <span class="nf">test_swapcase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;hEllO CoMPuTErS&#39;</span><span class="p">,</span> <span class="s">&#39;HeLLo cOmpUteRs&#39;</span><span class="p">,</span> <span class="s">&#39;swapcase&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;swapcase&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="CommonTest.test_zfill"><a class="viewcode-back" href="../../test.html#test.string_tests.CommonTest.test_zfill">[docs]</a>    <span class="k">def</span> <span class="nf">test_zfill</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;0123&#39;</span><span class="p">,</span> <span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;+123&#39;</span><span class="p">,</span> <span class="s">&#39;+123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;+123&#39;</span><span class="p">,</span> <span class="s">&#39;+123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;+0123&#39;</span><span class="p">,</span> <span class="s">&#39;+123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;-123&#39;</span><span class="p">,</span> <span class="s">&#39;-123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;-123&#39;</span><span class="p">,</span> <span class="s">&#39;-123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;-0123&#39;</span><span class="p">,</span> <span class="s">&#39;-123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;000&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;34&#39;</span><span class="p">,</span> <span class="s">&#39;34&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;0034&#39;</span><span class="p">,</span> <span class="s">&#39;34&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;123&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">)</span>
</div></div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest">[docs]</a><span class="k">class</span> <span class="nc">MixinStrUnicodeUserStringTest</span><span class="p">:</span>
    <span class="c"># additional tests that only work for</span>
    <span class="c"># stringlike objects, i.e. str, unicode, UserString</span>
    <span class="c"># (but not the string module)</span>

<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_islower"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_islower">[docs]</a>    <span class="k">def</span> <span class="nf">test_islower</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;aBc&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_isupper"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_isupper">[docs]</a>    <span class="k">def</span> <span class="nf">test_isupper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;ABC&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;AbC&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;ABC</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_istitle"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_istitle">[docs]</a>    <span class="k">def</span> <span class="nf">test_istitle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;A Titlecased Line&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;A</span><span class="se">\n</span><span class="s">Titlecased Line&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;A Titlecased, Line&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;Not a capitalized String&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;Not</span><span class="se">\t</span><span class="s">a Titlecase String&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;Not--a Titlecase String&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;NOT&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_isspace"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_isspace">[docs]</a>    <span class="k">def</span> <span class="nf">test_isspace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\r</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39; </span><span class="se">\t\r\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39; </span><span class="se">\t\r\n</span><span class="s">a&#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_isalpha"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_isalpha">[docs]</a>    <span class="k">def</span> <span class="nf">test_isalpha</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;isalpha&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;isalpha&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;isalpha&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isalpha&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;isalpha&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;aBc123&#39;</span><span class="p">,</span> <span class="s">&#39;isalpha&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isalpha&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;isalpha&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_isalnum"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_isalnum">[docs]</a>    <span class="k">def</span> <span class="nf">test_isalnum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;123abc456&#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;a1b3c&#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;aBc000 &#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_isdigit"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_isdigit">[docs]</a>    <span class="k">def</span> <span class="nf">test_isdigit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;isdigit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;isdigit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;0&#39;</span><span class="p">,</span> <span class="s">&#39;isdigit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;0123456789&#39;</span><span class="p">,</span> <span class="s">&#39;isdigit&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;0123456789a&#39;</span><span class="p">,</span> <span class="s">&#39;isdigit&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;isdigit&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_title"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_title">[docs]</a>    <span class="k">def</span> <span class="nf">test_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39; Hello &#39;</span><span class="p">,</span> <span class="s">&#39; hello &#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;Hello &#39;</span><span class="p">,</span> <span class="s">&#39;hello &#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;Hello &#39;</span><span class="p">,</span> <span class="s">&#39;Hello &#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;Format This As Title String&#39;</span><span class="p">,</span> <span class="s">&quot;fOrMaT thIs aS titLe String&quot;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;Format,This-As*Title;String&#39;</span><span class="p">,</span> <span class="s">&quot;fOrMaT,thIs-aS*titLe;String&quot;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;Getint&#39;</span><span class="p">,</span> <span class="s">&quot;getInt&quot;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_splitlines"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_splitlines">[docs]</a>    <span class="k">def</span> <span class="nf">test_splitlines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">],</span> <span class="s">&quot;abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\n\r</span><span class="s">ghi&quot;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">],</span> <span class="s">&quot;abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\n\r\n</span><span class="s">ghi&quot;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">],</span> <span class="s">&quot;abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\r\n</span><span class="s">ghi&quot;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">],</span> <span class="s">&quot;abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\r\n</span><span class="s">ghi</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&quot;abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\r\n</span><span class="s">ghi</span><span class="se">\n\r</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\r\n</span><span class="s">ghi</span><span class="se">\n\r</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span>
                        <span class="s">&quot;</span><span class="se">\n</span><span class="s">abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\r\n</span><span class="s">ghi</span><span class="se">\n\r</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;def</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;ghi</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\r</span><span class="s">&#39;</span><span class="p">],</span>
                        <span class="s">&quot;</span><span class="se">\n</span><span class="s">abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\r\n</span><span class="s">ghi</span><span class="se">\n\r</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">,</span> <span class="s">&#39;ghi&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">],</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\r\n</span><span class="s">ghi</span><span class="se">\n\r</span><span class="s">&quot;</span><span class="p">,</span>
                        <span class="s">&#39;splitlines&#39;</span><span class="p">,</span> <span class="n">keepends</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">([</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;def</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;ghi</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\r</span><span class="s">&#39;</span><span class="p">],</span>
                        <span class="s">&quot;</span><span class="se">\n</span><span class="s">abc</span><span class="se">\n</span><span class="s">def</span><span class="se">\r\n</span><span class="s">ghi</span><span class="se">\n\r</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">,</span> <span class="n">keepends</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_startswith"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_startswith">[docs]</a>    <span class="k">def</span> <span class="nf">test_startswith</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;he&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;hello world&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;ello&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;ello&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;lo&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

        <span class="c"># test negative indices</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;he&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;he&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">53</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;hello world&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;ello&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;ello&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;lo&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

        <span class="c"># test tuple arguments</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;he&#39;</span><span class="p">,</span> <span class="s">&#39;ha&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;lo&#39;</span><span class="p">,</span> <span class="s">&#39;llo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;hellox&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;hellowo&#39;</span><span class="p">,</span>
                                                           <span class="s">&#39;rld&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;hellowo&#39;</span><span class="p">,</span> <span class="s">&#39;ello&#39;</span><span class="p">,</span>
                                                            <span class="s">&#39;rld&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;lo&#39;</span><span class="p">,</span> <span class="s">&#39;he&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;he&#39;</span><span class="p">,</span> <span class="s">&#39;hel&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;he&#39;</span><span class="p">,</span> <span class="s">&#39;hel&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">42</span><span class="p">,))</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_endswith"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_endswith">[docs]</a>    <span class="k">def</span> <span class="nf">test_endswith</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;he&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;hello world&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;worl&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;worl&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;world&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c"># test negative indices</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lo&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;he&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;hello world&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;worl&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;worl&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;worl&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;world&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

        <span class="c"># test tuple arguments</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;he&#39;</span><span class="p">,</span> <span class="s">&#39;ha&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;lo&#39;</span><span class="p">,</span> <span class="s">&#39;llo&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;hellox&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;hellowo&#39;</span><span class="p">,</span>
                                                           <span class="s">&#39;rld&#39;</span><span class="p">,</span> <span class="s">&#39;lowo&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;helloworld&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;hellowo&#39;</span><span class="p">,</span> <span class="s">&#39;ello&#39;</span><span class="p">,</span>
                                                            <span class="s">&#39;rld&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;hell&#39;</span><span class="p">,</span> <span class="s">&#39;ell&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;he&#39;</span><span class="p">,</span> <span class="s">&#39;hel&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;he&#39;</span><span class="p">,</span> <span class="s">&#39;hell&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">42</span><span class="p">,))</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test___contains__"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test___contains__">[docs]</a>    <span class="k">def</span> <span class="nf">test___contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\0</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\0</span><span class="s">abc&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\0</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;abc</span><span class="se">\0</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\0</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\0</span><span class="s">abc&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;asdf&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;asdf&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;asd&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;asdf&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;asdf&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_subscript"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_subscript">[docs]</a>    <span class="k">def</span> <span class="nf">test_subscript</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_slice"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_slice">[docs]</a>    <span class="k">def</span> <span class="nf">test_slice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;ab&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;bc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_extended_getslice"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_extended_getslice">[docs]</a>    <span class="k">def</span> <span class="nf">test_extended_getslice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test extended slicing by comparing with list slicing.</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">37</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">start</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">stop</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
                <span class="c"># Skip step 0 (invalid)</span>
                <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">)[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">L</span><span class="p">),</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span>
                                    <span class="nb">slice</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_mul"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_mul">[docs]</a>    <span class="k">def</span> <span class="nf">test_mul</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__mul__&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__mul__&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__mul__&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abcabcabc&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__mul__&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__mul__&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__mul__&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="c"># XXX: on a 64-bit system, this doesn&#39;t raise an overflow error,</span>
        <span class="c"># but either raises a MemoryError, or succeeds (if you have 54TiB)</span>
        <span class="c">#self.checkraises(OverflowError, 10000*&#39;abc&#39;, &#39;__mul__&#39;, 2000000000)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_join"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_join">[docs]</a>    <span class="k">def</span> <span class="nf">test_join</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># join now works with any sequence type</span>
        <span class="c"># moved here, because the argument order is</span>
        <span class="c"># different in string.join (see the test in</span>
        <span class="c"># test.test_string.StringTest.test_join)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a b c d&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abcd&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;bd&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;ac&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;w x y z&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;abc&#39;</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="n">UserList</span><span class="p">([</span><span class="s">&#39;z&#39;</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a.b.c&#39;</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">125</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((((</span><span class="s">&#39;a&#39;</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;-&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="n">i</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">&#39;-&#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span>
                 <span class="p">[</span><span class="s">&#39;a&#39;</span> <span class="o">*</span> <span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((((</span><span class="s">&#39;a&#39;</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;-&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="n">i</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s">&#39;-&#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span>
                 <span class="p">(</span><span class="s">&#39;a&#39;</span> <span class="o">*</span> <span class="n">i</span><span class="p">,)</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span>

        <span class="c">#self.checkequal(str(BadSeq1()), &#39; &#39;, &#39;join&#39;, BadSeq1())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a b c&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="n">BadSeq2</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">()])</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
                <span class="k">yield</span> <span class="mi">4</span> <span class="o">+</span> <span class="s">&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">f</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="s">&#39;+&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&#39;join() ate exception message&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&#39;exception not raised&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_formatting"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_formatting">[docs]</a>    <span class="k">def</span> <span class="nf">test_formatting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;+hello+&#39;</span><span class="p">,</span> <span class="s">&#39;+</span><span class="si">%s</span><span class="s">+&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;+10+&#39;</span><span class="p">,</span> <span class="s">&#39;+</span><span class="si">%d</span><span class="s">+&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%c</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="s">&quot;a&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%c</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="s">&quot;a&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%c</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mi">34</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;$&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%c</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mi">36</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;10&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%d</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\x7f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%c</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mh">0x7f</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ordinal</span> <span class="ow">in</span> <span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mh">0x200000</span><span class="p">):</span>
            <span class="c"># unicode raises ValueError, str raises OverflowError</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">((</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">OverflowError</span><span class="p">),</span> <span class="s">&#39;</span><span class="si">%c</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="n">ordinal</span><span class="p">)</span>

        <span class="n">longvalue</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">+</span> <span class="mi">10</span>
        <span class="n">slongvalue</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">longvalue</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39; 42&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%3ld</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;42&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mf">42.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="n">slongvalue</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="n">longvalue</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkcall</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">longvalue</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;0042.00&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%07.2f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;0042.00&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%07.2F</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%(foo)s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s%s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">42</span><span class="p">,))</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertWarns</span><span class="p">(</span><span class="ne">DeprecationWarning</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%c</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">(</span><span class="bp">None</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;%(foo&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">{})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%(foo)s</span><span class="s"> </span><span class="si">%(bar)s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="s">&quot;42&quot;</span><span class="p">)</span> <span class="c"># not numeric</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">42</span><span class="o">+</span><span class="mi">0j</span><span class="p">))</span> <span class="c"># no int conversion provided</span>

        <span class="c"># argument names with properly nested brackets are supported</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="s">&#39;%((foo))s&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;(foo)&#39;</span><span class="p">:</span> <span class="s">&#39;bar&#39;</span><span class="p">})</span>

        <span class="c"># 100 is a magic number in PyUnicode_Format, this forces a resize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">103</span><span class="o">*</span><span class="s">&#39;a&#39;</span><span class="o">+</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">x&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="mi">103</span><span class="o">*</span><span class="s">&#39;a&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%*s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%10.*f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="mf">42.</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;%10&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">42</span><span class="p">,))</span>

        <span class="c"># Outrageously large width or precision should raise ValueError.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%%%d</span><span class="s">f&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">64</span><span class="p">),</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mf">3.2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%%</span><span class="s">.</span><span class="si">%d</span><span class="s">f&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">64</span><span class="p">),</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mf">3.2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%*s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span>
                         <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%.*f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span>
                         <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.</span> <span class="o">/</span> <span class="mi">7</span><span class="p">))</span>

        <span class="k">class</span> <span class="nc">X</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span> <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">())</span>
</div>
    <span class="nd">@support.cpython_only</span>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_formatting_c_limits"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_formatting_c_limits">[docs]</a>    <span class="k">def</span> <span class="nf">test_formatting_c_limits</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">_testcapi</span> <span class="kn">import</span> <span class="n">PY_SSIZE_T_MAX</span><span class="p">,</span> <span class="n">INT_MAX</span><span class="p">,</span> <span class="n">UINT_MAX</span>
        <span class="n">SIZE_MAX</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">PY_SSIZE_T_MAX</span><span class="o">.</span><span class="n">bit_length</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%*s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span>
                         <span class="p">(</span><span class="n">PY_SSIZE_T_MAX</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%.*f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span>
                         <span class="p">(</span><span class="n">INT_MAX</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.</span> <span class="o">/</span> <span class="mi">7</span><span class="p">))</span>
        <span class="c"># Issue 15989</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%*s</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span>
                         <span class="p">(</span><span class="n">SIZE_MAX</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%.*f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span>
                         <span class="p">(</span><span class="n">UINT_MAX</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.</span> <span class="o">/</span> <span class="mi">7</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_floatformatting"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_floatformatting">[docs]</a>    <span class="k">def</span> <span class="nf">test_floatformatting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># float formatting</span>
        <span class="k">for</span> <span class="n">prec</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
            <span class="n">format</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%%</span><span class="s">.</span><span class="si">%i</span><span class="s">f&#39;</span> <span class="o">%</span> <span class="n">prec</span>
            <span class="n">value</span> <span class="o">=</span> <span class="mf">0.01</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">60</span><span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">value</span> <span class="o">*</span> <span class="mf">3.14159265359</span> <span class="o">/</span> <span class="mf">3.0</span> <span class="o">*</span> <span class="mf">10.0</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">checkcall</span><span class="p">(</span><span class="n">format</span><span class="p">,</span> <span class="s">&quot;__mod__&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_inplace_rewrites"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_inplace_rewrites">[docs]</a>    <span class="k">def</span> <span class="nf">test_inplace_rewrites</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that strings don&#39;t copy and modify cached single-character strings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;lower&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;upper&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;swapcase&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_partition"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_partition">[docs]</a>    <span class="k">def</span> <span class="nf">test_partition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;this is the par&#39;</span><span class="p">,</span> <span class="s">&#39;ti&#39;</span><span class="p">,</span> <span class="s">&#39;tion method&#39;</span><span class="p">),</span>
            <span class="s">&#39;this is the partition method&#39;</span><span class="p">,</span> <span class="s">&#39;partition&#39;</span><span class="p">,</span> <span class="s">&#39;ti&#39;</span><span class="p">)</span>

        <span class="c"># from raymond&#39;s original specification</span>
        <span class="n">S</span> <span class="o">=</span> <span class="s">&#39;http://www.python.org&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;http&#39;</span><span class="p">,</span> <span class="s">&#39;://&#39;</span><span class="p">,</span> <span class="s">&#39;www.python.org&#39;</span><span class="p">),</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;partition&#39;</span><span class="p">,</span> <span class="s">&#39;://&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;http://www.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;partition&#39;</span><span class="p">,</span> <span class="s">&#39;?&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;http://&#39;</span><span class="p">,</span> <span class="s">&#39;www.python.org&#39;</span><span class="p">),</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;partition&#39;</span><span class="p">,</span> <span class="s">&#39;http://&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;http://www.python.&#39;</span><span class="p">,</span> <span class="s">&#39;org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;partition&#39;</span><span class="p">,</span> <span class="s">&#39;org&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;partition&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;partition&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_rpartition"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_rpartition">[docs]</a>    <span class="k">def</span> <span class="nf">test_rpartition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;this is the rparti&#39;</span><span class="p">,</span> <span class="s">&#39;ti&#39;</span><span class="p">,</span> <span class="s">&#39;on method&#39;</span><span class="p">),</span>
            <span class="s">&#39;this is the rpartition method&#39;</span><span class="p">,</span> <span class="s">&#39;rpartition&#39;</span><span class="p">,</span> <span class="s">&#39;ti&#39;</span><span class="p">)</span>

        <span class="c"># from raymond&#39;s original specification</span>
        <span class="n">S</span> <span class="o">=</span> <span class="s">&#39;http://www.python.org&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;http&#39;</span><span class="p">,</span> <span class="s">&#39;://&#39;</span><span class="p">,</span> <span class="s">&#39;www.python.org&#39;</span><span class="p">),</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;rpartition&#39;</span><span class="p">,</span> <span class="s">&#39;://&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;http://www.python.org&#39;</span><span class="p">),</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;rpartition&#39;</span><span class="p">,</span> <span class="s">&#39;?&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;http://&#39;</span><span class="p">,</span> <span class="s">&#39;www.python.org&#39;</span><span class="p">),</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;rpartition&#39;</span><span class="p">,</span> <span class="s">&#39;http://&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">((</span><span class="s">&#39;http://www.python.&#39;</span><span class="p">,</span> <span class="s">&#39;org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;rpartition&#39;</span><span class="p">,</span> <span class="s">&#39;org&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;rpartition&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkraises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="s">&#39;rpartition&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_none_arguments"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_none_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">test_none_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># issue 11828</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s">&#39;hello&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;lo&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;l&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MixinStrUnicodeUserStringTest.test_find_etc_raise_correct_error_messages"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeUserStringTest.test_find_etc_raise_correct_error_messages">[docs]</a>    <span class="k">def</span> <span class="nf">test_find_etc_raise_correct_error_messages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># issue 11828</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s">&#39;hello&#39;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="s">&#39;x&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;^find\(&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">find</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;^rfind\(&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">rfind</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;^index\(&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;^rindex\(&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">rindex</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;^count\(&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">count</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;^startswith\(&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">startswith</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;^endswith\(&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">endswith</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="c"># issue #15534</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkequal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s">&quot;...</span><span class="se">\u043c</span><span class="s">......&lt;&quot;</span><span class="p">,</span> <span class="s">&quot;find&quot;</span><span class="p">,</span> <span class="s">&quot;&lt;&quot;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="MixinStrUnicodeTest"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeTest">[docs]</a><span class="k">class</span> <span class="nc">MixinStrUnicodeTest</span><span class="p">:</span>
    <span class="c"># Additional tests that only work with str and unicode.</span>

<div class="viewcode-block" id="MixinStrUnicodeTest.test_bug1001011"><a class="viewcode-back" href="../../test.html#test.string_tests.MixinStrUnicodeTest.test_bug1001011">[docs]</a>    <span class="k">def</span> <span class="nf">test_bug1001011</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Make sure join returns a NEW object for single item sequences</span>
        <span class="c"># involving a subclass.</span>
        <span class="c"># Make sure that it is of the appropriate type.</span>
        <span class="c"># Check the optimisation still occurs for standard objects.</span>
        <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span>
        <span class="k">class</span> <span class="nc">subclass</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="n">s1</span> <span class="o">=</span> <span class="n">subclass</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="n">s2</span> <span class="o">=</span> <span class="n">t</span><span class="p">()</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">s1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNot</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">s2</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>

        <span class="n">s1</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="n">s2</span> <span class="o">=</span> <span class="n">t</span><span class="p">()</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">s1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>

        <span class="c"># Should also test mixed-type join.</span>
        <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="n">subclass</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">s1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNot</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">s2</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>

            <span class="n">s1</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">s1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">)</span>

<span class="c">##         elif t is str8:</span>
<span class="c">##             s1 = subclass(&quot;abcd&quot;)</span>
<span class="c">##             s2 = &quot;&quot;.join([s1])</span>
<span class="c">##             self.assertIsNot(s1, s2)</span>
<span class="c">##             self.assertIs(type(s2), str) # promotes!</span>

<span class="c">##             s1 = t(&quot;abcd&quot;)</span>
<span class="c">##             s2 = &quot;&quot;.join([s1])</span>
<span class="c">##             self.assertIsNot(s1, s2)</span>
<span class="c">##             self.assertIs(type(s2), str) # promotes!</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;unexpected type for MixinStrUnicodeTest </span><span class="si">%r</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">t</span><span class="p">)</span></div></div>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>