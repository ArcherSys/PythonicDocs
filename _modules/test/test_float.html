

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_float &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_float</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_float</h1><div class="highlight"><pre>
<span class="kn">import</span> <span class="nn">unittest</span><span class="o">,</span> <span class="nn">struct</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="n">support</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">isinf</span><span class="p">,</span> <span class="n">isnan</span><span class="p">,</span> <span class="n">copysign</span><span class="p">,</span> <span class="n">ldexp</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">fractions</span>

<span class="n">INF</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&quot;inf&quot;</span><span class="p">)</span>
<span class="n">NAN</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&quot;nan&quot;</span><span class="p">)</span>

<span class="n">have_getformat</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="s">&quot;__getformat__&quot;</span><span class="p">)</span>
<span class="n">requires_getformat</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">skipUnless</span><span class="p">(</span><span class="n">have_getformat</span><span class="p">,</span>
                                         <span class="s">&quot;requires __getformat__&quot;</span><span class="p">)</span>
<span class="n">requires_setformat</span> <span class="o">=</span> <span class="n">unittest</span><span class="o">.</span><span class="n">skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="s">&quot;__setformat__&quot;</span><span class="p">),</span>
                                         <span class="s">&quot;requires __setformat__&quot;</span><span class="p">)</span>

<span class="c">#locate file with float format test values</span>
<span class="n">test_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">curdir</span>
<span class="n">format_testfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">test_dir</span><span class="p">,</span> <span class="s">&#39;formatfloat_testcases.txt&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">GeneralFloatCases</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="GeneralFloatCases"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases">[docs]</a>
    <span class="k">def</span> <span class="nf">test_float</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="GeneralFloatCases.test_float"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases.test_float">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mf">3.14</span><span class="p">),</span> <span class="mf">3.14</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mi">314</span><span class="p">),</span> <span class="mf">314.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;  3.14  &quot;</span><span class="p">),</span> <span class="mf">3.14</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">b</span><span class="s">&quot; 3.14  &quot;</span><span class="p">),</span> <span class="mf">3.14</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;  0x3.1  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;  -0x3.p-1  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;  +0x3.p-1  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;++3.14&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;+-3.14&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-+3.14&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;--3.14&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;.nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;+.inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;-&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="p">{})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;not &#39;dict&#39;&quot;</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="p">{})</span>
        <span class="c"># Lone surrogate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">UnicodeEncodeError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\uD8F0</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="c"># check that we don&#39;t accept alternate exponent markers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-1.7d29&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;3D-14&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;  </span><span class="se">\u0663</span><span class="s">.</span><span class="se">\u0661\u0664</span><span class="s">  &quot;</span><span class="p">),</span> <span class="mf">3.14</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\N{EM SPACE}</span><span class="s">3.14</span><span class="se">\N{EN SPACE}</span><span class="s">&quot;</span><span class="p">),</span> <span class="mf">3.14</span><span class="p">)</span>
        <span class="c"># extra long strings should not be a problem</span>
        <span class="nb">float</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;.&#39;</span> <span class="o">+</span> <span class="n">b</span><span class="s">&#39;1&#39;</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
        <span class="nb">float</span><span class="p">(</span><span class="s">&#39;.&#39;</span> <span class="o">+</span> <span class="s">&#39;1&#39;</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_error_message</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="GeneralFloatCases.test_error_message"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases.test_error_message">[docs]</a>        <span class="n">testlist</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\xbd</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;123</span><span class="se">\xbd</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;  123 456  &#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">testlist</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;Expected int(</span><span class="si">%r</span><span class="s">) to raise a ValueError&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>


    <span class="nd">@support.run_with_locale</span><span class="p">(</span><span class="s">&#39;LC_NUMERIC&#39;</span><span class="p">,</span> <span class="s">&#39;fr_FR&#39;</span><span class="p">,</span> <span class="s">&#39;de_DE&#39;</span><span class="p">)</span></div>
    <span class="k">def</span> <span class="nf">test_float_with_comma</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># set locale to something that doesn&#39;t use &#39;.&#39; for the decimal point</span>
        <span class="c"># float must not accept the locale specific decimal point but</span>
        <span class="c"># it still has to accept the normal python syntax</span>
        <span class="kn">import</span> <span class="nn">locale</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">locale</span><span class="o">.</span><span class="n">localeconv</span><span class="p">()[</span><span class="s">&#39;decimal_point&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;,&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&#39;decimal_point is not &quot;,&quot;&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;  3.14  &quot;</span><span class="p">),</span> <span class="mf">3.14</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+3.14  &quot;</span><span class="p">),</span> <span class="mf">3.14</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-3.14  &quot;</span><span class="p">),</span> <span class="o">-</span><span class="mf">3.14</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;.14  &quot;</span><span class="p">),</span> <span class="o">.</span><span class="mi">14</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;3.  &quot;</span><span class="p">),</span> <span class="mf">3.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;3.e3  &quot;</span><span class="p">),</span> <span class="mf">3000.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;3.2e3  &quot;</span><span class="p">),</span> <span class="mf">3200.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;2.5e-1  &quot;</span><span class="p">),</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;5e-1&quot;</span><span class="p">),</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;  3,14  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;  +3,14  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;  -3,14  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;  0x3.1  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;  -0x3.p-1  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;  +0x3.p-1  &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;  25.e-1  &quot;</span><span class="p">),</span> <span class="mf">2.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;  .25e-1  &quot;</span><span class="p">),</span> <span class="o">.</span><span class="mo">025</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_floatconversion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="GeneralFloatCases.test_floatconversion"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases.test_floatconversion">[docs]</a>        <span class="c"># Make sure that calls to __float__() work properly</span>
        <span class="k">class</span> <span class="nc">Foo0</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">42.</span>

        <span class="k">class</span> <span class="nc">Foo1</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">42.</span>

        <span class="k">class</span> <span class="nc">Foo2</span><span class="p">(</span><span class="nb">float</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="mf">42.</span>

        <span class="k">class</span> <span class="nc">Foo3</span><span class="p">(</span><span class="nb">float</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">float</span><span class="o">.</span><span class="n">__new__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">value</span><span class="p">)</span>

            <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span>

        <span class="k">class</span> <span class="nc">Foo4</span><span class="p">(</span><span class="nb">float</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="mi">42</span>

        <span class="c"># Issue 5759: __float__ not called on str subclasses (though it is on</span>
        <span class="c"># unicode subclasses).</span>
        <span class="k">class</span> <span class="nc">FooStr</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">Foo0</span><span class="p">()),</span> <span class="mf">42.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">Foo1</span><span class="p">()),</span> <span class="mf">42.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">Foo2</span><span class="p">()),</span> <span class="mf">42.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">Foo3</span><span class="p">(</span><span class="mi">21</span><span class="p">)),</span> <span class="mf">42.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Foo4</span><span class="p">(</span><span class="mi">42</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">FooStr</span><span class="p">(</span><span class="s">&#39;8&#39;</span><span class="p">)),</span> <span class="mf">9.</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_is_integer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="GeneralFloatCases.test_is_integer"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases.test_is_integer">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">((</span><span class="mf">1.1</span><span class="p">)</span><span class="o">.</span><span class="n">is_integer</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="mf">1.</span><span class="p">)</span><span class="o">.</span><span class="n">is_integer</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;nan&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_integer</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;inf&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_integer</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">test_floatasratio</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="GeneralFloatCases.test_floatasratio"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases.test_floatasratio">[docs]</a>        <span class="k">for</span> <span class="n">f</span><span class="p">,</span> <span class="n">ratio</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="p">(</span><span class="mf">0.875</span><span class="p">,</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)),</span>
                <span class="p">(</span><span class="o">-</span><span class="mf">0.875</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)),</span>
                <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
                <span class="p">(</span><span class="mf">11.5</span><span class="p">,</span> <span class="p">(</span><span class="mi">23</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span>
            <span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">(),</span> <span class="n">ratio</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="n">f</span> <span class="o">*=</span> <span class="mi">10</span> <span class="o">**</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
            <span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">__truediv__</span><span class="p">(</span><span class="n">d</span><span class="p">),</span> <span class="n">f</span><span class="p">)</span>

        <span class="n">R</span> <span class="o">=</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                         <span class="n">R</span><span class="p">(</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                         <span class="n">R</span><span class="p">(</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                         <span class="n">R</span><span class="p">(</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">4728779608739021</span><span class="p">,</span> <span class="mi">2251799813685248</span><span class="p">),</span>
                         <span class="n">R</span><span class="p">(</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="mf">2.1</span><span class="p">)</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">4728779608739021</span><span class="p">,</span> <span class="mi">2251799813685248</span><span class="p">),</span>
                         <span class="n">R</span><span class="p">(</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="o">-</span><span class="mf">2.1</span><span class="p">)</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">2100</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                         <span class="n">R</span><span class="p">(</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="o">-</span><span class="mf">2100.0</span><span class="p">)</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">()))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;-inf&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_integer_ratio</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_float_containment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="GeneralFloatCases.test_float_containment"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases.test_float_containment">[docs]</a>        <span class="n">floats</span> <span class="o">=</span> <span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">floats</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">[</span><span class="n">f</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">f</span><span class="p">,))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">{</span><span class="n">f</span><span class="p">})</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">{</span><span class="n">f</span><span class="p">:</span> <span class="bp">None</span><span class="p">})</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">([</span><span class="n">f</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">f</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;[].count(&#39;</span><span class="si">%r</span><span class="s">&#39;) != 1&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">floats</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">floats</span><span class="p">:</span>
            <span class="c"># nonidentical containers, same type, same contents</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">([</span><span class="n">f</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="n">f</span><span class="p">],</span> <span class="s">&quot;[</span><span class="si">%r</span><span class="s">] != [</span><span class="si">%r</span><span class="s">]&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="n">f</span><span class="p">,)</span> <span class="o">==</span> <span class="p">(</span><span class="n">f</span><span class="p">,),</span> <span class="s">&quot;(</span><span class="si">%r</span><span class="s">,) != (</span><span class="si">%r</span><span class="s">,)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">({</span><span class="n">f</span><span class="p">}</span> <span class="o">==</span> <span class="p">{</span><span class="n">f</span><span class="p">},</span> <span class="s">&quot;{</span><span class="si">%r</span><span class="s">} != {</span><span class="si">%r</span><span class="s">}&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">({</span><span class="n">f</span> <span class="p">:</span> <span class="bp">None</span><span class="p">}</span> <span class="o">==</span> <span class="p">{</span><span class="n">f</span><span class="p">:</span> <span class="bp">None</span><span class="p">},</span> <span class="s">&quot;{</span><span class="si">%r</span><span class="s"> : None} != &quot;</span>
                                                   <span class="s">&quot;{</span><span class="si">%r</span><span class="s"> : None}&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>

            <span class="c"># identical containers</span>
            <span class="n">l</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">],</span> <span class="p">(</span><span class="n">f</span><span class="p">,),</span> <span class="p">{</span><span class="n">f</span><span class="p">},</span> <span class="p">{</span><span class="n">f</span><span class="p">:</span> <span class="bp">None</span><span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">l</span> <span class="o">==</span> <span class="n">l</span><span class="p">,</span> <span class="s">&quot;[</span><span class="si">%r</span><span class="s">] not equal to itself&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">t</span> <span class="o">==</span> <span class="n">t</span><span class="p">,</span> <span class="s">&quot;(</span><span class="si">%r</span><span class="s">,) not equal to itself&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="n">s</span><span class="p">,</span> <span class="s">&quot;{</span><span class="si">%r</span><span class="s">} not equal to itself&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">d</span> <span class="o">==</span> <span class="n">d</span><span class="p">,</span> <span class="s">&quot;{</span><span class="si">%r</span><span class="s"> : None} not equal to itself&quot;</span> <span class="o">%</span> <span class="n">f</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">assertEqualAndEqualSign</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span></div>
<div class="viewcode-block" id="GeneralFloatCases.assertEqualAndEqualSign"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases.assertEqualAndEqualSign">[docs]</a>        <span class="c"># fail unless a == b and a and b have the same sign bit;</span>
        <span class="c"># the only difference from assertEqual is that this test</span>
        <span class="c"># distinguishes -0.0 and 0.0.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">copysign</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">a</span><span class="p">)),</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">copysign</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">b</span><span class="p">)))</span>

    <span class="nd">@support.requires_IEEE_754</span></div>
    <span class="k">def</span> <span class="nf">test_float_mod</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="GeneralFloatCases.test_float_mod"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases.test_float_mod">[docs]</a>        <span class="c"># Check behaviour of % operator for IEEE 754 special cases.</span>
        <span class="c"># In particular, check signs of zeros.</span>
        <span class="n">mod</span> <span class="o">=</span> <span class="n">operator</span><span class="o">.</span><span class="n">mod</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="o">-</span><span class="mf">1e-100</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="mf">1e-100</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">1e-100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="o">-</span><span class="mf">1e-100</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">1e-100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="mf">1e-100</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>

    <span class="nd">@support.requires_IEEE_754</span></div>
    <span class="k">def</span> <span class="nf">test_float_pow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="GeneralFloatCases.test_float_pow"><a class="viewcode-back" href="../../test.html#test.test_float.GeneralFloatCases.test_float_pow">[docs]</a>        <span class="c"># test builtin pow and ** operator for IEEE 754 special cases.</span>
        <span class="c"># Special cases taken from section F.9.4.4 of the C99 specification</span>

        <span class="k">for</span> <span class="n">pow_op</span> <span class="ow">in</span> <span class="nb">pow</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">pow</span><span class="p">:</span>
            <span class="c"># x**NAN is NAN for any x except 1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)))</span>

            <span class="c"># NAN**y is NAN for any y except +-0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="n">INF</span><span class="p">)))</span>

            <span class="c"># (+-0)**y raises ZeroDivisionError for y a negative odd integer</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">pow_op</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">pow_op</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>

            <span class="c"># (+-0)**y raises ZeroDivisionError for y finite and negative</span>
            <span class="c"># but not an odd integer</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">pow_op</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">pow_op</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">pow_op</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="n">pow_op</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>

            <span class="c"># (+-0)**y is +-0 for y a positive odd integer</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

            <span class="c"># (+-0)**y is 0 for y finite and positive but not an odd integer</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

            <span class="c"># (-1)**+-inf is 1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>

            <span class="c"># 1**y is 1 for any y, even if y is an infinity or nan</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">NAN</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>

            <span class="c"># x**+-0 is 1 for any x, even if x is a zero, infinity, or nan</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>

            <span class="c"># x**y defers to complex pow for finite negative x and</span>
            <span class="c"># non-integral y.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)),</span> <span class="nb">complex</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)),</span> <span class="nb">complex</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)),</span> <span class="nb">complex</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)),</span> <span class="nb">complex</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)),</span> <span class="nb">complex</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)),</span> <span class="nb">complex</span><span class="p">)</span>

            <span class="c"># x**-INF is INF for abs(x) &lt; 1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>

            <span class="c"># x**-INF is 0 for abs(x) &gt; 1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

            <span class="c"># x**INF is 0 for abs(x) &lt; 1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

            <span class="c"># x**INF is INF for abs(x) &gt; 1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>

            <span class="c"># (-INF)**y is -0.0 for y a negative odd integer</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>

            <span class="c"># (-INF)**y is 0.0 for y negative but not an odd integer</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

            <span class="c"># (-INF)**y is -INF for y a positive odd integer</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="n">INF</span><span class="p">)</span>

            <span class="c"># (-INF)**y is INF for y positive but not an odd integer</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>

            <span class="c"># INF**y is INF for y positive</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>

            <span class="c"># INF**y is 0.0 for y negative</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

            <span class="c"># basic checks not covered by the special cases above</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">),</span> <span class="mf">0.25</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">),</span> <span class="mf">4.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">),</span> <span class="mf">0.25</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">),</span> <span class="mf">0.5</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">2.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">),</span> <span class="mf">4.0</span><span class="p">)</span>

            <span class="c"># 1 ** large and -1 ** large; some libms apparently</span>
            <span class="c"># have problems with these</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e100</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1e100</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e100</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1e100</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>

            <span class="c"># check sign for results that underflow to 0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2000.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2000.5</span><span class="p">)),</span> <span class="nb">complex</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2001.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2000.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2000.5</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2001.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2000.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2000.5</span><span class="p">)),</span> <span class="nb">complex</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2001.0</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2000.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2000.5</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqualAndEqualSign</span><span class="p">(</span><span class="n">pow_op</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2001.0</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

            <span class="c"># check we don&#39;t raise an exception for subnormal results,</span>
            <span class="c"># and validate signs.  Tests currently disabled, since</span>
            <span class="c"># they fail on systems where a subnormal result from pow</span>
            <span class="c"># is flushed to zero (e.g. Debian/ia64.)</span>
            <span class="c">#self.assertTrue(0.0 &lt; pow_op(0.5, 1048) &lt; 1e-315)</span>
            <span class="c">#self.assertTrue(0.0 &lt; pow_op(-0.5, 1048) &lt; 1e-315)</span>
            <span class="c">#self.assertTrue(0.0 &lt; pow_op(0.5, 1047) &lt; 1e-315)</span>
            <span class="c">#self.assertTrue(0.0 &gt; pow_op(-0.5, 1047) &gt; -1e-315)</span>
            <span class="c">#self.assertTrue(0.0 &lt; pow_op(2.0, -1048) &lt; 1e-315)</span>
            <span class="c">#self.assertTrue(0.0 &lt; pow_op(-2.0, -1048) &lt; 1e-315)</span>
            <span class="c">#self.assertTrue(0.0 &lt; pow_op(2.0, -1047) &lt; 1e-315)</span>
            <span class="c">#self.assertTrue(0.0 &gt; pow_op(-2.0, -1047) &gt; -1e-315)</span>


<span class="nd">@requires_setformat</span></div></div>
<span class="k">class</span> <span class="nc">FormatFunctionsTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="FormatFunctionsTestCase"><a class="viewcode-back" href="../../test.html#test.test_float.FormatFunctionsTestCase">[docs]</a>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="FormatFunctionsTestCase.setUp"><a class="viewcode-back" href="../../test.html#test.test_float.FormatFunctionsTestCase.setUp">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">save_formats</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;double&#39;</span><span class="p">:</span><span class="nb">float</span><span class="o">.</span><span class="n">__getformat__</span><span class="p">(</span><span class="s">&#39;double&#39;</span><span class="p">),</span>
                             <span class="s">&#39;float&#39;</span><span class="p">:</span><span class="nb">float</span><span class="o">.</span><span class="n">__getformat__</span><span class="p">(</span><span class="s">&#39;float&#39;</span><span class="p">)}</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="FormatFunctionsTestCase.tearDown"><a class="viewcode-back" href="../../test.html#test.test_float.FormatFunctionsTestCase.tearDown">[docs]</a>        <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">(</span><span class="s">&#39;double&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_formats</span><span class="p">[</span><span class="s">&#39;double&#39;</span><span class="p">])</span>
        <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">(</span><span class="s">&#39;float&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_formats</span><span class="p">[</span><span class="s">&#39;float&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_getformat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="FormatFunctionsTestCase.test_getformat"><a class="viewcode-back" href="../../test.html#test.test_float.FormatFunctionsTestCase.test_getformat">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="nb">float</span><span class="o">.</span><span class="n">__getformat__</span><span class="p">(</span><span class="s">&#39;double&#39;</span><span class="p">),</span>
                      <span class="p">[</span><span class="s">&#39;unknown&#39;</span><span class="p">,</span> <span class="s">&#39;IEEE, big-endian&#39;</span><span class="p">,</span> <span class="s">&#39;IEEE, little-endian&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="nb">float</span><span class="o">.</span><span class="n">__getformat__</span><span class="p">(</span><span class="s">&#39;float&#39;</span><span class="p">),</span>
                      <span class="p">[</span><span class="s">&#39;unknown&#39;</span><span class="p">,</span> <span class="s">&#39;IEEE, big-endian&#39;</span><span class="p">,</span> <span class="s">&#39;IEEE, little-endian&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="o">.</span><span class="n">__getformat__</span><span class="p">,</span> <span class="s">&#39;chicken&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">float</span><span class="o">.</span><span class="n">__getformat__</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_setformat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="FormatFunctionsTestCase.test_setformat"><a class="viewcode-back" href="../../test.html#test.test_float.FormatFunctionsTestCase.test_setformat">[docs]</a>        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="s">&#39;double&#39;</span><span class="p">,</span> <span class="s">&#39;float&#39;</span><span class="p">:</span>
            <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="s">&#39;unknown&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_formats</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;IEEE, big-endian&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">,</span>
                                  <span class="n">t</span><span class="p">,</span> <span class="s">&#39;IEEE, little-endian&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_formats</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;IEEE, little-endian&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">,</span>
                                  <span class="n">t</span><span class="p">,</span> <span class="s">&#39;IEEE, big-endian&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">,</span>
                                  <span class="n">t</span><span class="p">,</span> <span class="s">&#39;IEEE, big-endian&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">,</span>
                                  <span class="n">t</span><span class="p">,</span> <span class="s">&#39;IEEE, little-endian&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">,</span>
                              <span class="n">t</span><span class="p">,</span> <span class="s">&#39;chicken&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">,</span>
                          <span class="s">&#39;chicken&#39;</span><span class="p">,</span> <span class="s">&#39;unknown&#39;</span><span class="p">)</span>

<span class="n">BE_DOUBLE_INF</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x7f\xf0\x00\x00\x00\x00\x00\x00</span><span class="s">&#39;</span></div></div>
<span class="n">LE_DOUBLE_INF</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">BE_DOUBLE_INF</span><span class="p">))</span>
<span class="n">BE_DOUBLE_NAN</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x7f\xf8\x00\x00\x00\x00\x00\x00</span><span class="s">&#39;</span>
<span class="n">LE_DOUBLE_NAN</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">BE_DOUBLE_NAN</span><span class="p">))</span>

<span class="n">BE_FLOAT_INF</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x7f\x80\x00\x00</span><span class="s">&#39;</span>
<span class="n">LE_FLOAT_INF</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">BE_FLOAT_INF</span><span class="p">))</span>
<span class="n">BE_FLOAT_NAN</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x7f\xc0\x00\x00</span><span class="s">&#39;</span>
<span class="n">LE_FLOAT_NAN</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">BE_FLOAT_NAN</span><span class="p">))</span>

<span class="c"># on non-IEEE platforms, attempting to unpack a bit pattern</span>
<span class="c"># representing an infinity or a NaN should raise an exception.</span>

<span class="nd">@requires_setformat</span>
<span class="k">class</span> <span class="nc">UnknownFormatTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="UnknownFormatTestCase"><a class="viewcode-back" href="../../test.html#test.test_float.UnknownFormatTestCase">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="UnknownFormatTestCase.setUp"><a class="viewcode-back" href="../../test.html#test.test_float.UnknownFormatTestCase.setUp">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">save_formats</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;double&#39;</span><span class="p">:</span><span class="nb">float</span><span class="o">.</span><span class="n">__getformat__</span><span class="p">(</span><span class="s">&#39;double&#39;</span><span class="p">),</span>
                             <span class="s">&#39;float&#39;</span><span class="p">:</span><span class="nb">float</span><span class="o">.</span><span class="n">__getformat__</span><span class="p">(</span><span class="s">&#39;float&#39;</span><span class="p">)}</span>
        <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">(</span><span class="s">&#39;double&#39;</span><span class="p">,</span> <span class="s">&#39;unknown&#39;</span><span class="p">)</span>
        <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">(</span><span class="s">&#39;float&#39;</span><span class="p">,</span> <span class="s">&#39;unknown&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="UnknownFormatTestCase.tearDown"><a class="viewcode-back" href="../../test.html#test.test_float.UnknownFormatTestCase.tearDown">[docs]</a>        <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">(</span><span class="s">&#39;double&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_formats</span><span class="p">[</span><span class="s">&#39;double&#39;</span><span class="p">])</span>
        <span class="nb">float</span><span class="o">.</span><span class="n">__setformat__</span><span class="p">(</span><span class="s">&#39;float&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_formats</span><span class="p">[</span><span class="s">&#39;float&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_double_specials_dont_unpack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="UnknownFormatTestCase.test_double_specials_dont_unpack"><a class="viewcode-back" href="../../test.html#test.test_float.UnknownFormatTestCase.test_double_specials_dont_unpack">[docs]</a>        <span class="k">for</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="p">[(</span><span class="s">&#39;&gt;d&#39;</span><span class="p">,</span> <span class="n">BE_DOUBLE_INF</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&gt;d&#39;</span><span class="p">,</span> <span class="n">BE_DOUBLE_NAN</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&lt;d&#39;</span><span class="p">,</span> <span class="n">LE_DOUBLE_INF</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&lt;d&#39;</span><span class="p">,</span> <span class="n">LE_DOUBLE_NAN</span><span class="p">)]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">,</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_float_specials_dont_unpack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="UnknownFormatTestCase.test_float_specials_dont_unpack"><a class="viewcode-back" href="../../test.html#test.test_float.UnknownFormatTestCase.test_float_specials_dont_unpack">[docs]</a>        <span class="k">for</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="p">[(</span><span class="s">&#39;&gt;f&#39;</span><span class="p">,</span> <span class="n">BE_FLOAT_INF</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&gt;f&#39;</span><span class="p">,</span> <span class="n">BE_FLOAT_NAN</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&lt;f&#39;</span><span class="p">,</span> <span class="n">LE_FLOAT_INF</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&lt;f&#39;</span><span class="p">,</span> <span class="n">LE_FLOAT_NAN</span><span class="p">)]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">,</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>


<span class="c"># on an IEEE platform, all we guarantee is that bit patterns</span>
<span class="c"># representing infinities or NaNs do not raise an exception; all else</span>
<span class="c"># is accident (today).</span>
<span class="c"># let&#39;s also try to guarantee that -0.0 and 0.0 don&#39;t get confused.</span>

<span class="k">class</span> <span class="nc">IEEEFormatTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="IEEEFormatTestCase"><a class="viewcode-back" href="../../test.html#test.test_float.IEEEFormatTestCase">[docs]</a>
    <span class="nd">@support.requires_IEEE_754</span>
    <span class="k">def</span> <span class="nf">test_double_specials_do_unpack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="IEEEFormatTestCase.test_double_specials_do_unpack"><a class="viewcode-back" href="../../test.html#test.test_float.IEEEFormatTestCase.test_double_specials_do_unpack">[docs]</a>        <span class="k">for</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="p">[(</span><span class="s">&#39;&gt;d&#39;</span><span class="p">,</span> <span class="n">BE_DOUBLE_INF</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&gt;d&#39;</span><span class="p">,</span> <span class="n">BE_DOUBLE_NAN</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&lt;d&#39;</span><span class="p">,</span> <span class="n">LE_DOUBLE_INF</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&lt;d&#39;</span><span class="p">,</span> <span class="n">LE_DOUBLE_NAN</span><span class="p">)]:</span>
            <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

    <span class="nd">@support.requires_IEEE_754</span></div>
    <span class="k">def</span> <span class="nf">test_float_specials_do_unpack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="IEEEFormatTestCase.test_float_specials_do_unpack"><a class="viewcode-back" href="../../test.html#test.test_float.IEEEFormatTestCase.test_float_specials_do_unpack">[docs]</a>        <span class="k">for</span> <span class="n">fmt</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="p">[(</span><span class="s">&#39;&gt;f&#39;</span><span class="p">,</span> <span class="n">BE_FLOAT_INF</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&gt;f&#39;</span><span class="p">,</span> <span class="n">BE_FLOAT_NAN</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&lt;f&#39;</span><span class="p">,</span> <span class="n">LE_FLOAT_INF</span><span class="p">),</span>
                          <span class="p">(</span><span class="s">&#39;&lt;f&#39;</span><span class="p">,</span> <span class="n">LE_FLOAT_NAN</span><span class="p">)]:</span>
            <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">FormatTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="FormatTestCase"><a class="viewcode-back" href="../../test.html#test.test_float.FormatTestCase">[docs]</a>
    <span class="k">def</span> <span class="nf">test_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="FormatTestCase.test_format"><a class="viewcode-back" href="../../test.html#test.test_float.FormatTestCase.test_format">[docs]</a>        <span class="c"># these should be rewritten to use both format(x, spec) and</span>
        <span class="c"># x.__format__(spec)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">),</span> <span class="s">&#39;0.000000&#39;</span><span class="p">)</span>

        <span class="c"># the default is &#39;g&#39;, except for empty format spec</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span> <span class="s">&#39;0.0&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span> <span class="s">&#39;0.01&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="s">&#39;g&#39;</span><span class="p">),</span> <span class="s">&#39;0.01&#39;</span><span class="p">)</span>

        <span class="c"># empty presentation type should format in the same way as str</span>
        <span class="c"># (issue 5920)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="mi">100</span><span class="o">/</span><span class="mf">7.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;-&#39;</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;&gt;&#39;</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;2&#39;</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">),</span> <span class="s">&#39;1.000000&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">),</span> <span class="s">&#39;-1.000000&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s">&#39; f&#39;</span><span class="p">),</span> <span class="s">&#39; 1.000000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="s">&#39; f&#39;</span><span class="p">),</span> <span class="s">&#39;-1.000000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s">&#39;+f&#39;</span><span class="p">),</span> <span class="s">&#39;+1.000000&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="s">&#39;+f&#39;</span><span class="p">),</span> <span class="s">&#39;-1.000000&#39;</span><span class="p">)</span>

        <span class="c"># % formatting</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="s">&#39;%&#39;</span><span class="p">),</span> <span class="s">&#39;-100.000000%&#39;</span><span class="p">)</span>

        <span class="c"># conversion to string should fail</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="s">&quot;s&quot;</span><span class="p">)</span>

        <span class="c"># other format specifiers shouldn&#39;t work on floats,</span>
        <span class="c">#  in particular int specifiers</span>
        <span class="k">for</span> <span class="n">format_spec</span> <span class="ow">in</span> <span class="p">([</span><span class="nb">chr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span> <span class="o">+</span>
                            <span class="p">[</span><span class="nb">chr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">),</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;Z&#39;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">format_spec</span> <span class="ow">in</span> <span class="s">&#39;eEfFgGn%&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="mf">1e100</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e100</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="mf">1e-100</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e-100</span><span class="p">,</span> <span class="n">format_spec</span><span class="p">)</span>

        <span class="c"># issue 3382</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">),</span> <span class="s">&#39;nan&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">NAN</span><span class="p">,</span> <span class="s">&#39;F&#39;</span><span class="p">),</span> <span class="s">&#39;NAN&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">),</span> <span class="s">&#39;inf&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">INF</span><span class="p">,</span> <span class="s">&#39;F&#39;</span><span class="p">),</span> <span class="s">&#39;INF&#39;</span><span class="p">)</span>

    <span class="nd">@support.requires_IEEE_754</span></div>
    <span class="k">def</span> <span class="nf">test_format_testfile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="FormatTestCase.test_format_testfile"><a class="viewcode-back" href="../../test.html#test.test_float.FormatTestCase.test_format_testfile">[docs]</a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">format_testfile</span><span class="p">)</span> <span class="k">as</span> <span class="n">testfile</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">testfile</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;--&#39;</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">,</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;-&gt;&#39;</span><span class="p">))</span>
                <span class="n">fmt</span><span class="p">,</span> <span class="n">arg</span> <span class="o">=</span> <span class="n">lhs</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">fmt</span> <span class="o">%</span> <span class="nb">float</span><span class="p">(</span><span class="n">arg</span><span class="p">),</span> <span class="n">rhs</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">fmt</span> <span class="o">%</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="n">arg</span><span class="p">),</span> <span class="s">&#39;-&#39;</span> <span class="o">+</span> <span class="n">rhs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_issue5864</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="FormatTestCase.test_issue5864"><a class="viewcode-back" href="../../test.html#test.test_float.FormatTestCase.test_issue5864">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">123.456</span><span class="p">,</span> <span class="s">&#39;.4&#39;</span><span class="p">),</span> <span class="s">&#39;123.5&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">1234.56</span><span class="p">,</span> <span class="s">&#39;.4&#39;</span><span class="p">),</span> <span class="s">&#39;1.235e+03&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">12345.6</span><span class="p">,</span> <span class="s">&#39;.4&#39;</span><span class="p">),</span> <span class="s">&#39;1.235e+04&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ReprTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="ReprTestCase"><a class="viewcode-back" href="../../test.html#test.test_float.ReprTestCase">[docs]</a>    <span class="k">def</span> <span class="nf">test_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="ReprTestCase.test_repr"><a class="viewcode-back" href="../../test.html#test.test_float.ReprTestCase.test_repr">[docs]</a>        <span class="n">floats_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">__file__</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span>
                           <span class="s">&#39;floating_points.txt&#39;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">floats_file</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;#&#39;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">v</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">eval</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">v</span><span class="p">)))</span>
        <span class="n">floats_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s">&#39;float_repr_style&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;short&#39;</span><span class="p">,</span></div>
                         <span class="s">&quot;applies only when using short float repr style&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_short_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="ReprTestCase.test_short_repr"><a class="viewcode-back" href="../../test.html#test.test_float.ReprTestCase.test_short_repr">[docs]</a>        <span class="c"># test short float repr introduced in Python 3.1.  One aspect</span>
        <span class="c"># of this repr is that we get some degree of str -&gt; float -&gt;</span>
        <span class="c"># str roundtripping.  In particular, for any numeric string</span>
        <span class="c"># containing 15 or fewer significant digits, those exact same</span>
        <span class="c"># digits (modulo trailing zeros) should appear in the output.</span>
        <span class="c"># No more repr(0.03) -&gt; &quot;0.029999999999999999&quot;!</span>

        <span class="n">test_strings</span> <span class="o">=</span> <span class="p">[</span>
            <span class="c"># output always includes *either* a decimal point and at</span>
            <span class="c"># least one digit after that point, or an exponent.</span>
            <span class="s">&#39;0.0&#39;</span><span class="p">,</span>
            <span class="s">&#39;1.0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0.01&#39;</span><span class="p">,</span>
            <span class="s">&#39;0.02&#39;</span><span class="p">,</span>
            <span class="s">&#39;0.03&#39;</span><span class="p">,</span>
            <span class="s">&#39;0.04&#39;</span><span class="p">,</span>
            <span class="s">&#39;0.05&#39;</span><span class="p">,</span>
            <span class="s">&#39;1.23456789&#39;</span><span class="p">,</span>
            <span class="s">&#39;10.0&#39;</span><span class="p">,</span>
            <span class="s">&#39;100.0&#39;</span><span class="p">,</span>
            <span class="c"># values &gt;= 1e16 get an exponent...</span>
            <span class="s">&#39;1000000000000000.0&#39;</span><span class="p">,</span>
            <span class="s">&#39;9999999999999990.0&#39;</span><span class="p">,</span>
            <span class="s">&#39;1e+16&#39;</span><span class="p">,</span>
            <span class="s">&#39;1e+17&#39;</span><span class="p">,</span>
            <span class="c"># ... and so do values &lt; 1e-4</span>
            <span class="s">&#39;0.001&#39;</span><span class="p">,</span>
            <span class="s">&#39;0.001001&#39;</span><span class="p">,</span>
            <span class="s">&#39;0.00010000000000001&#39;</span><span class="p">,</span>
            <span class="s">&#39;0.0001&#39;</span><span class="p">,</span>
            <span class="s">&#39;9.999999999999e-05&#39;</span><span class="p">,</span>
            <span class="s">&#39;1e-05&#39;</span><span class="p">,</span>
            <span class="c"># values designed to provoke failure if the FPU rounding</span>
            <span class="c"># precision isn&#39;t set correctly</span>
            <span class="s">&#39;8.72293771110361e+25&#39;</span><span class="p">,</span>
            <span class="s">&#39;7.47005307342313e+26&#39;</span><span class="p">,</span>
            <span class="s">&#39;2.86438000439698e+28&#39;</span><span class="p">,</span>
            <span class="s">&#39;8.89142905246179e+28&#39;</span><span class="p">,</span>
            <span class="s">&#39;3.08578087079232e+35&#39;</span><span class="p">,</span>
            <span class="p">]</span>

        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">test_strings</span><span class="p">:</span>
            <span class="n">negs</span> <span class="o">=</span> <span class="s">&#39;-&#39;</span><span class="o">+</span><span class="n">s</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">s</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">negs</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">negs</span><span class="p">)))</span>
            <span class="c"># Since Python 3.2, repr and str are identical</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">s</span><span class="p">)),</span> <span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">s</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">negs</span><span class="p">)),</span> <span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">negs</span><span class="p">)))</span>

<span class="nd">@support.requires_IEEE_754</span></div></div>
<span class="k">class</span> <span class="nc">RoundTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="RoundTestCase"><a class="viewcode-back" href="../../test.html#test.test_float.RoundTestCase">[docs]</a>
    <span class="k">def</span> <span class="nf">test_inf_nan</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="RoundTestCase.test_inf_nan"><a class="viewcode-back" href="../../test.html#test.test_float.RoundTestCase.test_inf_nan">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="nb">round</span><span class="p">,</span> <span class="n">INF</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="nb">round</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">round</span><span class="p">,</span> <span class="n">NAN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">round</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">round</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">round</span><span class="p">,</span> <span class="n">NAN</span><span class="p">,</span> <span class="s">&quot;ceci n&#39;est pas un integer&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">round</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">1j</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_large_n</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="RoundTestCase.test_large_n"><a class="viewcode-back" href="../../test.html#test.test_float.RoundTestCase.test_large_n">[docs]</a>        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">324</span><span class="p">,</span> <span class="mi">325</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">31</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">31</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">100</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">123.456</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="mf">123.456</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="o">-</span><span class="mf">123.456</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="o">-</span><span class="mf">123.456</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">1e300</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="mf">1e300</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">1e-320</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="mf">1e-320</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">1e150</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span> <span class="mf">1e150</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">1e300</span><span class="p">,</span> <span class="mi">307</span><span class="p">),</span> <span class="mf">1e300</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="o">-</span><span class="mf">3.1415</span><span class="p">,</span> <span class="mi">308</span><span class="p">),</span> <span class="o">-</span><span class="mf">3.1415</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">1e150</span><span class="p">,</span> <span class="mi">309</span><span class="p">),</span> <span class="mf">1e150</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">1.4e-315</span><span class="p">,</span> <span class="mi">315</span><span class="p">),</span> <span class="mf">1e-315</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_small_n</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="RoundTestCase.test_small_n"><a class="viewcode-back" href="../../test.html#test.test_float.RoundTestCase.test_small_n">[docs]</a>        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">308</span><span class="p">,</span> <span class="o">-</span><span class="mi">309</span><span class="p">,</span> <span class="o">-</span><span class="mi">400</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">**</span><span class="mi">31</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">**</span><span class="mi">31</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">**</span><span class="mi">31</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">**</span><span class="mi">100</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">123.456</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="o">-</span><span class="mf">123.456</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">1e300</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">1e-320</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_overflow</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="RoundTestCase.test_overflow"><a class="viewcode-back" href="../../test.html#test.test_float.RoundTestCase.test_overflow">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="nb">round</span><span class="p">,</span> <span class="mf">1.6e308</span><span class="p">,</span> <span class="o">-</span><span class="mi">308</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="nb">round</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.7e308</span><span class="p">,</span> <span class="o">-</span><span class="mi">308</span><span class="p">)</span>

    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s">&#39;float_repr_style&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;short&#39;</span><span class="p">,</span></div>
                         <span class="s">&quot;applies only when using short float repr style&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_previous_round_bugs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="RoundTestCase.test_previous_round_bugs"><a class="viewcode-back" href="../../test.html#test.test_float.RoundTestCase.test_previous_round_bugs">[docs]</a>        <span class="c"># particular cases that have occurred in bug reports</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">562949953421312.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                          <span class="mf">562949953421312.5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">56294995342131.5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                         <span class="mf">56294995342131.5</span><span class="p">)</span>
        <span class="c"># round-half-even</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">25.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">20.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">35.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">40.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">45.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">40.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">55.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">60.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">65.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">60.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">75.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">80.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">85.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">80.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mf">95.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="mf">100.0</span><span class="p">)</span>

    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s">&#39;float_repr_style&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;short&#39;</span><span class="p">,</span></div>
                         <span class="s">&quot;applies only when using short float repr style&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_matches_float_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="RoundTestCase.test_matches_float_format"><a class="viewcode-back" href="../../test.html#test.test_float.RoundTestCase.test_matches_float_format">[docs]</a>        <span class="c"># round should give the same results as float formatting</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">i</span><span class="o">/</span><span class="mf">1000.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.0f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.1f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.2f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.3f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">i</span><span class="o">/</span><span class="mf">1000.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.0f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.1f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.2f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.3f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.0f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.1f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.2f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;.3f&#39;</span><span class="p">)),</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_format_specials</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="RoundTestCase.test_format_specials"><a class="viewcode-back" href="../../test.html#test.test_float.RoundTestCase.test_format_specials">[docs]</a>        <span class="c"># Test formatting of nans and infs.</span>

        <span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
            <span class="c"># Test with both % and format().</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">fmt</span> <span class="o">%</span> <span class="n">value</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">fmt</span><span class="p">)</span>
            <span class="n">fmt</span> <span class="o">=</span> <span class="n">fmt</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="c"># strip off the %</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">fmt</span><span class="p">),</span> <span class="n">expected</span><span class="p">,</span> <span class="n">fmt</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">fmt</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;</span><span class="si">%e</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%g</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%.0e</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%.6f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%.20g</span><span class="s">&#39;</span><span class="p">,</span>
                    <span class="s">&#39;</span><span class="si">%#e</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%#f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%#g</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%#.20e</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%#.15f</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%#.3g</span><span class="s">&#39;</span><span class="p">]:</span>
            <span class="n">pfmt</span> <span class="o">=</span> <span class="s">&#39;%+&#39;</span> <span class="o">+</span> <span class="n">fmt</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">sfmt</span> <span class="o">=</span> <span class="s">&#39;% &#39;</span> <span class="o">+</span> <span class="n">fmt</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="n">test</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="s">&#39;inf&#39;</span><span class="p">)</span>
            <span class="n">test</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="s">&#39;-inf&#39;</span><span class="p">)</span>
            <span class="n">test</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="n">NAN</span><span class="p">,</span> <span class="s">&#39;nan&#39;</span><span class="p">)</span>
            <span class="n">test</span><span class="p">(</span><span class="n">fmt</span><span class="p">,</span> <span class="o">-</span><span class="n">NAN</span><span class="p">,</span> <span class="s">&#39;nan&#39;</span><span class="p">)</span>
            <span class="c"># When asking for a sign, it&#39;s always provided. nans are</span>
            <span class="c">#  always positive.</span>
            <span class="n">test</span><span class="p">(</span><span class="n">pfmt</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="s">&#39;+inf&#39;</span><span class="p">)</span>
            <span class="n">test</span><span class="p">(</span><span class="n">pfmt</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="s">&#39;-inf&#39;</span><span class="p">)</span>
            <span class="n">test</span><span class="p">(</span><span class="n">pfmt</span><span class="p">,</span> <span class="n">NAN</span><span class="p">,</span> <span class="s">&#39;+nan&#39;</span><span class="p">)</span>
            <span class="n">test</span><span class="p">(</span><span class="n">pfmt</span><span class="p">,</span> <span class="o">-</span><span class="n">NAN</span><span class="p">,</span> <span class="s">&#39;+nan&#39;</span><span class="p">)</span>
            <span class="c"># When using &#39; &#39; for a sign code, only infs can be negative.</span>
            <span class="c">#  Others have a space.</span>
            <span class="n">test</span><span class="p">(</span><span class="n">sfmt</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="s">&#39; inf&#39;</span><span class="p">)</span>
            <span class="n">test</span><span class="p">(</span><span class="n">sfmt</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">,</span> <span class="s">&#39;-inf&#39;</span><span class="p">)</span>
            <span class="n">test</span><span class="p">(</span><span class="n">sfmt</span><span class="p">,</span> <span class="n">NAN</span><span class="p">,</span> <span class="s">&#39; nan&#39;</span><span class="p">)</span>
            <span class="n">test</span><span class="p">(</span><span class="n">sfmt</span><span class="p">,</span> <span class="o">-</span><span class="n">NAN</span><span class="p">,</span> <span class="s">&#39; nan&#39;</span><span class="p">)</span>


<span class="c"># Beginning with Python 2.6 float has cross platform compatible</span>
<span class="c"># ways to create and represent inf and nan</span>
<span class="k">class</span> <span class="nc">InfNanTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span></div></div>
<div class="viewcode-block" id="InfNanTest"><a class="viewcode-back" href="../../test.html#test.test_float.InfNanTest">[docs]</a>    <span class="k">def</span> <span class="nf">test_inf_from_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="InfNanTest.test_inf_from_str"><a class="viewcode-back" href="../../test.html#test.test_float.InfNanTest.test_inf_from_str">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isinf</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;inf&quot;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isinf</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+inf&quot;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isinf</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-inf&quot;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isinf</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;infinity&quot;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isinf</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+infinity&quot;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isinf</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-infinity&quot;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;inf&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+inf&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-inf&quot;</span><span class="p">)),</span> <span class="s">&quot;-inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;infinity&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+infinity&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-infinity&quot;</span><span class="p">)),</span> <span class="s">&quot;-inf&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;INF&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+Inf&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-iNF&quot;</span><span class="p">)),</span> <span class="s">&quot;-inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;Infinity&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+iNfInItY&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-INFINITY&quot;</span><span class="p">)),</span> <span class="s">&quot;-inf&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;inf&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+inf&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-inf&quot;</span><span class="p">)),</span> <span class="s">&quot;-inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;infinity&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+infinity&quot;</span><span class="p">)),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-infinity&quot;</span><span class="p">)),</span> <span class="s">&quot;-inf&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;info&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;+info&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-info&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;in&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;+in&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-in&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;infinit&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;+Infin&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-INFI&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;infinitys&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;++Inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-+inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;+-infinity&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;--Infinity&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_inf_as_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="InfNanTest.test_inf_as_str"><a class="viewcode-back" href="../../test.html#test.test_float.InfNanTest.test_inf_as_str">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="mf">1e300</span> <span class="o">*</span> <span class="mf">1e300</span><span class="p">),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mf">1e300</span> <span class="o">*</span> <span class="mf">1e300</span><span class="p">),</span> <span class="s">&quot;-inf&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mf">1e300</span> <span class="o">*</span> <span class="mf">1e300</span><span class="p">),</span> <span class="s">&quot;inf&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="mf">1e300</span> <span class="o">*</span> <span class="mf">1e300</span><span class="p">),</span> <span class="s">&quot;-inf&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_nan_from_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="InfNanTest.test_nan_from_str"><a class="viewcode-back" href="../../test.html#test.test_float.InfNanTest.test_nan_from_str">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;nan&quot;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+nan&quot;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">isnan</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-nan&quot;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;nan&quot;</span><span class="p">)),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+nan&quot;</span><span class="p">)),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-nan&quot;</span><span class="p">)),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;NAN&quot;</span><span class="p">)),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+NAn&quot;</span><span class="p">)),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-NaN&quot;</span><span class="p">)),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;nan&quot;</span><span class="p">)),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;+nan&quot;</span><span class="p">)),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s">&quot;-nan&quot;</span><span class="p">)),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;nana&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;+nana&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-nana&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;na&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;+na&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-na&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;++nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;-+NAN&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;+-NaN&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="s">&quot;--nAn&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_nan_as_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="InfNanTest.test_nan_as_str"><a class="viewcode-back" href="../../test.html#test.test_float.InfNanTest.test_nan_as_str">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="mf">1e300</span> <span class="o">*</span> <span class="mf">1e300</span> <span class="o">*</span> <span class="mi">0</span><span class="p">),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mf">1e300</span> <span class="o">*</span> <span class="mf">1e300</span> <span class="o">*</span> <span class="mi">0</span><span class="p">),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mf">1e300</span> <span class="o">*</span> <span class="mf">1e300</span> <span class="o">*</span> <span class="mi">0</span><span class="p">),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="mf">1e300</span> <span class="o">*</span> <span class="mf">1e300</span> <span class="o">*</span> <span class="mi">0</span><span class="p">),</span> <span class="s">&quot;nan&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_inf_signs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="InfNanTest.test_inf_signs"><a class="viewcode-back" href="../../test.html#test.test_float.InfNanTest.test_inf_signs">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">copysign</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">copysign</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;-inf&#39;</span><span class="p">)),</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>

    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s">&#39;float_repr_style&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;short&#39;</span><span class="p">,</span></div>
                         <span class="s">&quot;applies only when using short float repr style&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_nan_signs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<div class="viewcode-block" id="InfNanTest.test_nan_signs"><a class="viewcode-back" href="../../test.html#test.test_float.InfNanTest.test_nan_signs">[docs]</a>        <span class="c"># When using the dtoa.c code, the sign of float(&#39;nan&#39;) should</span>
        <span class="c"># be predictable.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">copysign</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">copysign</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;-nan&#39;</span><span class="p">)),</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>


<span class="n">fromHex</span> <span class="o">=</span> <span class="nb">float</span><span class="o">.</span><span class="n">fromhex</span></div></div>
<span class="n">toHex</span> <span class="o">=</span> <span class="nb">float</span><span class="o">.</span><span class="n">hex</span>
<span class="k">class</span> <span class="nc">HexFloatTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="HexFloatTestCase"><a class="viewcode-back" href="../../test.html#test.test_float.HexFloatTestCase">[docs]</a>    <span class="n">MAX</span> <span class="o">=</span> <span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.fffffffffffff8p+1024&#39;</span><span class="p">)</span>  <span class="c"># max normal</span>
    <span class="n">MIN</span> <span class="o">=</span> <span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1p-1022&#39;</span><span class="p">)</span>                <span class="c"># min normal</span>
    <span class="n">TINY</span> <span class="o">=</span> <span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.0000000000001p-1022&#39;</span><span class="p">)</span> <span class="c"># min subnormal</span>
    <span class="n">EPS</span> <span class="o">=</span> <span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.0000000000001p0&#39;</span><span class="p">)</span> <span class="c"># diff between 1.0 and next float up</span>

    <span class="k">def</span> <span class="nf">identical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<div class="viewcode-block" id="HexFloatTestCase.identical"><a class="viewcode-back" href="../../test.html#test.test_float.HexFloatTestCase.identical">[docs]</a>        <span class="c"># check that floats x and y are identical, or that both</span>
        <span class="c"># are NaNs</span>
        <span class="k">if</span> <span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">or</span> <span class="n">isnan</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">isnan</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
                <span class="k">return</span>
        <span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span> <span class="ow">and</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">copysign</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">copysign</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">y</span><span class="p">)):</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%r</span><span class="s"> not identical to </span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_ends</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="HexFloatTestCase.test_ends"><a class="viewcode-back" href="../../test.html#test.test_float.HexFloatTestCase.test_ends">[docs]</a>        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MIN</span><span class="p">,</span> <span class="n">ldexp</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1022</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">TINY</span><span class="p">,</span> <span class="n">ldexp</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1074</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">EPS</span><span class="p">,</span> <span class="n">ldexp</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">52</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">MAX</span><span class="p">,</span> <span class="mf">2.</span><span class="o">*</span><span class="p">(</span><span class="n">ldexp</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">1023</span><span class="p">)</span> <span class="o">-</span> <span class="n">ldexp</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">970</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">test_invalid_inputs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="HexFloatTestCase.test_invalid_inputs"><a class="viewcode-back" href="../../test.html#test.test_float.HexFloatTestCase.test_invalid_inputs">[docs]</a>        <span class="n">invalid_inputs</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">&#39;infi&#39;</span><span class="p">,</span>   <span class="c"># misspelt infinities and nans</span>
            <span class="s">&#39;-Infinit&#39;</span><span class="p">,</span>
            <span class="s">&#39;++inf&#39;</span><span class="p">,</span>
            <span class="s">&#39;-+Inf&#39;</span><span class="p">,</span>
            <span class="s">&#39;--nan&#39;</span><span class="p">,</span>
            <span class="s">&#39;+-NaN&#39;</span><span class="p">,</span>
            <span class="s">&#39;snan&#39;</span><span class="p">,</span>
            <span class="s">&#39;NaNs&#39;</span><span class="p">,</span>
            <span class="s">&#39;nna&#39;</span><span class="p">,</span>
            <span class="s">&#39;an&#39;</span><span class="p">,</span>
            <span class="s">&#39;nf&#39;</span><span class="p">,</span>
            <span class="s">&#39;nfinity&#39;</span><span class="p">,</span>
            <span class="s">&#39;inity&#39;</span><span class="p">,</span>
            <span class="s">&#39;iinity&#39;</span><span class="p">,</span>
            <span class="s">&#39;0xnan&#39;</span><span class="p">,</span>
            <span class="s">&#39;&#39;</span><span class="p">,</span>
            <span class="s">&#39; &#39;</span><span class="p">,</span>
            <span class="s">&#39;x1.0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0xX1.0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;+ 0x1.0p0&#39;</span><span class="p">,</span> <span class="c"># internal whitespace</span>
            <span class="s">&#39;- 0x1.0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0 x1.0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x 1.0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1 2.0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;+0x1 .0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1. 0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;-0x1.0 1p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;-0x1.0 p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;+0x1.0p +0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1.0p -0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1.0p 0&#39;</span><span class="p">,</span>
            <span class="s">&#39;+0x1.0p+ 0&#39;</span><span class="p">,</span>
            <span class="s">&#39;-0x1.0p- 0&#39;</span><span class="p">,</span>
            <span class="s">&#39;++0x1.0p-0&#39;</span><span class="p">,</span> <span class="c"># double signs</span>
            <span class="s">&#39;--0x1.0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;+-0x1.0p+0&#39;</span><span class="p">,</span>
            <span class="s">&#39;-+0x1.0p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1.0p++0&#39;</span><span class="p">,</span>
            <span class="s">&#39;+0x1.0p+-0&#39;</span><span class="p">,</span>
            <span class="s">&#39;-0x1.0p-+0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1.0p--0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1.0.p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x.p0&#39;</span><span class="p">,</span> <span class="c"># no hex digits before or after point</span>
            <span class="s">&#39;0x1,p0&#39;</span><span class="p">,</span> <span class="c"># wrong decimal point character</span>
            <span class="s">&#39;0x1pa&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1p</span><span class="se">\uff10</span><span class="s">&#39;</span><span class="p">,</span>  <span class="c"># fullwidth Unicode digits</span>
            <span class="s">&#39;</span><span class="se">\uff10</span><span class="s">x1p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x</span><span class="se">\uff11</span><span class="s">p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1.</span><span class="se">\uff10</span><span class="s">p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1p0 </span><span class="se">\n</span><span class="s"> 0x2p0&#39;</span><span class="p">,</span>
            <span class="s">&#39;0x1p0</span><span class="se">\0</span><span class="s"> 0x1p0&#39;</span><span class="p">,</span>  <span class="c"># embedded null byte is not end of string</span>
            <span class="p">]</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">invalid_inputs</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">fromHex</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&#39;Expected float.fromhex(</span><span class="si">%r</span><span class="s">) to raise ValueError; &#39;</span>
                          <span class="s">&#39;got </span><span class="si">%r</span><span class="s"> instead&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">result</span><span class="p">))</span>


    <span class="k">def</span> <span class="nf">test_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="HexFloatTestCase.test_whitespace"><a class="viewcode-back" href="../../test.html#test.test_float.HexFloatTestCase.test_whitespace">[docs]</a>        <span class="n">value_pairs</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">,</span> <span class="n">INF</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;-Infinity&#39;</span><span class="p">,</span> <span class="o">-</span><span class="n">INF</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">,</span> <span class="n">NAN</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;1.0&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;-0x.2&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.125</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;-0.0&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="n">whitespace</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">&#39;&#39;</span><span class="p">,</span>
            <span class="s">&#39; &#39;</span><span class="p">,</span>
            <span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="s">&#39;</span><span class="se">\n</span><span class="s"> </span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="s">&#39;</span><span class="se">\f</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="s">&#39;</span><span class="se">\v</span><span class="s">&#39;</span><span class="p">,</span>
            <span class="s">&#39;</span><span class="se">\r</span><span class="s">&#39;</span>
            <span class="p">]</span>
        <span class="k">for</span> <span class="n">inp</span><span class="p">,</span> <span class="n">expected</span> <span class="ow">in</span> <span class="n">value_pairs</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">lead</span> <span class="ow">in</span> <span class="n">whitespace</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">trail</span> <span class="ow">in</span> <span class="n">whitespace</span><span class="p">:</span>
                    <span class="n">got</span> <span class="o">=</span> <span class="n">fromHex</span><span class="p">(</span><span class="n">lead</span> <span class="o">+</span> <span class="n">inp</span> <span class="o">+</span> <span class="n">trail</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">got</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">test_from_hex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="HexFloatTestCase.test_from_hex"><a class="viewcode-back" href="../../test.html#test.test_float.HexFloatTestCase.test_from_hex">[docs]</a>        <span class="n">MIN</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MIN</span><span class="p">;</span>
        <span class="n">MAX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAX</span><span class="p">;</span>
        <span class="n">TINY</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">TINY</span><span class="p">;</span>
        <span class="n">EPS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">EPS</span><span class="p">;</span>

        <span class="c"># two spellings of infinity, with optional signs; case-insensitive</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;+Inf&#39;</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-INF&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">INF</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;iNf&#39;</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;Infinity&#39;</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;+INFINITY&#39;</span><span class="p">),</span> <span class="n">INF</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-infinity&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">INF</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-iNFiNitY&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">INF</span><span class="p">)</span>

        <span class="c"># nans with optional sign; case insensitive</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">),</span> <span class="n">NAN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;+NaN&#39;</span><span class="p">),</span> <span class="n">NAN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-NaN&#39;</span><span class="p">),</span> <span class="n">NAN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-nAN&#39;</span><span class="p">),</span> <span class="n">NAN</span><span class="p">)</span>

        <span class="c"># variations in input format</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;1&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;+1&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;1.&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;1.0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;1.0p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;01&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;01.&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;+0x1.0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1P0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1P0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.1p4&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.1p04&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.1p004&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1p+0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1P-0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;+0x1p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x01p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1p00&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39; 0x1p0 &#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s"> 0x1p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1p0 </span><span class="se">\t</span><span class="s">&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xap0&#39;</span><span class="p">),</span> <span class="mf">10.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xAp0&#39;</span><span class="p">),</span> <span class="mf">10.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xaP0&#39;</span><span class="p">),</span> <span class="mf">10.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xAP0&#39;</span><span class="p">),</span> <span class="mf">10.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xbep0&#39;</span><span class="p">),</span> <span class="mf">190.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xBep0&#39;</span><span class="p">),</span> <span class="mf">190.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xbEp0&#39;</span><span class="p">),</span> <span class="mf">190.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0XBE0P-4&#39;</span><span class="p">),</span> <span class="mf">190.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xBEp0&#39;</span><span class="p">),</span> <span class="mf">190.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xB.Ep4&#39;</span><span class="p">),</span> <span class="mf">190.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.BEp8&#39;</span><span class="p">),</span> <span class="mf">190.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.0BEp12&#39;</span><span class="p">),</span> <span class="mf">190.0</span><span class="p">)</span>

        <span class="c"># moving the point around</span>
        <span class="n">pi</span> <span class="o">=</span> <span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.921fb54442d18p1&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.006487ed5110b46p11&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.00c90fdaa22168cp10&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.01921fb54442d18p9&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.03243f6a8885a3p8&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.06487ed5110b46p7&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.0c90fdaa22168cp6&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.1921fb54442d18p5&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.3243f6a8885a3p4&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.6487ed5110b46p3&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x.c90fdaa22168cp2&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.921fb54442d18p1&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x3.243f6a8885a3p0&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x6.487ed5110b46p-1&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xc.90fdaa22168cp-2&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x19.21fb54442d18p-3&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x32.43f6a8885a3p-4&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x64.87ed5110b46p-5&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xc9.0fdaa22168cp-6&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x192.1fb54442d18p-7&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x324.3f6a8885a3p-8&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x648.7ed5110b46p-9&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xc90.fdaa22168cp-10&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1921.fb54442d18p-11&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="c"># ...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1921fb54442d1.8p-47&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x3243f6a8885a3p-48&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x6487ed5110b46p-49&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xc90fdaa22168cp-50&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1921fb54442d18p-51&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x3243f6a8885a30p-52&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x6487ed5110b460p-53&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xc90fdaa22168c0p-54&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1921fb54442d180p-55&#39;</span><span class="p">),</span> <span class="n">pi</span><span class="p">)</span>


        <span class="c"># results that should overflow...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;-0x1p1024&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;0x1p+1025&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;+0X1p1030&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;-0x1p+1100&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;0X1p123456789123456789&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;+0X.8p+1025&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;+0x0.8p1025&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;-0x0.4p1026&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;0X2p+1023&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;0x2.p1023&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;-0x2.0p+1023&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;+0X4p+1022&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;0x1.ffffffffffffffp+1023&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;-0X1.fffffffffffff9p1023&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;0X1.fffffffffffff8p1023&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;+0x3.fffffffffffffp1022&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;0x3fffffffffffffp+970&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;0x10000000000000000p960&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">,</span> <span class="s">&#39;-0Xffffffffffffffffp960&#39;</span><span class="p">)</span>

        <span class="c"># ...and those that round to +-max float</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;+0x1.fffffffffffffp+1023&#39;</span><span class="p">),</span> <span class="n">MAX</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X1.fffffffffffff7p1023&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">MAX</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.fffffffffffff7fffffffffffffp1023&#39;</span><span class="p">),</span> <span class="n">MAX</span><span class="p">)</span>

        <span class="c"># zeros</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0p0&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0p1000&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x0p1023&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0p1024&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x0p1025&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0p2000&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0p123456789123456789&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X0p-0&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X0p-1000&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0p-1023&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X0p-1024&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x0p-1025&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x0p-1072&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0p-1073&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x0p-1074&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0p-1075&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0p-1076&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X0p-2000&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x0p-123456789123456789&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>

        <span class="c"># values that should underflow to 0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1p-1075&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X1p-1075&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x1p-123456789123456789&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000000001p-1075&#39;</span><span class="p">),</span> <span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x1.1p-1075&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.fffffffffffffffffp-1075&#39;</span><span class="p">),</span> <span class="n">TINY</span><span class="p">)</span>

        <span class="c"># check round-half-even is working correctly near 0 ...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1p-1076&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X2p-1076&#39;</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X3p-1076&#39;</span><span class="p">),</span> <span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x4p-1076&#39;</span><span class="p">),</span> <span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X5p-1076&#39;</span><span class="p">),</span> <span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X6p-1076&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x7p-1076&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X8p-1076&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X9p-1076&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xap-1076&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0Xbp-1076&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xcp-1076&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0Xdp-1076&#39;</span><span class="p">),</span> <span class="mi">3</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0Xep-1076&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0xfp-1076&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x10p-1076&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x1p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X2p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x3p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X4p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x5p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0x6p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X7p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X8p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X9p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0Xap-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0xbp-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0xcp-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0Xdp-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0xep-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0Xfp-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;-0X10p-1076&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>

        <span class="c"># ... and near MIN ...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffd6p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffd8p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffdap-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffdcp-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffdep-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffe0p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffe2p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffe4p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffe6p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffe8p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffeap-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffecp-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffeep-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff0p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff2p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff4p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff6p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">-</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff8p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffffap-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffffcp-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffffep-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000000p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000002p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000004p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000006p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000008p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000000ap-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">+</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000000cp-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">+</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000000ep-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">+</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000010p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">+</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000012p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">+</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000014p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">+</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000016p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">+</span><span class="n">TINY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000018p-1022&#39;</span><span class="p">),</span> <span class="n">MIN</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">TINY</span><span class="p">)</span>

        <span class="c"># ... and near 1.0.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff0p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff1p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0.fffffffffffff2p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff3p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0.fffffffffffff4p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0.fffffffffffff5p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0.fffffffffffff6p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff7p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffff8p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0.fffffffffffff9p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0.fffffffffffffap0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffffbp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">-</span><span class="n">EPS</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0.fffffffffffffcp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.fffffffffffffdp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X0.fffffffffffffep0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x0.ffffffffffffffp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000000p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000001p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000002p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000003p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000004p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000005p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000006p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000007p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000007ffffffffffffffffffffp0&#39;</span><span class="p">),</span>
                       <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000008p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000008000000000000000001p0&#39;</span><span class="p">),</span>
                       <span class="mi">1</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000009p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000000ap0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000000bp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.0000000000000cp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000000dp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000000ep0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.0000000000000fp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000010p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000011p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000012p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000013p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000014p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000015p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000016p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000017p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000017ffffffffffffffffffffp0&#39;</span><span class="p">),</span>
                       <span class="mf">1.0</span><span class="o">+</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000018p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.00000000000018000000000000000001p0&#39;</span><span class="p">),</span>
                       <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000019p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.0000000000001ap0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.0000000000001bp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000001cp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000001dp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.0000000000001ep0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0X1.0000000000001fp0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">fromHex</span><span class="p">(</span><span class="s">&#39;0x1.00000000000020p0&#39;</span><span class="p">),</span> <span class="mf">1.0</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">EPS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_roundtrip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></div>
<div class="viewcode-block" id="HexFloatTestCase.test_roundtrip"><a class="viewcode-back" href="../../test.html#test.test_float.HexFloatTestCase.test_roundtrip">[docs]</a>        <span class="k">def</span> <span class="nf">roundtrip</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">fromHex</span><span class="p">(</span><span class="n">toHex</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="n">NAN</span><span class="p">,</span> <span class="n">INF</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">MAX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">MIN</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">MIN</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">TINY</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">TINY</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">roundtrip</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">,</span> <span class="n">roundtrip</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">))</span>

        <span class="c"># fromHex(toHex(x)) should exactly recover x, for any non-NaN float x.</span>
        <span class="kn">import</span> <span class="nn">random</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="o">-</span><span class="mi">1200</span><span class="p">,</span> <span class="mi">1200</span><span class="p">)</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">])</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">*</span><span class="n">ldexp</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OverflowError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">identical</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">fromHex</span><span class="p">(</span><span class="n">toHex</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>


<span class="k">def</span> <span class="nf">test_main</span><span class="p">():</span></div></div>
<div class="viewcode-block" id="test_main"><a class="viewcode-back" href="../../test.html#test.test_float.test_main">[docs]</a>    <span class="n">support</span><span class="o">.</span><span class="n">run_unittest</span><span class="p">(</span>
        <span class="n">GeneralFloatCases</span><span class="p">,</span>
        <span class="n">FormatFunctionsTestCase</span><span class="p">,</span>
        <span class="n">UnknownFormatTestCase</span><span class="p">,</span>
        <span class="n">IEEEFormatTestCase</span><span class="p">,</span>
        <span class="n">FormatTestCase</span><span class="p">,</span>
        <span class="n">ReprTestCase</span><span class="p">,</span>
        <span class="n">RoundTestCase</span><span class="p">,</span>
        <span class="n">InfNanTest</span><span class="p">,</span>
        <span class="n">HexFloatTestCase</span><span class="p">,</span>
        <span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span></div>
    <span class="n">test_main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>