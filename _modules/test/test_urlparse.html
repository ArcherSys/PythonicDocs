

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_urlparse &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_urlparse</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_urlparse</h1><div class="highlight"><pre>
<span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="n">support</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">urllib.parse</span>

<span class="n">RFC1808_BASE</span> <span class="o">=</span> <span class="s">&quot;http://a/b/c/d;p?q#f&quot;</span>
<span class="n">RFC2396_BASE</span> <span class="o">=</span> <span class="s">&quot;http://a/b/c/d;p?q&quot;</span>
<span class="n">RFC3986_BASE</span> <span class="o">=</span> <span class="s">&#39;http://a/b/c/d;p?q&#39;</span>
<span class="n">SIMPLE_BASE</span>  <span class="o">=</span> <span class="s">&#39;http://a/b/c/d&#39;</span>

<span class="c"># A list of test cases.  Each test case is a two-tuple that contains</span>
<span class="c"># a string with the query and a dictionary with the expected result.</span>

<span class="n">parse_qsl_test_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="p">[]),</span>
    <span class="p">(</span><span class="s">&quot;&amp;&quot;</span><span class="p">,</span> <span class="p">[]),</span>
    <span class="p">(</span><span class="s">&quot;&amp;&amp;&quot;</span><span class="p">,</span> <span class="p">[]),</span>
    <span class="p">(</span><span class="s">&quot;=&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="s">&quot;=a&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="s">&quot;a=&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="s">&quot;a=&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="s">&quot;&amp;a=b&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="s">&quot;a=a+b&amp;b=b+c&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;a b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;b c&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="s">&quot;a=1&amp;a=2&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;2&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="p">[]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;&amp;&quot;</span><span class="p">,</span> <span class="p">[]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;&amp;&amp;&quot;</span><span class="p">,</span> <span class="p">[]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;=&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;=a&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;a=&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;a=&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;&amp;a=b&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;a=a+b&amp;b=b+c&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;a b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b c&#39;</span><span class="p">)]),</span>
    <span class="p">(</span><span class="n">b</span><span class="s">&quot;a=1&amp;a=2&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;2&#39;</span><span class="p">)]),</span>
<span class="p">]</span>

<div class="viewcode-block" id="UrlParseTestCase"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase">[docs]</a><span class="k">class</span> <span class="nc">UrlParseTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

<div class="viewcode-block" id="UrlParseTestCase.checkRoundtrips"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.checkRoundtrips">[docs]</a>    <span class="k">def</span> <span class="nf">checkRoundtrips</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">parsed</span><span class="p">,</span> <span class="n">split</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">parsed</span><span class="p">)</span>
        <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
             <span class="n">result</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">fragment</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">parsed</span><span class="p">)</span>
        <span class="c"># put it back together and it should be the same</span>
        <span class="n">result2</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result2</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result2</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">geturl</span><span class="p">())</span>

        <span class="c"># the result of geturl() is a fixpoint; we can always parse it</span>
        <span class="c"># again to get the same result:</span>
        <span class="n">result3</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">geturl</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">result</span><span class="o">.</span><span class="n">geturl</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="p">,</span>          <span class="n">result</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span>   <span class="n">result</span><span class="o">.</span><span class="n">scheme</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span>   <span class="n">result</span><span class="o">.</span><span class="n">netloc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>     <span class="n">result</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">params</span><span class="p">,</span>   <span class="n">result</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>    <span class="n">result</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">fragment</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">fragment</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">password</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">hostname</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>     <span class="n">result</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>

        <span class="c"># check the roundtrip using urlsplit() as well</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">split</span><span class="p">)</span>
        <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
             <span class="n">result</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">fragment</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">split</span><span class="p">)</span>
        <span class="n">result2</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunsplit</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result2</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result2</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">geturl</span><span class="p">())</span>

        <span class="c"># check the fixpoint property of re-parsing the result of geturl()</span>
        <span class="n">result3</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">geturl</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">result</span><span class="o">.</span><span class="n">geturl</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="p">,</span>          <span class="n">result</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span>   <span class="n">result</span><span class="o">.</span><span class="n">scheme</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span>   <span class="n">result</span><span class="o">.</span><span class="n">netloc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>     <span class="n">result</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>    <span class="n">result</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">fragment</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">fragment</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">password</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">hostname</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result3</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>     <span class="n">result</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_qsl"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_qsl">[docs]</a>    <span class="k">def</span> <span class="nf">test_qsl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">orig</span><span class="p">,</span> <span class="n">expect</span> <span class="ow">in</span> <span class="n">parse_qsl_test_cases</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">orig</span><span class="p">,</span> <span class="n">keep_blank_values</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect</span><span class="p">,</span> <span class="s">&quot;Error parsing </span><span class="si">%r</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">orig</span><span class="p">)</span>
            <span class="n">expect_without_blanks</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">expect</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">orig</span><span class="p">,</span> <span class="n">keep_blank_values</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expect_without_blanks</span><span class="p">,</span>
                            <span class="s">&quot;Error parsing </span><span class="si">%r</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">orig</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_roundtrips"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_roundtrips">[docs]</a>    <span class="k">def</span> <span class="nf">test_roundtrips</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">str_cases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;file:///tmp/junk.txt&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;file&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/tmp/junk.txt&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;file&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;/tmp/junk.txt&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;imap://mail.python.org/mbox1&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;imap&#39;</span><span class="p">,</span> <span class="s">&#39;mail.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;/mbox1&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;imap&#39;</span><span class="p">,</span> <span class="s">&#39;mail.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;/mbox1&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;mms://wms.sys.hinet.net/cts/Drama/09006251100.asf&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;mms&#39;</span><span class="p">,</span> <span class="s">&#39;wms.sys.hinet.net&#39;</span><span class="p">,</span> <span class="s">&#39;/cts/Drama/09006251100.asf&#39;</span><span class="p">,</span>
              <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;mms&#39;</span><span class="p">,</span> <span class="s">&#39;wms.sys.hinet.net&#39;</span><span class="p">,</span> <span class="s">&#39;/cts/Drama/09006251100.asf&#39;</span><span class="p">,</span>
              <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;nfs://server/path/to/file.txt&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;nfs&#39;</span><span class="p">,</span> <span class="s">&#39;server&#39;</span><span class="p">,</span> <span class="s">&#39;/path/to/file.txt&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;nfs&#39;</span><span class="p">,</span> <span class="s">&#39;server&#39;</span><span class="p">,</span> <span class="s">&#39;/path/to/file.txt&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;svn+ssh://svn.zope.org/repos/main/ZConfig/trunk/&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;svn+ssh&#39;</span><span class="p">,</span> <span class="s">&#39;svn.zope.org&#39;</span><span class="p">,</span> <span class="s">&#39;/repos/main/ZConfig/trunk/&#39;</span><span class="p">,</span>
              <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;svn+ssh&#39;</span><span class="p">,</span> <span class="s">&#39;svn.zope.org&#39;</span><span class="p">,</span> <span class="s">&#39;/repos/main/ZConfig/trunk/&#39;</span><span class="p">,</span>
              <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;git+ssh://git@github.com/user/project.git&#39;</span><span class="p">,</span>
            <span class="p">(</span><span class="s">&#39;git+ssh&#39;</span><span class="p">,</span> <span class="s">&#39;git@github.com&#39;</span><span class="p">,</span><span class="s">&#39;/user/project.git&#39;</span><span class="p">,</span>
             <span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;git+ssh&#39;</span><span class="p">,</span> <span class="s">&#39;git@github.com&#39;</span><span class="p">,</span><span class="s">&#39;/user/project.git&#39;</span><span class="p">,</span>
             <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)),</span>
            <span class="p">]</span>
        <span class="k">def</span> <span class="nf">_encode</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">),</span>
                    <span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                    <span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
        <span class="n">bytes_cases</span> <span class="o">=</span> <span class="p">[</span><span class="n">_encode</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">str_cases</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">parsed</span><span class="p">,</span> <span class="n">split</span> <span class="ow">in</span> <span class="n">str_cases</span> <span class="o">+</span> <span class="n">bytes_cases</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkRoundtrips</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">parsed</span><span class="p">,</span> <span class="n">split</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_http_roundtrips"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_http_roundtrips">[docs]</a>    <span class="k">def</span> <span class="nf">test_http_roundtrips</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># urllib.parse.urlsplit treats &#39;http:&#39; as an optimized special case,</span>
        <span class="c"># so we test both &#39;http:&#39; and &#39;https:&#39; in all the following.</span>
        <span class="c"># Three cheers for white box knowledge!</span>
        <span class="n">str_cases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;://www.python.org&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;://www.python.org#abc&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;://www.python.org?q=abc&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;q=abc&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;q=abc&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;://www.python.org/#abc&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;www.python.org&#39;</span><span class="p">,</span> <span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;://a/b/c/d;p?q#f&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;/b/c/d&#39;</span><span class="p">,</span> <span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="s">&#39;q&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">),</span>
             <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;/b/c/d;p&#39;</span><span class="p">,</span> <span class="s">&#39;q&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">)),</span>
            <span class="p">]</span>
        <span class="k">def</span> <span class="nf">_encode</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">),</span>
                    <span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                    <span class="nb">tuple</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
        <span class="n">bytes_cases</span> <span class="o">=</span> <span class="p">[</span><span class="n">_encode</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">str_cases</span><span class="p">]</span>
        <span class="n">str_schemes</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;http&#39;</span><span class="p">,</span> <span class="s">&#39;https&#39;</span><span class="p">)</span>
        <span class="n">bytes_schemes</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;http&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;https&#39;</span><span class="p">)</span>
        <span class="n">str_tests</span> <span class="o">=</span> <span class="n">str_schemes</span><span class="p">,</span> <span class="n">str_cases</span>
        <span class="n">bytes_tests</span> <span class="o">=</span> <span class="n">bytes_schemes</span><span class="p">,</span> <span class="n">bytes_cases</span>
        <span class="k">for</span> <span class="n">schemes</span><span class="p">,</span> <span class="n">test_cases</span> <span class="ow">in</span> <span class="p">(</span><span class="n">str_tests</span><span class="p">,</span> <span class="n">bytes_tests</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">scheme</span> <span class="ow">in</span> <span class="n">schemes</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">parsed</span><span class="p">,</span> <span class="n">split</span> <span class="ow">in</span> <span class="n">test_cases</span><span class="p">:</span>
                    <span class="n">url</span> <span class="o">=</span> <span class="n">scheme</span> <span class="o">+</span> <span class="n">url</span>
                    <span class="n">parsed</span> <span class="o">=</span> <span class="p">(</span><span class="n">scheme</span><span class="p">,)</span> <span class="o">+</span> <span class="n">parsed</span>
                    <span class="n">split</span> <span class="o">=</span> <span class="p">(</span><span class="n">scheme</span><span class="p">,)</span> <span class="o">+</span> <span class="n">split</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">checkRoundtrips</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">parsed</span><span class="p">,</span> <span class="n">split</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.checkJoin"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.checkJoin">[docs]</a>    <span class="k">def</span> <span class="nf">checkJoin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">relurl</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
        <span class="n">str_components</span> <span class="o">=</span> <span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">relurl</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urljoin</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">relurl</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>
        <span class="n">bytes_components</span> <span class="o">=</span> <span class="n">baseb</span><span class="p">,</span> <span class="n">relurlb</span><span class="p">,</span> <span class="n">expectedb</span> <span class="o">=</span> <span class="p">[</span>
                            <span class="n">x</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">str_components</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urljoin</span><span class="p">(</span><span class="n">baseb</span><span class="p">,</span> <span class="n">relurlb</span><span class="p">),</span> <span class="n">expectedb</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_unparse_parse"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_unparse_parse">[docs]</a>    <span class="k">def</span> <span class="nf">test_unparse_parse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">str_cases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Python&#39;</span><span class="p">,</span> <span class="s">&#39;./Python&#39;</span><span class="p">,</span><span class="s">&#39;x-newscheme://foo.com/stuff&#39;</span><span class="p">,</span><span class="s">&#39;x://y&#39;</span><span class="p">,</span><span class="s">&#39;x:/y&#39;</span><span class="p">,</span><span class="s">&#39;x:/&#39;</span><span class="p">,</span><span class="s">&#39;/&#39;</span><span class="p">,]</span>
        <span class="n">bytes_cases</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">str_cases</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">str_cases</span> <span class="o">+</span> <span class="n">bytes_cases</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunsplit</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">u</span><span class="p">)),</span> <span class="n">u</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">u</span><span class="p">)),</span> <span class="n">u</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_RFC1808"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_RFC1808">[docs]</a>    <span class="k">def</span> <span class="nf">test_RFC1808</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># &quot;normal&quot; cases from RFC 1808:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g:h&#39;</span><span class="p">,</span> <span class="s">&#39;g:h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;./g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g/&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;/g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;//g&#39;</span><span class="p">,</span> <span class="s">&#39;http://g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g?y&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g?y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g?y/./x&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g?y/./x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;#s&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/d;p?q#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g#s&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g#s/./x&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g#s/./x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g?y#s&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g?y#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g;x&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g;x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g;x?y#s&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g;x?y#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;./&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;..&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;../&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;../..&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;../../&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;../../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/g&#39;</span><span class="p">)</span>

        <span class="c"># &quot;abnormal&quot; cases from RFC 1808:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/d;p?q#f&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;../../../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/../g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;../../../../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/../../g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;/./g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/./g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;/../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/../g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g.&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;.g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/.g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g..&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g..&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;..g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/..g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;./../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;./g/.&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g/./h&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g/h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;g/../h&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/h&#39;</span><span class="p">)</span>

        <span class="c"># RFC 1808 and RFC 1630 disagree on these (according to RFC 1808),</span>
        <span class="c"># so we&#39;ll not actually run these tests (which expect 1808 behavior).</span>
        <span class="c">#self.checkJoin(RFC1808_BASE, &#39;http:g&#39;, &#39;http:g&#39;)</span>
        <span class="c">#self.checkJoin(RFC1808_BASE, &#39;http:&#39;, &#39;http:&#39;)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_RFC2368"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_RFC2368">[docs]</a>    <span class="k">def</span> <span class="nf">test_RFC2368</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue 11467: path that starts with a number is not parsed correctly</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&#39;mailto:1337@example.org&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">&#39;mailto&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;1337@example.org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_RFC2396"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_RFC2396">[docs]</a>    <span class="k">def</span> <span class="nf">test_RFC2396</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># cases from RFC 2396</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g:h&#39;</span><span class="p">,</span> <span class="s">&#39;g:h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;./g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g/&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;/g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;//g&#39;</span><span class="p">,</span> <span class="s">&#39;http://g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g?y&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g?y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;#s&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/d;p?q#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g#s&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g?y#s&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g?y#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g;x&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g;x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g;x?y#s&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g;x?y#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;./&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;..&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;../&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;../..&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;../../&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;../../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">RFC2396_BASE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;../../../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/../g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;../../../../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/../../g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;/./g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/./g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;/../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/../g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g.&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;.g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/.g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g..&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g..&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;..g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/..g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;./../g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;./g/.&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g/./h&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g/h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g/../h&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g;x=1/./y&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g;x=1/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g;x=1/../y&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g?y/./x&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g?y/./x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g?y/../x&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g?y/../x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g#s/./x&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g#s/./x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;g#s/../x&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g#s/../x&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_RFC3986"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_RFC3986">[docs]</a>    <span class="k">def</span> <span class="nf">test_RFC3986</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test cases from RFC3986</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;?y&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/d;p?y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;;x&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/;x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g:h&#39;</span><span class="p">,</span><span class="s">&#39;g:h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;./g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g/&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;/g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;//g&#39;</span><span class="p">,</span><span class="s">&#39;http://g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;?y&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/d;p?y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g?y&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g?y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;#s&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/d;p?q#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g#s&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g?y#s&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g?y#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;;x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/;x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g;x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g;x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g;x?y#s&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g;x?y#s&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/d;p?q&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;./&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;..&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;../&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;../g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;../..&#39;</span><span class="p">,</span><span class="s">&#39;http://a/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;../../&#39;</span><span class="p">,</span><span class="s">&#39;http://a/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;../../g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/g&#39;</span><span class="p">)</span>

        <span class="c">#Abnormal Examples</span>

        <span class="c"># The &#39;abnormal scenarios&#39; are incompatible with RFC2986 parsing</span>
        <span class="c"># Tests are here for reference.</span>

        <span class="c">#self.checkJoin(RFC3986_BASE, &#39;../../../g&#39;,&#39;http://a/g&#39;)</span>
        <span class="c">#self.checkJoin(RFC3986_BASE, &#39;../../../../g&#39;,&#39;http://a/g&#39;)</span>
        <span class="c">#self.checkJoin(RFC3986_BASE, &#39;/./g&#39;,&#39;http://a/g&#39;)</span>
        <span class="c">#self.checkJoin(RFC3986_BASE, &#39;/../g&#39;,&#39;http://a/g&#39;)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g.&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;.g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/.g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g..&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g..&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;..g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/..g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;./../g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;./g/.&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g/./h&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g/h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g/../h&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g;x=1/./y&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g;x=1/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g;x=1/../y&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g?y/./x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g?y/./x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g?y/../x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g?y/../x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g#s/./x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g#s/./x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;g#s/../x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g#s/../x&#39;</span><span class="p">)</span>
        <span class="c">#self.checkJoin(RFC3986_BASE, &#39;http:g&#39;,&#39;http:g&#39;) # strict parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">RFC3986_BASE</span><span class="p">,</span> <span class="s">&#39;http:g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span> <span class="c">#relaxed parser</span>

        <span class="c"># Test for issue9721</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="s">&#39;http://a/b/c/de&#39;</span><span class="p">,</span> <span class="s">&#39;;x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/;x&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_urljoins"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_urljoins">[docs]</a>    <span class="k">def</span> <span class="nf">test_urljoins</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;g:h&#39;</span><span class="p">,</span><span class="s">&#39;g:h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;http:g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;http:&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;./g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;g/&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;/g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;//g&#39;</span><span class="p">,</span><span class="s">&#39;http://g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;?y&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/d?y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;g?y&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g?y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;g?y/./x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g?y/./x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;.&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;./&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;..&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;../&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;../g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;../..&#39;</span><span class="p">,</span><span class="s">&#39;http://a/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;../../g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;../../../g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/../g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;./../g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;./g/.&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g/&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;/./g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/./g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;g/./h&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g/h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;g/../h&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/h&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;http:g&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;http:&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;http:?y&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/d?y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;http:g?y&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g?y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="n">SIMPLE_BASE</span><span class="p">,</span> <span class="s">&#39;http:g?y/./x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g?y/./x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="s">&#39;http:///&#39;</span><span class="p">,</span> <span class="s">&#39;..&#39;</span><span class="p">,</span><span class="s">&#39;http:///&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/g?y/./x&#39;</span><span class="p">,</span><span class="s">&#39;http://a/b/c/g?y/./x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/./g&#39;</span><span class="p">,</span> <span class="s">&#39;http://a/./g&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="s">&#39;svn://pathtorepo/dir1&#39;</span><span class="p">,</span> <span class="s">&#39;dir2&#39;</span><span class="p">,</span> <span class="s">&#39;svn://pathtorepo/dir2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkJoin</span><span class="p">(</span><span class="s">&#39;svn+ssh://pathtorepo/dir1&#39;</span><span class="p">,</span> <span class="s">&#39;dir2&#39;</span><span class="p">,</span> <span class="s">&#39;svn+ssh://pathtorepo/dir2&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_RFC2732"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_RFC2732">[docs]</a>    <span class="k">def</span> <span class="nf">test_RFC2732</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">str_cases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;http://Test.python.org:5432/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;test.python.org&#39;</span><span class="p">,</span> <span class="mi">5432</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://12.34.56.78:5432/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;12.34.56.78&#39;</span><span class="p">,</span> <span class="mi">5432</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[::1]:5432/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;::1&#39;</span><span class="p">,</span> <span class="mi">5432</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[dead:beef::1]:5432/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;dead:beef::1&#39;</span><span class="p">,</span> <span class="mi">5432</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[dead:beef::]:5432/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;dead:beef::&#39;</span><span class="p">,</span> <span class="mi">5432</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[dead:beef:cafe:5417:affe:8FA3:deaf:feed]:5432/foo/&#39;</span><span class="p">,</span>
             <span class="s">&#39;dead:beef:cafe:5417:affe:8fa3:deaf:feed&#39;</span><span class="p">,</span> <span class="mi">5432</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[::12.34.56.78]:5432/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;::12.34.56.78&#39;</span><span class="p">,</span> <span class="mi">5432</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[::ffff:12.34.56.78]:5432/foo/&#39;</span><span class="p">,</span>
             <span class="s">&#39;::ffff:12.34.56.78&#39;</span><span class="p">,</span> <span class="mi">5432</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://Test.python.org/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;test.python.org&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://12.34.56.78/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;12.34.56.78&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[::1]/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;::1&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[dead:beef::1]/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;dead:beef::1&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[dead:beef::]/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;dead:beef::&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[dead:beef:cafe:5417:affe:8FA3:deaf:feed]/foo/&#39;</span><span class="p">,</span>
             <span class="s">&#39;dead:beef:cafe:5417:affe:8fa3:deaf:feed&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[::12.34.56.78]/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;::12.34.56.78&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[::ffff:12.34.56.78]/foo/&#39;</span><span class="p">,</span>
             <span class="s">&#39;::ffff:12.34.56.78&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://Test.python.org:/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;test.python.org&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://12.34.56.78:/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;12.34.56.78&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[::1]:/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;::1&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[dead:beef::1]:/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;dead:beef::1&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[dead:beef::]:/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;dead:beef::&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[dead:beef:cafe:5417:affe:8FA3:deaf:feed]:/foo/&#39;</span><span class="p">,</span>
             <span class="s">&#39;dead:beef:cafe:5417:affe:8fa3:deaf:feed&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[::12.34.56.78]:/foo/&#39;</span><span class="p">,</span> <span class="s">&#39;::12.34.56.78&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://[::ffff:12.34.56.78]:/foo/&#39;</span><span class="p">,</span>
             <span class="s">&#39;::ffff:12.34.56.78&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span>
            <span class="p">]</span>
        <span class="k">def</span> <span class="nf">_encode</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">bytes_cases</span> <span class="o">=</span> <span class="p">[</span><span class="n">_encode</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">str_cases</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">hostname</span><span class="p">,</span> <span class="n">port</span> <span class="ow">in</span> <span class="n">str_cases</span> <span class="o">+</span> <span class="n">bytes_cases</span><span class="p">:</span>
            <span class="n">urlparsed</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">((</span><span class="n">urlparsed</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">urlparsed</span><span class="o">.</span><span class="n">port</span><span class="p">)</span> <span class="p">,</span> <span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>

        <span class="n">str_cases</span> <span class="o">=</span> <span class="p">[</span>
                <span class="s">&#39;http://::12.34.56.78]/&#39;</span><span class="p">,</span>
                <span class="s">&#39;http://[::1/foo/&#39;</span><span class="p">,</span>
                <span class="s">&#39;ftp://[::1/foo/bad]/bad&#39;</span><span class="p">,</span>
                <span class="s">&#39;http://[::1/foo/bad]/bad&#39;</span><span class="p">,</span>
                <span class="s">&#39;http://[::ffff:12.34.56.78&#39;</span><span class="p">]</span>
        <span class="n">bytes_cases</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">str_cases</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">invalid_url</span> <span class="ow">in</span> <span class="n">str_cases</span> <span class="o">+</span> <span class="n">bytes_cases</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">,</span> <span class="n">invalid_url</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_urldefrag"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_urldefrag">[docs]</a>    <span class="k">def</span> <span class="nf">test_urldefrag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">str_cases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;http://python.org#frag&#39;</span><span class="p">,</span> <span class="s">&#39;http://python.org&#39;</span><span class="p">,</span> <span class="s">&#39;frag&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://python.org&#39;</span><span class="p">,</span> <span class="s">&#39;http://python.org&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://python.org/#frag&#39;</span><span class="p">,</span> <span class="s">&#39;http://python.org/&#39;</span><span class="p">,</span> <span class="s">&#39;frag&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://python.org/&#39;</span><span class="p">,</span> <span class="s">&#39;http://python.org/&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://python.org/?q#frag&#39;</span><span class="p">,</span> <span class="s">&#39;http://python.org/?q&#39;</span><span class="p">,</span> <span class="s">&#39;frag&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://python.org/?q&#39;</span><span class="p">,</span> <span class="s">&#39;http://python.org/?q&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://python.org/p#frag&#39;</span><span class="p">,</span> <span class="s">&#39;http://python.org/p&#39;</span><span class="p">,</span> <span class="s">&#39;frag&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;http://python.org/p?q&#39;</span><span class="p">,</span> <span class="s">&#39;http://python.org/p?q&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="n">RFC1808_BASE</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/d;p?q&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="n">RFC2396_BASE</span><span class="p">,</span> <span class="s">&#39;http://a/b/c/d;p?q&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">def</span> <span class="nf">_encode</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)(</span><span class="n">x</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;ascii&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">)</span>
        <span class="n">bytes_cases</span> <span class="o">=</span> <span class="p">[</span><span class="n">_encode</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">str_cases</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">defrag</span><span class="p">,</span> <span class="n">frag</span> <span class="ow">in</span> <span class="n">str_cases</span> <span class="o">+</span> <span class="n">bytes_cases</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urldefrag</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">url</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">(</span><span class="n">defrag</span><span class="p">,</span> <span class="n">frag</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">defrag</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">fragment</span><span class="p">,</span> <span class="n">frag</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_urlsplit_attributes"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_urlsplit_attributes">[docs]</a>    <span class="k">def</span> <span class="nf">test_urlsplit_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&quot;HTTP://WWW.PYTHON.ORG/doc/#frag&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="s">&quot;WWW.PYTHON.ORG&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&quot;/doc/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fragment</span><span class="p">,</span> <span class="s">&quot;frag&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="s">&quot;www.python.org&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="c"># geturl() won&#39;t return exactly the original URL in this case</span>
        <span class="c"># since the scheme is always case-normalized</span>
        <span class="c"># We handle this by ignoring the first 4 characters of the URL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">()[</span><span class="mi">4</span><span class="p">:],</span> <span class="n">url</span><span class="p">[</span><span class="mi">4</span><span class="p">:])</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s">&quot;http://User:Pass@www.python.org:080/doc/?query=yes#frag&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="s">&quot;User:Pass@www.python.org:080&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&quot;/doc/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="s">&quot;query=yes&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fragment</span><span class="p">,</span> <span class="s">&quot;frag&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="s">&quot;User&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="s">&quot;Pass&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="s">&quot;www.python.org&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">url</span><span class="p">)</span>

        <span class="c"># Addressing issue1698, which suggests Username can contain</span>
        <span class="c"># &quot;@&quot; characters.  Though not RFC compliant, many ftp sites allow</span>
        <span class="c"># and request email addresses as usernames.</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s">&quot;http://User@example.com:Pass@www.python.org:080/doc/?query=yes#frag&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="s">&quot;User@example.com:Pass@www.python.org:080&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&quot;/doc/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="s">&quot;query=yes&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fragment</span><span class="p">,</span> <span class="s">&quot;frag&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="s">&quot;User@example.com&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="s">&quot;Pass&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="s">&quot;www.python.org&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">url</span><span class="p">)</span>

        <span class="c"># And check them all again, only with bytes this time</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;HTTP://WWW.PYTHON.ORG/doc/#frag&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;WWW.PYTHON.ORG&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;/doc/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fragment</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;frag&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">()[</span><span class="mi">4</span><span class="p">:],</span> <span class="n">url</span><span class="p">[</span><span class="mi">4</span><span class="p">:])</span>

        <span class="n">url</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;http://User:Pass@www.python.org:080/doc/?query=yes#frag&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;User:Pass@www.python.org:080&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;/doc/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;query=yes&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fragment</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;frag&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;User&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;Pass&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">url</span><span class="p">)</span>

        <span class="n">url</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;http://User@example.com:Pass@www.python.org:080/doc/?query=yes#frag&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;User@example.com:Pass@www.python.org:080&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;/doc/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">query</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;query=yes&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">fragment</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;frag&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;User@example.com&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;Pass&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">url</span><span class="p">)</span>

        <span class="c"># Verify an illegal port is returned as None</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;HTTP://WWW.PYTHON.ORG:65536/doc/#frag&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_attributes_bad_port"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_attributes_bad_port">[docs]</a>    <span class="k">def</span> <span class="nf">test_attributes_bad_port</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Check handling of non-integer ports.&quot;&quot;&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="s">&quot;http://www.example.net:foo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="s">&quot;www.example.net:foo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>

        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;http://www.example.net:foo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="s">&quot;www.example.net:foo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>

        <span class="c"># Once again, repeat ourselves to test bytes</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;http://www.example.net:foo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;www.example.net:foo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>

        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;http://www.example.net:foo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;www.example.net:foo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_attributes_without_netloc"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_attributes_without_netloc">[docs]</a>    <span class="k">def</span> <span class="nf">test_attributes_without_netloc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># This example is straight from RFC 3261.  It looks like it</span>
        <span class="c"># should allow the username, hostname, and port to be filled</span>
        <span class="c"># in, but doesn&#39;t.  Since it&#39;s a URI and doesn&#39;t use the</span>
        <span class="c"># scheme://netloc syntax, the netloc and related attributes</span>
        <span class="c"># should be left empty.</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="s">&quot;sip:alice@atlanta.com;maddr=239.255.255.1;ttl=15&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">uri</span><span class="p">)</span>

        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">uri</span><span class="p">)</span>

        <span class="c"># You guessed it, repeating the test with bytes input</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;sip:alice@atlanta.com;maddr=239.255.255.1;ttl=15&quot;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">uri</span><span class="p">)</span>

        <span class="n">p</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">netloc</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">geturl</span><span class="p">(),</span> <span class="n">uri</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_noslash"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_noslash">[docs]</a>    <span class="k">def</span> <span class="nf">test_noslash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue 1637: http://foo.com?query is legal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;http://example.com?blahblah=/foo&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s">&#39;http&#39;</span><span class="p">,</span> <span class="s">&#39;example.com&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;blahblah=/foo&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;http://example.com?blahblah=/foo&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="n">b</span><span class="s">&#39;http&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;example.com&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;blahblah=/foo&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_withoutscheme"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_withoutscheme">[docs]</a>    <span class="k">def</span> <span class="nf">test_withoutscheme</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test urlparse without scheme</span>
        <span class="c"># Issue 754016: urlparse goes wrong with IP:port without scheme</span>
        <span class="c"># RFC 1808 specifies that netloc should start with //, urlparse expects</span>
        <span class="c"># the same, otherwise it classifies the portion of url as path.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;path&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;path&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;//www.python.org:80&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;www.python.org:80&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;http://www.python.org:80&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">&#39;http&#39;</span><span class="p">,</span><span class="s">&#39;www.python.org:80&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="c"># Repeat for bytes input</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;path&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;path&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;//www.python.org:80&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;www.python.org:80&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;http://www.python.org:80&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">b</span><span class="s">&#39;http&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;www.python.org:80&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_portseparator"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_portseparator">[docs]</a>    <span class="k">def</span> <span class="nf">test_portseparator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue 754016 makes changes for port separator &#39;:&#39; from scheme separator</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;path:80&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;path:80&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;http:&quot;</span><span class="p">),(</span><span class="s">&#39;http&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;https:&quot;</span><span class="p">),(</span><span class="s">&#39;https&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;http://www.python.org:80&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">&#39;http&#39;</span><span class="p">,</span><span class="s">&#39;www.python.org:80&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="c"># As usual, need to check bytes input as well</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;path:80&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;path:80&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;http:&quot;</span><span class="p">),(</span><span class="n">b</span><span class="s">&#39;http&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;https:&quot;</span><span class="p">),(</span><span class="n">b</span><span class="s">&#39;https&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;http://www.python.org:80&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="n">b</span><span class="s">&#39;http&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;www.python.org:80&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_usingsys"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_usingsys">[docs]</a>    <span class="k">def</span> <span class="nf">test_usingsys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue 3314: sys module is used in the error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlencode</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_anyscheme"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_anyscheme">[docs]</a>    <span class="k">def</span> <span class="nf">test_anyscheme</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue 7904: s3://foo.com/stuff has netloc &quot;foo.com&quot;.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;s3://foo.com/stuff&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s">&#39;s3&#39;</span><span class="p">,</span> <span class="s">&#39;foo.com&#39;</span><span class="p">,</span> <span class="s">&#39;/stuff&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;x-newscheme://foo.com/stuff&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s">&#39;x-newscheme&#39;</span><span class="p">,</span> <span class="s">&#39;foo.com&#39;</span><span class="p">,</span> <span class="s">&#39;/stuff&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;x-newscheme://foo.com/stuff?query#fragment&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s">&#39;x-newscheme&#39;</span><span class="p">,</span> <span class="s">&#39;foo.com&#39;</span><span class="p">,</span> <span class="s">&#39;/stuff&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;query&#39;</span><span class="p">,</span> <span class="s">&#39;fragment&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;x-newscheme://foo.com/stuff?query&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s">&#39;x-newscheme&#39;</span><span class="p">,</span> <span class="s">&#39;foo.com&#39;</span><span class="p">,</span> <span class="s">&#39;/stuff&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;query&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>

        <span class="c"># And for bytes...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;s3://foo.com/stuff&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="n">b</span><span class="s">&#39;s3&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;foo.com&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;/stuff&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x-newscheme://foo.com/stuff&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="n">b</span><span class="s">&#39;x-newscheme&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;foo.com&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;/stuff&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x-newscheme://foo.com/stuff?query#fragment&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="n">b</span><span class="s">&#39;x-newscheme&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;foo.com&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;/stuff&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;query&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;fragment&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x-newscheme://foo.com/stuff?query&quot;</span><span class="p">),</span>
                         <span class="p">(</span><span class="n">b</span><span class="s">&#39;x-newscheme&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;foo.com&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;/stuff&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;query&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_mixed_types_rejected"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_mixed_types_rejected">[docs]</a>    <span class="k">def</span> <span class="nf">test_mixed_types_rejected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Several functions that process either strings or ASCII encoded bytes</span>
        <span class="c"># accept multiple arguments. Check they reject mixed type input</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span> <span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span> <span class="s">&quot;http&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">((</span> <span class="n">b</span><span class="s">&quot;http&quot;</span><span class="p">,</span> <span class="s">&quot;www.python.org&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">))</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunparse</span><span class="p">((</span><span class="s">&quot;http&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">))</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunsplit</span><span class="p">((</span><span class="n">b</span><span class="s">&quot;http&quot;</span><span class="p">,</span> <span class="s">&quot;www.python.org&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">))</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlunsplit</span><span class="p">((</span><span class="s">&quot;http&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;www.python.org&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">))</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urljoin</span><span class="p">(</span><span class="s">&quot;http://python.org&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;http://python.org&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">&quot;Cannot mix str&quot;</span><span class="p">):</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urljoin</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;http://python.org&quot;</span><span class="p">,</span> <span class="s">&quot;http://python.org&quot;</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_check_result_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">str_type</span><span class="p">):</span>
        <span class="n">num_args</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">str_type</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
        <span class="n">bytes_type</span> <span class="o">=</span> <span class="n">str_type</span><span class="o">.</span><span class="n">_encoded_counterpart</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">bytes_type</span><span class="o">.</span><span class="n">_decoded_counterpart</span><span class="p">,</span> <span class="n">str_type</span><span class="p">)</span>
        <span class="n">str_args</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,)</span> <span class="o">*</span> <span class="n">num_args</span>
        <span class="n">bytes_args</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,)</span> <span class="o">*</span> <span class="n">num_args</span>
        <span class="n">str_result</span> <span class="o">=</span> <span class="n">str_type</span><span class="p">(</span><span class="o">*</span><span class="n">str_args</span><span class="p">)</span>
        <span class="n">bytes_result</span> <span class="o">=</span> <span class="n">bytes_type</span><span class="p">(</span><span class="o">*</span><span class="n">bytes_args</span><span class="p">)</span>
        <span class="n">encoding</span> <span class="o">=</span> <span class="s">&#39;ascii&#39;</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="s">&#39;strict&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">str_result</span><span class="p">,</span> <span class="n">str_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bytes_result</span><span class="o">.</span><span class="n">decode</span><span class="p">(),</span> <span class="n">str_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bytes_result</span><span class="o">.</span><span class="n">decode</span><span class="p">(),</span> <span class="n">str_result</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bytes_result</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="p">),</span> <span class="n">str_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bytes_result</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="p">),</span> <span class="n">str_result</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bytes_result</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">errors</span><span class="p">),</span> <span class="n">str_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bytes_result</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">errors</span><span class="p">),</span> <span class="n">str_result</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bytes_result</span><span class="p">,</span> <span class="n">bytes_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">str_result</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">bytes_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">str_result</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span> <span class="n">bytes_result</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">str_result</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="p">),</span> <span class="n">bytes_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">str_result</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="p">),</span> <span class="n">bytes_result</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">str_result</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">errors</span><span class="p">),</span> <span class="n">bytes_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">str_result</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="p">,</span> <span class="n">errors</span><span class="p">),</span> <span class="n">bytes_result</span><span class="p">)</span>

<div class="viewcode-block" id="UrlParseTestCase.test_result_pairs"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_result_pairs">[docs]</a>    <span class="k">def</span> <span class="nf">test_result_pairs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check encoding and decoding between result pairs</span>
        <span class="n">result_types</span> <span class="o">=</span> <span class="p">[</span>
          <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">DefragResult</span><span class="p">,</span>
          <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">SplitResult</span><span class="p">,</span>
          <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">ParseResult</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">result_type</span> <span class="ow">in</span> <span class="n">result_types</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_check_result_type</span><span class="p">(</span><span class="n">result_type</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_parse_qs_encoding"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_parse_qs_encoding">[docs]</a>    <span class="k">def</span> <span class="nf">test_parse_qs_encoding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qs</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="si">%E</span><span class="s">9&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;latin-1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\u0141\xE9</span><span class="s">&#39;</span><span class="p">]})</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qs</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="s">%C3%A9&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\u0141\xE9</span><span class="s">&#39;</span><span class="p">]})</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qs</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="s">%C3%A9&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\u0141\ufffd\ufffd</span><span class="s">&#39;</span><span class="p">]})</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qs</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="si">%E</span><span class="s">9-&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\u0141\ufffd</span><span class="s">-&#39;</span><span class="p">]})</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qs</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="si">%E</span><span class="s">9-&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;ascii&quot;</span><span class="p">,</span>
                                                          <span class="n">errors</span><span class="o">=</span><span class="s">&quot;ignore&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;key&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;</span><span class="se">\u0141</span><span class="s">-&#39;</span><span class="p">]})</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_parse_qsl_encoding"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_parse_qsl_encoding">[docs]</a>    <span class="k">def</span> <span class="nf">test_parse_qsl_encoding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="si">%E</span><span class="s">9&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;latin-1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;key&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\u0141\xE9</span><span class="s">&#39;</span><span class="p">)])</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="s">%C3%A9&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;key&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\u0141\xE9</span><span class="s">&#39;</span><span class="p">)])</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="s">%C3%A9&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;key&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\u0141\ufffd\ufffd</span><span class="s">&#39;</span><span class="p">)])</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="si">%E</span><span class="s">9-&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;ascii&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;key&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\u0141\ufffd</span><span class="s">-&#39;</span><span class="p">)])</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="s">&quot;key=</span><span class="se">\u0141</span><span class="si">%E</span><span class="s">9-&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;ascii&quot;</span><span class="p">,</span>
                                                          <span class="n">errors</span><span class="o">=</span><span class="s">&quot;ignore&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">[(</span><span class="s">&#39;key&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\u0141</span><span class="s">-&#39;</span><span class="p">)])</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_splitport"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_splitport">[docs]</a>    <span class="k">def</span> <span class="nf">test_splitport</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">splitport</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">splitport</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitport</span><span class="p">(</span><span class="s">&#39;parrot:88&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="s">&#39;88&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitport</span><span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitport</span><span class="p">(</span><span class="s">&#39;parrot:&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitport</span><span class="p">(</span><span class="s">&#39;127.0.0.1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitport</span><span class="p">(</span><span class="s">&#39;parrot:cheese&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot:cheese&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_splitnport"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_splitnport">[docs]</a>    <span class="k">def</span> <span class="nf">test_splitnport</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">splitnport</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">splitnport</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitnport</span><span class="p">(</span><span class="s">&#39;parrot:88&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="mi">88</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitnport</span><span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitnport</span><span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="mi">55</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="mi">55</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitnport</span><span class="p">(</span><span class="s">&#39;parrot:&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitnport</span><span class="p">(</span><span class="s">&#39;parrot:&#39;</span><span class="p">,</span> <span class="mi">55</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="mi">55</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitnport</span><span class="p">(</span><span class="s">&#39;127.0.0.1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitnport</span><span class="p">(</span><span class="s">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="mi">55</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="mi">55</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitnport</span><span class="p">(</span><span class="s">&#39;parrot:cheese&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">splitnport</span><span class="p">(</span><span class="s">&#39;parrot:cheese&#39;</span><span class="p">,</span> <span class="mi">55</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;parrot&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_splitquery"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_splitquery">[docs]</a>    <span class="k">def</span> <span class="nf">test_splitquery</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Normal cases are exercised by other tests; ensure that we also</span>
        <span class="c"># catch cases with no port specified (testcase ensuring coverage)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">splitquery</span><span class="p">(</span><span class="s">&#39;http://python.org/fake?foo=bar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;http://python.org/fake&#39;</span><span class="p">,</span> <span class="s">&#39;foo=bar&#39;</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">splitquery</span><span class="p">(</span><span class="s">&#39;http://python.org/fake?foo=bar?&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;http://python.org/fake?foo=bar&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">splitquery</span><span class="p">(</span><span class="s">&#39;http://python.org/fake&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;http://python.org/fake&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_splitvalue"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_splitvalue">[docs]</a>    <span class="k">def</span> <span class="nf">test_splitvalue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Normal cases are exercised by other tests; test pathological cases</span>
        <span class="c"># with no key/value pairs. (testcase ensuring coverage)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">splitvalue</span><span class="p">(</span><span class="s">&#39;foo=bar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">splitvalue</span><span class="p">(</span><span class="s">&#39;foo=&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">splitvalue</span><span class="p">(</span><span class="s">&#39;foobar&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;foobar&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_to_bytes"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_to_bytes">[docs]</a>    <span class="k">def</span> <span class="nf">test_to_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="s">&#39;http://www.python.org&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s">&#39;http://www.python.org&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">UnicodeError</span><span class="p">,</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">,</span>
                          <span class="s">&#39;http://www.python.org/medi</span><span class="se">\u00e6</span><span class="s">val&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_urlencode_sequences"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_urlencode_sequences">[docs]</a>    <span class="k">def</span> <span class="nf">test_urlencode_sequences</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Other tests incidentally urlencode things; test non-covered cases:</span>
        <span class="c"># Sequence and object values.</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlencode</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s">&#39;b&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)},</span> <span class="bp">True</span><span class="p">)</span>
        <span class="c"># we cannot rely on ordering here</span>
        <span class="k">assert</span> <span class="nb">set</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;&amp;&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="p">{</span><span class="s">&#39;a=1&#39;</span><span class="p">,</span> <span class="s">&#39;a=2&#39;</span><span class="p">,</span> <span class="s">&#39;b=3&#39;</span><span class="p">,</span> <span class="s">&#39;b=4&#39;</span><span class="p">,</span> <span class="s">&#39;b=5&#39;</span><span class="p">}</span>

        <span class="k">class</span> <span class="nc">Trivial</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="s">&#39;trivial&#39;</span>

        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlencode</span><span class="p">({</span><span class="s">&#39;a&#39;</span><span class="p">:</span> <span class="n">Trivial</span><span class="p">()},</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s">&#39;a=trivial&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_quote_from_bytes"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_quote_from_bytes">[docs]</a>    <span class="k">def</span> <span class="nf">test_quote_from_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote_from_bytes</span><span class="p">,</span> <span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote_from_bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;archaeological arcana&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s">&#39;archaeological%20arcana&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote_from_bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_unquote_to_bytes"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_unquote_to_bytes">[docs]</a>    <span class="k">def</span> <span class="nf">test_unquote_to_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">unquote_to_bytes</span><span class="p">(</span><span class="s">&#39;abc</span><span class="si">%20d</span><span class="s">ef&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abc def&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">unquote_to_bytes</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_quote_errors"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_quote_errors">[docs]</a>    <span class="k">def</span> <span class="nf">test_quote_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;foo&#39;</span><span class="p">,</span>
                          <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">quote</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s">&#39;strict&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_issue14072"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_issue14072">[docs]</a>    <span class="k">def</span> <span class="nf">test_issue14072</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="s">&#39;tel:+31-641044153&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&#39;tel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;+31-641044153&#39;</span><span class="p">)</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="s">&#39;tel:+31641044153&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p2</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&#39;tel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p2</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;+31641044153&#39;</span><span class="p">)</span>
        <span class="c"># assert the behavior for urlparse</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&#39;tel:+31-641044153&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&#39;tel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;+31-641044153&#39;</span><span class="p">)</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&#39;tel:+31641044153&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p2</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&#39;tel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p2</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;+31641044153&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_telurl_params"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_telurl_params">[docs]</a>    <span class="k">def</span> <span class="nf">test_telurl_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&#39;tel:123-4;phone-context=+1-650-516&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&#39;tel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;123-4&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="s">&#39;phone-context=+1-650-516&#39;</span><span class="p">)</span>

        <span class="n">p1</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&#39;tel:+1-201-555-0123&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&#39;tel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;+1-201-555-0123&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

        <span class="n">p1</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&#39;tel:7042;phone-context=example.com&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&#39;tel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;7042&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="s">&#39;phone-context=example.com&#39;</span><span class="p">)</span>

        <span class="n">p1</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="s">&#39;tel:863-1234;phone-context=+1-914-555&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">scheme</span><span class="p">,</span> <span class="s">&#39;tel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;863-1234&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="s">&#39;phone-context=+1-914-555&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_unwrap"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_unwrap">[docs]</a>    <span class="k">def</span> <span class="nf">test_unwrap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">unwrap</span><span class="p">(</span><span class="s">&#39;&lt;URL:type://host/path&gt;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s">&#39;type://host/path&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="UrlParseTestCase.test_Quoter_repr"><a class="viewcode-back" href="../../test.html#test.test_urlparse.UrlParseTestCase.test_Quoter_repr">[docs]</a>    <span class="k">def</span> <span class="nf">test_Quoter_repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">quoter</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">Quoter</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">_ALWAYS_SAFE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&#39;Quoter&#39;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">quoter</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="test_main"><a class="viewcode-back" href="../../test.html#test.test_urlparse.test_main">[docs]</a><span class="k">def</span> <span class="nf">test_main</span><span class="p">():</span>
    <span class="n">support</span><span class="o">.</span><span class="n">run_unittest</span><span class="p">(</span><span class="n">UrlParseTestCase</span><span class="p">)</span>
</div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">test_main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>