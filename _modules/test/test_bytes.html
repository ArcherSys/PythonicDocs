

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_bytes &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_bytes</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_bytes</h1><div class="highlight"><pre>
<span class="sd">&quot;&quot;&quot;Unit tests for the bytes and bytearray types.</span>

<span class="sd">XXX This is a mess.  Common tests should be moved to buffer_tests.py,</span>
<span class="sd">which itself ought to be unified with string_tests.py (and the latter</span>
<span class="sd">should be modernized).</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">tempfile</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">test.support</span>
<span class="kn">import</span> <span class="nn">test.string_tests</span>
<span class="kn">import</span> <span class="nn">test.buffer_tests</span>


<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">bytes_warning</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">check_bytes_warnings</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd">@functools.wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
            <span class="k">with</span> <span class="n">test</span><span class="o">.</span><span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">BytesWarning</span><span class="p">)):</span>
                <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wrapper</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># no-op</span>
<div class="viewcode-block" id="check_bytes_warnings"><a class="viewcode-back" href="../../test.html#test.test_bytes.check_bytes_warnings">[docs]</a>    <span class="k">def</span> <span class="nf">check_bytes_warnings</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">func</span>

</div>
<div class="viewcode-block" id="Indexable"><a class="viewcode-back" href="../../test.html#test.test_bytes.Indexable">[docs]</a><span class="k">class</span> <span class="nc">Indexable</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
    <span class="k">def</span> <span class="nf">__index__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>

</div>
<div class="viewcode-block" id="BaseBytesTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest">[docs]</a><span class="k">class</span> <span class="nc">BaseBytesTest</span><span class="p">:</span>

<div class="viewcode-block" id="BaseBytesTest.test_basics"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_basics">[docs]</a>    <span class="k">def</span> <span class="nf">test_basics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_copy"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_copy">[docs]</a>    <span class="k">def</span> <span class="nf">test_copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">copy_method</span> <span class="ow">in</span> <span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">,</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">copy_method</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_empty_sequence"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_empty_sequence">[docs]</a>    <span class="k">def</span> <span class="nf">test_empty_sequence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="mi">10</span><span class="o">**</span><span class="mi">100</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="o">**</span><span class="mi">100</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_from_list"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_from_list">[docs]</a>    <span class="k">def</span> <span class="nf">test_from_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ints</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">))</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ints</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="mi">256</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="n">ints</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_from_index"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_from_index">[docs]</a>    <span class="k">def</span> <span class="nf">test_from_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">([</span><span class="n">Indexable</span><span class="p">(),</span> <span class="n">Indexable</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">Indexable</span><span class="p">(</span><span class="mi">254</span><span class="p">),</span>
                            <span class="n">Indexable</span><span class="p">(</span><span class="mi">255</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">255</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="n">Indexable</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="n">Indexable</span><span class="p">(</span><span class="mi">256</span><span class="p">)])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_from_ssize"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_from_ssize">[docs]</a>    <span class="k">def</span> <span class="nf">test_from_ssize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\x00\x00\x00\x00\x00</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="s">&#39;0&#39;</span><span class="p">,</span> <span class="s">&#39;ascii&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;0&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;0&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;0&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_constructor_type_errors"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_constructor_type_errors">[docs]</a>    <span class="k">def</span> <span class="nf">test_constructor_type_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;0&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="bp">None</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="n">C</span><span class="p">()])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_constructor_value_errors"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_constructor_value_errors">[docs]</a>    <span class="k">def</span> <span class="nf">test_constructor_value_errors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="o">**</span><span class="mi">100</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="mi">256</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="mi">257</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="o">**</span><span class="mi">100</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_compare"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_compare">[docs]</a>    <span class="k">def</span> <span class="nf">test_compare</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
        <span class="n">b2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
        <span class="n">b3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b1</span><span class="p">,</span> <span class="n">b2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b2</span> <span class="o">!=</span> <span class="n">b3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b1</span> <span class="o">&lt;=</span> <span class="n">b2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b1</span> <span class="o">&lt;=</span> <span class="n">b3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b1</span> <span class="o">&lt;</span>  <span class="n">b3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b1</span> <span class="o">&gt;=</span> <span class="n">b2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b3</span> <span class="o">&gt;=</span> <span class="n">b2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b3</span> <span class="o">&gt;</span>  <span class="n">b2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b1</span> <span class="o">!=</span> <span class="n">b2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b2</span> <span class="o">==</span> <span class="n">b3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b1</span> <span class="o">&gt;</span>  <span class="n">b2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b1</span> <span class="o">&gt;</span>  <span class="n">b3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b1</span> <span class="o">&gt;=</span> <span class="n">b3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b1</span> <span class="o">&lt;</span>  <span class="n">b2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b3</span> <span class="o">&lt;</span>  <span class="n">b2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b3</span> <span class="o">&lt;=</span> <span class="n">b2</span><span class="p">)</span>
</div>
    <span class="nd">@check_bytes_warnings</span>
<div class="viewcode-block" id="BaseBytesTest.test_compare_to_str"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_compare_to_str">[docs]</a>    <span class="k">def</span> <span class="nf">test_compare_to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Byte comparisons with unicode should always fail!</span>
        <span class="c"># Test this for all expected byte orders and Unicode character</span>
        <span class="c"># sizes.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;</span><span class="se">\0</span><span class="s">a</span><span class="se">\0</span><span class="s">b</span><span class="se">\0</span><span class="s">c&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;</span><span class="se">\0\0\0</span><span class="s">a</span><span class="se">\0\0\0</span><span class="s">b</span><span class="se">\0\0\0</span><span class="s">c&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&quot;abc&quot;</span><span class="p">,</span>
                            <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;a</span><span class="se">\0</span><span class="s">b</span><span class="se">\0</span><span class="s">c</span><span class="se">\0</span><span class="s">&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;a</span><span class="se">\0\0\0</span><span class="s">b</span><span class="se">\0\0\0</span><span class="s">c</span><span class="se">\0\0\0</span><span class="s">&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&quot;abc&quot;</span><span class="p">,</span>
                            <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">()</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">()</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_reversed"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_reversed">[docs]</a>    <span class="k">def</span> <span class="nf">test_reversed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">input</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="s">&quot;Hello&quot;</span><span class="p">))</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
        <span class="nb">input</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="nb">input</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_getslice"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_getslice">[docs]</a>    <span class="k">def</span> <span class="nf">test_getslice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">by</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;Hello, world&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;ello&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">:],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">12</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">:</span><span class="mi">100</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[:</span><span class="o">-</span><span class="mi">7</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">11</span><span class="p">:</span><span class="o">-</span><span class="mi">7</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;ello&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">7</span><span class="p">:</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="mi">12</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span><span class="mi">100</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">:</span><span class="mi">5</span><span class="p">],</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_extended_getslice"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_extended_getslice">[docs]</a>    <span class="k">def</span> <span class="nf">test_extended_getslice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Test extended slicing by comparing with list slicing.</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">255</span><span class="p">))</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">31</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">start</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">stop</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
                <span class="c"># Skip step 0 (invalid)</span>
                <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_encoding"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_encoding">[docs]</a>    <span class="k">def</span> <span class="nf">test_encoding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sample</span> <span class="o">=</span> <span class="s">&quot;Hello world</span><span class="se">\n\u1234\u5678\u9abc</span><span class="s">&quot;</span>
        <span class="k">for</span> <span class="n">enc</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;utf-8&quot;</span><span class="p">,</span> <span class="s">&quot;utf-16&quot;</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">enc</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">enc</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">UnicodeEncodeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="s">&quot;latin-1&quot;</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="s">&quot;latin-1&quot;</span><span class="p">,</span> <span class="s">&quot;ignore&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">sample</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="s">&quot;utf-8&quot;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_decode"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_decode">[docs]</a>    <span class="k">def</span> <span class="nf">test_decode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sample</span> <span class="o">=</span> <span class="s">&quot;Hello world</span><span class="se">\n\u1234\u5678\u9abc</span><span class="s">\def0\def0&quot;</span>
        <span class="k">for</span> <span class="n">enc</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&quot;utf-8&quot;</span><span class="p">,</span> <span class="s">&quot;utf-16&quot;</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">enc</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">enc</span><span class="p">),</span> <span class="n">sample</span><span class="p">)</span>
        <span class="n">sample</span> <span class="o">=</span> <span class="s">&quot;Hello world</span><span class="se">\n\x80\x81\xfe\xff</span><span class="s">&quot;</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="s">&quot;latin-1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">UnicodeDecodeError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">,</span> <span class="s">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&quot;utf-8&quot;</span><span class="p">,</span> <span class="s">&quot;ignore&quot;</span><span class="p">),</span> <span class="s">&quot;Hello world</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">errors</span><span class="o">=</span><span class="s">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">),</span>
                         <span class="s">&quot;Hello world</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="c"># Default encoding is utf-8</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xe2\x98\x83</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(),</span> <span class="s">&#39;</span><span class="se">\u2603</span><span class="s">&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_from_int"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_from_int">[docs]</a>    <span class="k">def</span> <span class="nf">test_from_int</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">())</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">10000</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_concat"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_concat">[docs]</a>    <span class="k">def</span> <span class="nf">test_concat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
        <span class="n">b2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;def&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b1</span> <span class="o">+</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abcdef&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b1</span> <span class="o">+</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;def&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;abcdef&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;def&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">b1</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;defabc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b1</span> <span class="o">+</span> <span class="s">&quot;def&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="s">&quot;abc&quot;</span> <span class="o">+</span> <span class="n">b2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_repeat"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_repeat">[docs]</a>    <span class="k">def</span> <span class="nf">test_repeat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abcabcabc&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span> <span class="o">*</span> <span class="mf">3.14</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="mf">3.14</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span>
            <span class="c"># XXX Shouldn&#39;t bytes and bytearray agree on what to raise?</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">((</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="ne">MemoryError</span><span class="p">)):</span>
                <span class="n">c</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">((</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="ne">MemoryError</span><span class="p">)):</span>
                <span class="n">b</span> <span class="o">*=</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_repeat_1char"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_repeat_1char">[docs]</a>    <span class="k">def</span> <span class="nf">test_repeat_1char</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;x&#39;</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">([</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)]</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_contains"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_contains">[docs]</a>    <span class="k">def</span> <span class="nf">test_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="mi">300</span> <span class="ow">in</span> <span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">in</span> <span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">None</span> <span class="ow">in</span> <span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))</span> <span class="ow">in</span> <span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="s">&quot;a&quot;</span> <span class="ow">in</span> <span class="n">b</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;b&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;c&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;bc&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ac&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;d&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;dab&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertNotIn</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abd&quot;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_fromhex"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_fromhex">[docs]</a>    <span class="k">def</span> <span class="nf">test_fromhex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">())</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mh">0x1a</span><span class="p">,</span> <span class="mh">0x2b</span><span class="p">,</span> <span class="mh">0x30</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="s">&#39;1a2B30&#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="s">&#39;  1A 2B  30   &#39;</span><span class="p">),</span> <span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="s">&#39;0000&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\0\0</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;1B&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">,</span> <span class="s">&#39;rt&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">,</span> <span class="s">&#39;1a b cd&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\x00</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">fromhex</span><span class="p">,</span> <span class="s">&#39;12   </span><span class="se">\x00</span><span class="s">   34&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_join"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_join">[docs]</a>    <span class="k">def</span> <span class="nf">test_join</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">([]),</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">]),</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">lst</span> <span class="ow">in</span> <span class="p">[[</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">],</span> <span class="p">[</span><span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;bc&quot;</span><span class="p">],</span> <span class="p">[</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;c&quot;</span><span class="p">],</span> <span class="p">[</span><span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;c&quot;</span><span class="p">]]:</span>
            <span class="n">lst</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="n">lst</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lst</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">lst</span><span class="p">)),</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">lst</span><span class="p">)),</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
        <span class="n">dot_join</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;.:&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">dot_join</span><span class="p">([</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;cd&quot;</span><span class="p">]),</span> <span class="n">b</span><span class="s">&quot;ab.:cd&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">dot_join</span><span class="p">([</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;cd&quot;</span><span class="p">]),</span> <span class="n">b</span><span class="s">&quot;ab.:cd&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">dot_join</span><span class="p">([</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;cd&quot;</span><span class="p">)]),</span> <span class="n">b</span><span class="s">&quot;ab.:cd&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">dot_join</span><span class="p">([</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="n">b</span><span class="s">&quot;cd&quot;</span><span class="p">]),</span> <span class="n">b</span><span class="s">&quot;ab.:cd&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">dot_join</span><span class="p">([</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;cd&quot;</span><span class="p">)]),</span> <span class="n">b</span><span class="s">&quot;ab.:cd&quot;</span><span class="p">)</span>
        <span class="c"># Stress it with many items</span>
        <span class="n">seq</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1000</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span> <span class="o">+</span> <span class="n">b</span><span class="s">&quot;.:abc&quot;</span> <span class="o">*</span> <span class="mi">999</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">dot_join</span><span class="p">(</span><span class="n">seq</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>
        <span class="c"># Error handling and cleanup when some item in the middle of the</span>
        <span class="c"># sequence has the wrong type.</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">dot_join</span><span class="p">([</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="s">&quot;cd&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;ef&quot;</span><span class="p">])</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">dot_join</span><span class="p">([</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="s">&quot;cd&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;ef&quot;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_count"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_count">[docs]</a>    <span class="k">def</span> <span class="nf">test_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">105</span>
        <span class="n">p</span> <span class="o">=</span> <span class="mi">112</span>
        <span class="n">w</span> <span class="o">=</span> <span class="mi">119</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;w&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">w</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_startswith"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_startswith">[docs]</a>    <span class="k">def</span> <span class="nf">test_startswith</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;anything&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;hello&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;hel&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;h&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;hellow&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ha&quot;</span><span class="p">))</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">([</span><span class="n">b</span><span class="s">&#39;h&#39;</span><span class="p">])</span>
        <span class="n">exc</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&#39;bytes&#39;</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&#39;tuple&#39;</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_endswith"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_endswith">[docs]</a>    <span class="k">def</span> <span class="nf">test_endswith</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;anything&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;hello&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;llo&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;o&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;whello&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;no&quot;</span><span class="p">))</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">cm</span><span class="p">:</span>
            <span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">([</span><span class="n">b</span><span class="s">&#39;o&#39;</span><span class="p">])</span>
        <span class="n">exc</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">exception</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&#39;bytes&#39;</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&#39;tuple&#39;</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_find"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_find">[docs]</a>    <span class="k">def</span> <span class="nf">test_find</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">105</span>
        <span class="n">w</span> <span class="o">=</span> <span class="mi">119</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;w&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippian&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">w</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span>
                <span class="ne">ValueError</span><span class="p">,</span> <span class="s">r&#39;byte must be in range\(0, 256\)&#39;</span><span class="p">,</span>
                <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_rfind"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_rfind">[docs]</a>    <span class="k">def</span> <span class="nf">test_rfind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">105</span>
        <span class="n">w</span> <span class="o">=</span> <span class="mi">119</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;w&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippian&#39;</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">w</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_index"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_index">[docs]</a>    <span class="k">def</span> <span class="nf">test_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">105</span>
        <span class="n">w</span> <span class="o">=</span> <span class="mi">119</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;mississippian&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_rindex"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_rindex">[docs]</a>    <span class="k">def</span> <span class="nf">test_rindex</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">105</span>
        <span class="n">w</span> <span class="o">=</span> <span class="mi">119</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;mississippian&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_replace"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_replace">[docs]</a>    <span class="k">def</span> <span class="nf">test_replace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;massassappa&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;x&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mixixippi&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_split"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_split">[docs]</a>    <span class="k">def</span> <span class="nf">test_split</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;pp&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;mi&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ippi&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;w&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="p">])</span>
        <span class="c"># with keyword args</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a|b|c|d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="n">b</span><span class="s">&#39;|&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;d&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b|c|d&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="n">b</span><span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b|c|d&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="n">b</span><span class="s">&#39;|&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b|c|d&#39;</span><span class="p">])</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a b c d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b c d&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_split_whitespace"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_split_whitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_split_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;  arf  barf  &#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\t</span><span class="s">barf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\n</span><span class="s">barf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\r</span><span class="s">barf&#39;</span><span class="p">,</span>
                  <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\f</span><span class="s">barf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\v</span><span class="s">barf&#39;</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;arf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;barf&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">None</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;arf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;barf&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;arf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;barf&#39;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;a</span><span class="se">\x1C</span><span class="s">b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;a</span><span class="se">\x1D</span><span class="s">b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;a</span><span class="se">\x1E</span><span class="s">b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;a</span><span class="se">\x1F</span><span class="s">b&#39;</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="p">[</span><span class="n">b</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;  a  bb  c  &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a  bb  c  &#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;  a  bb  c  &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;bb  c  &#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;  a  bb  c  &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;bb&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;c  &#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;  a  bb  c  &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;bb&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_split_string_error"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_split_string_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_split_string_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_split_unicodewhitespace"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_split_unicodewhitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_split_unicodewhitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;</span><span class="se">\x09\x0A\x0B\x0C\x0D\x1C\x1D\x1E\x1F</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\x1c\x1d\x1e\x1f</span><span class="s">&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_rsplit"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_rsplit">[docs]</a>    <span class="k">def</span> <span class="nf">test_rsplit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;pp&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;mi&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ippi&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;w&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="p">])</span>
        <span class="c"># with keyword args</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a|b|c|d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="n">b</span><span class="s">&#39;|&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;d&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a|b|c&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;d&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="n">b</span><span class="s">&#39;|&#39;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a|b|c&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;d&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="n">b</span><span class="s">&#39;|&#39;</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a|b|c&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;d&#39;</span><span class="p">])</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a b c d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a b c&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;d&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_rsplit_whitespace"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_rsplit_whitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_rsplit_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;  arf  barf  &#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\t</span><span class="s">barf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\n</span><span class="s">barf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\r</span><span class="s">barf&#39;</span><span class="p">,</span>
                  <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\f</span><span class="s">barf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;arf</span><span class="se">\v</span><span class="s">barf&#39;</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;arf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;barf&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="bp">None</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;arf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;barf&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;arf&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;barf&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;  a  bb  c  &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;  a  bb  c&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;  a  bb  c  &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;  a  bb&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;  a  bb  c  &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;  a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;bb&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;  a  bb  c  &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;bb&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_rsplit_string_error"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_rsplit_string_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_rsplit_string_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rsplit</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_rsplit_unicodewhitespace"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_rsplit_unicodewhitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_rsplit_unicodewhitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;</span><span class="se">\x09\x0A\x0B\x0C\x0D\x1C\x1D\x1E\x1F</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\x1c\x1d\x1e\x1f</span><span class="s">&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_partition"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_partition">[docs]</a>    <span class="k">def</span> <span class="nf">test_partition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;mi&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;issippi&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;w&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_rpartition"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_rpartition">[docs]</a>    <span class="k">def</span> <span class="nf">test_rpartition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rpartition</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;missi&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ss&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;ippi&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rpartition</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;mississipp&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rpartition</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;w&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_pickling"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_pickling">[docs]</a>    <span class="k">def</span> <span class="nf">test_pickling</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">proto</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;</span><span class="se">\xff</span><span class="s">ab</span><span class="se">\x80</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;</span><span class="se">\0\0\377\0\0</span><span class="s">&quot;</span><span class="p">:</span>
                <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
                <span class="n">ps</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">proto</span><span class="p">)</span>
                <span class="n">q</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">ps</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_iterator_pickling"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_iterator_pickling">[docs]</a>    <span class="k">def</span> <span class="nf">test_iterator_pickling</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;</span><span class="se">\xff</span><span class="s">ab</span><span class="se">\x80</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;</span><span class="se">\0\0\377\0\0</span><span class="s">&quot;</span><span class="p">:</span>
            <span class="n">it</span> <span class="o">=</span> <span class="n">itorg</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
            <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
            <span class="n">it</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">itorg</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">it</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="p">),</span> <span class="n">data</span><span class="p">)</span>

            <span class="n">it</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
            <span class="n">it</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="p">),</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_strip"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_strip">[docs]</a>    <span class="k">def</span> <span class="nf">test_strip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mississipp&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;m&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;ississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;pi&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mississ&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;im&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;ssissipp&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;pim&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;ssiss&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_lstrip"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_lstrip">[docs]</a>    <span class="k">def</span> <span class="nf">test_lstrip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;m&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;ississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;pi&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;im&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;ssissippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;pim&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;ssissippi&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_rstrip"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_rstrip">[docs]</a>    <span class="k">def</span> <span class="nf">test_rstrip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;i&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mississipp&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;m&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;pi&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mississ&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;im&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mississipp&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;pim&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;mississ&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_strip_whitespace"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_strip_whitespace">[docs]</a>    <span class="k">def</span> <span class="nf">test_strip_whitespace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39; </span><span class="se">\t\n\r\f\v</span><span class="s">abc </span><span class="se">\t\n\r\f\v</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(),</span> <span class="n">b</span><span class="s">&#39;abc </span><span class="se">\t\n\r\f\v</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(),</span> <span class="n">b</span><span class="s">&#39; </span><span class="se">\t\n\r\f\v</span><span class="s">abc&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_strip_bytearray"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_strip_bytearray">[docs]</a>    <span class="k">def</span> <span class="nf">test_strip_bytearray</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ac&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ac&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;bc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;ac&#39;</span><span class="p">)),</span> <span class="n">b</span><span class="s">&#39;ab&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_strip_string_error"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_strip_string_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_strip_string_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lstrip</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_center"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_center">[docs]</a>    <span class="k">def</span> <span class="nf">test_center</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Fill character can be either bytes or bytearray (issue 12380)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">fill_type</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">fill_type</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;-&#39;</span><span class="p">)),</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;--abc--&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_ljust"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_ljust">[docs]</a>    <span class="k">def</span> <span class="nf">test_ljust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Fill character can be either bytes or bytearray (issue 12380)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">fill_type</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">fill_type</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;-&#39;</span><span class="p">)),</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc----&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_rjust"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_rjust">[docs]</a>    <span class="k">def</span> <span class="nf">test_rjust</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Fill character can be either bytes or bytearray (issue 12380)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">fill_type</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">fill_type</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;-&#39;</span><span class="p">)),</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;----abc&#39;</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_ord"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_ord">[docs]</a>    <span class="k">def</span> <span class="nf">test_ord</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\0</span><span class="s">A</span><span class="se">\x7f\x80\xff</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">([</span><span class="nb">ord</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">))],</span>
                         <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">127</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">255</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_maketrans"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_maketrans">[docs]</a>    <span class="k">def</span> <span class="nf">test_maketrans</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">transtable</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\000\001\002\003\004\005\006\007\010\011\012\013\014\015\016\017\020\021\022\023\024\025\026\027\030\031\032\033\034\035\036\037</span><span class="s"> !&quot;#$%&amp;</span><span class="se">\&#39;</span><span class="s">()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[</span><span class="se">\\</span><span class="s">]^_`xyzdefghijklmnopqrstuvwxyz{|}~</span><span class="se">\177\200\201\202\203\204\205\206\207\210\211\212\213\214\215\216\217\220\221\222\223\224\225\226\227\230\231\232\233\234\235\236\237\240\241\242\243\244\245\246\247\250\251\252\253\254\255\256\257\260\261\262\263\264\265\266\267\270\271\272\273\274\275\276\277\300\301\302\303\304\305\306\307\310\311\312\313\314\315\316\317\320\321\322\323\324\325\326\327\330\331\332\333\334\335\336\337\340\341\342\343\344\345\346\347\350\351\352\353\354\355\356\357\360\361\362\363\364\365\366\367\370\371\372\373\374\375\376\377</span><span class="s">&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">maketrans</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;xyz&#39;</span><span class="p">),</span> <span class="n">transtable</span><span class="p">)</span>
        <span class="n">transtable</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;</span><span class="se">\000\001\002\003\004\005\006\007\010\011\012\013\014\015\016\017\020\021\022\023\024\025\026\027\030\031\032\033\034\035\036\037</span><span class="s"> !&quot;#$%&amp;</span><span class="se">\&#39;</span><span class="s">()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[</span><span class="se">\\</span><span class="s">]^_`abcdefghijklmnopqrstuvwxyz{|}~</span><span class="se">\177\200\201\202\203\204\205\206\207\210\211\212\213\214\215\216\217\220\221\222\223\224\225\226\227\230\231\232\233\234\235\236\237\240\241\242\243\244\245\246\247\250\251\252\253\254\255\256\257\260\261\262\263\264\265\266\267\270\271\272\273\274\275\276\277\300\301\302\303\304\305\306\307\310\311\312\313\314\315\316\317\320\321\322\323\324\325\326\327\330\331\332\333\334\335\336\337\340\341\342\343\344\345\346\347\350\351\352\353\354\355\356\357\360\361\362\363\364\365\366\367\370\371\372\373\374</span><span class="s">xyz&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">maketrans</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\375\376\377</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;xyz&#39;</span><span class="p">),</span> <span class="n">transtable</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">maketrans</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;xyzq&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="o">.</span><span class="n">maketrans</span><span class="p">,</span> <span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="s">&#39;def&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_none_arguments"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_none_arguments">[docs]</a>    <span class="k">def</span> <span class="nf">test_none_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># issue 11828</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;l&#39;</span><span class="p">)</span>
        <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;h&#39;</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
        <span class="n">o</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;o&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_integer_arguments_out_of_byte_range"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_integer_arguments_out_of_byte_range">[docs]</a>    <span class="k">def</span> <span class="nf">test_integer_arguments_out_of_byte_range</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="mi">9999</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BaseBytesTest.test_find_etc_raise_correct_error_messages"><a class="viewcode-back" href="../../test.html#test.test_bytes.BaseBytesTest.test_find_etc_raise_correct_error_messages">[docs]</a>    <span class="k">def</span> <span class="nf">test_find_etc_raise_correct_error_messages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># issue 11828</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;\bfind\b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;\brfind\b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rfind</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;\bindex\b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;\brindex\b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">rindex</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;\bcount\b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;\bstartswith\b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">startswith</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaisesRegex</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="s">r&#39;\bendswith\b&#39;</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">endswith</span><span class="p">,</span>
                                <span class="n">x</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="BytesTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytesTest">[docs]</a><span class="k">class</span> <span class="nc">BytesTest</span><span class="p">(</span><span class="n">BaseBytesTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">type2test</span> <span class="o">=</span> <span class="nb">bytes</span>

<div class="viewcode-block" id="BytesTest.test_buffer_is_readonly"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytesTest.test_buffer_is_readonly">[docs]</a>    <span class="k">def</span> <span class="nf">test_buffer_is_readonly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">__file__</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">O_RDONLY</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="s">&quot;rb&quot;</span><span class="p">,</span> <span class="n">buffering</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">readinto</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BytesTest.test_custom"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytesTest.test_custom">[docs]</a>    <span class="k">def</span> <span class="nf">test_custom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">__bytes__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">A</span><span class="p">()),</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">A</span><span class="p">())</span>
        <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">__bytes__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">A</span><span class="p">())</span>
        <span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">__bytes__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">b</span><span class="s">&#39;a&#39;</span>
            <span class="k">def</span> <span class="nf">__index__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="mi">42</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">A</span><span class="p">()),</span> <span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">)</span>

    <span class="c"># Test PyBytes_FromFormat()</span></div>
<div class="viewcode-block" id="BytesTest.test_from_format"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytesTest.test_from_format">[docs]</a>    <span class="k">def</span> <span class="nf">test_from_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">test</span><span class="o">.</span><span class="n">support</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s">&#39;ctypes&#39;</span><span class="p">)</span>
        <span class="kn">from</span> <span class="nn">ctypes</span> <span class="kn">import</span> <span class="n">pythonapi</span><span class="p">,</span> <span class="n">py_object</span><span class="p">,</span> <span class="n">c_int</span><span class="p">,</span> <span class="n">c_char_p</span>
        <span class="n">PyBytes_FromFormat</span> <span class="o">=</span> <span class="n">pythonapi</span><span class="o">.</span><span class="n">PyBytes_FromFormat</span>
        <span class="n">PyBytes_FromFormat</span><span class="o">.</span><span class="n">restype</span> <span class="o">=</span> <span class="n">py_object</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">PyBytes_FromFormat</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;format&#39;</span><span class="p">),</span>
                         <span class="n">b</span><span class="s">&#39;format&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">PyBytes_FromFormat</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;%&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;%&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">PyBytes_FromFormat</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="si">%%</span><span class="s">&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;%&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">PyBytes_FromFormat</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="si">%%</span><span class="s">s&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">PyBytes_FromFormat</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;[</span><span class="si">%%</span><span class="s">]&#39;</span><span class="p">),</span> <span class="n">b</span><span class="s">&#39;[%]&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">PyBytes_FromFormat</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="si">%%%c</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">c_int</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">))),</span> <span class="n">b</span><span class="s">&#39;%_&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">PyBytes_FromFormat</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;c:</span><span class="si">%c</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">c_int</span><span class="p">(</span><span class="mi">255</span><span class="p">)),</span>
                         <span class="n">b</span><span class="s">&#39;c:</span><span class="se">\xff</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">PyBytes_FromFormat</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;s:</span><span class="si">%s</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">c_char_p</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;cstr&#39;</span><span class="p">)),</span>
                         <span class="n">b</span><span class="s">&#39;s:cstr&#39;</span><span class="p">)</span>

        <span class="c"># Issue #19969</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span>
                          <span class="n">PyBytes_FromFormat</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;</span><span class="si">%c</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">c_int</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span>
                          <span class="n">PyBytes_FromFormat</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;</span><span class="si">%c</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">c_int</span><span class="p">(</span><span class="mi">256</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="ByteArrayTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest">[docs]</a><span class="k">class</span> <span class="nc">ByteArrayTest</span><span class="p">(</span><span class="n">BaseBytesTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">type2test</span> <span class="o">=</span> <span class="nb">bytearray</span>

<div class="viewcode-block" id="ByteArrayTest.test_nohash"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_nohash">[docs]</a>    <span class="k">def</span> <span class="nf">test_nohash</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="nb">hash</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_bytearray_api"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_bytearray_api">[docs]</a>    <span class="k">def</span> <span class="nf">test_bytearray_api</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">short_sample</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;Hello world</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">sample</span> <span class="o">=</span> <span class="n">short_sample</span> <span class="o">+</span> <span class="n">b</span><span class="s">&quot;</span><span class="se">\0</span><span class="s">&quot;</span><span class="o">*</span><span class="p">(</span><span class="mi">20</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">short_sample</span><span class="p">))</span>
        <span class="n">tfn</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mktemp</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c"># Prepare</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">tfn</span><span class="p">,</span> <span class="s">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">short_sample</span><span class="p">)</span>
            <span class="c"># Test readinto</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">tfn</span><span class="p">,</span> <span class="s">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readinto</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">short_sample</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="n">sample</span><span class="p">))</span>
            <span class="c"># Test writing in binary mode</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">tfn</span><span class="p">,</span> <span class="s">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">tfn</span><span class="p">,</span> <span class="s">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">sample</span><span class="p">)</span>
            <span class="c"># Text mode is ambiguous; don&#39;t test</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tfn</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                <span class="k">pass</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_reverse"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_reverse">[docs]</a>    <span class="k">def</span> <span class="nf">test_reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">reverse</span><span class="p">(),</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;olleh&#39;</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;hello1&#39;</span><span class="p">)</span> <span class="c"># test even number of items</span>
        <span class="n">b</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;1olleh&#39;</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">b</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_clear"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_clear">[docs]</a>    <span class="k">def</span> <span class="nf">test_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;python&#39;</span><span class="p">)</span>
        <span class="n">b</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>

        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">b</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>

        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;r&#39;</span><span class="p">))</span>
        <span class="n">b</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;p&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;p&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_copy"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_copy">[docs]</a>    <span class="k">def</span> <span class="nf">test_copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="n">bb</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bb</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>

        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">bb</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bb</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>

        <span class="c"># test that it&#39;s indeed a copy and not a reference</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="n">bb</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">bb</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNot</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">bb</span><span class="p">)</span>
        <span class="n">bb</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">bb</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abcd&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_regexps"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_regexps">[docs]</a>    <span class="k">def</span> <span class="nf">test_regexps</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">by</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">ord</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;Hello, world&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">br</span><span class="s">&quot;\w+&quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">[</span><span class="n">by</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">),</span> <span class="n">by</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)])</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_setitem"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_setitem">[docs]</a>    <span class="k">def</span> <span class="nf">test_setitem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
        <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">200</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]))</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Indexable</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;Didn&#39;t raise IndexError&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;Didn&#39;t raise IndexError&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">256</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;Didn&#39;t raise ValueError&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">Indexable</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;Didn&#39;t raise ValueError&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;Didn&#39;t raise TypeError&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">pass</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_delitem"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_delitem">[docs]</a>    <span class="k">def</span> <span class="nf">test_delitem</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="k">del</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)))</span>
        <span class="k">del</span> <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">)))</span>
        <span class="k">del</span> <span class="n">b</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]))</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_setslice"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_setslice">[docs]</a>    <span class="k">def</span> <span class="nf">test_setslice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>

        <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]))</span>

        <span class="k">del</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]))</span>

        <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>

        <span class="n">b</span><span class="p">[</span><span class="o">-</span><span class="mi">7</span><span class="p">:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]))</span>

        <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>

        <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]))</span>

        <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;foo&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">111</span><span class="p">]))</span>

        <span class="n">b</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">102</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">111</span><span class="p">]))</span>

        <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">([</span><span class="mi">102</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">111</span><span class="p">]))</span>

        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="mf">10e20</span><span class="p">),</span> <span class="s">&#39;str&#39;</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span>
                     <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="p">[[]]]:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
                <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">elem</span>

        <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="p">[[</span><span class="mi">254</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">256</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">256</span><span class="p">,</span> <span class="mi">9000</span><span class="p">]]:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
                <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">elem</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_setslice_extend"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_setslice_extend">[docs]</a>    <span class="k">def</span> <span class="nf">test_setslice_extend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Exercise the resizing logic (see issue #19087)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)))</span>
        <span class="k">del</span> <span class="n">b</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">)))</span>
        <span class="n">b</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">110</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">)))</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_extended_set_del_slice"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_extended_set_del_slice">[docs]</a>    <span class="k">def</span> <span class="nf">test_extended_set_del_slice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">333</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">31</span><span class="p">,</span> <span class="o">-</span><span class="mi">300</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">start</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">stop</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">:</span>
                <span class="c"># Skip invalid step 0</span>
                <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">255</span><span class="p">))</span>
                    <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
                    <span class="c"># Make sure we have a slice of exactly the right length,</span>
                    <span class="c"># but with different data.</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]</span>
                    <span class="n">data</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
                    <span class="n">L</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
                    <span class="n">b</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>

                    <span class="k">del</span> <span class="n">L</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]</span>
                    <span class="k">del</span> <span class="n">b</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">stop</span><span class="p">:</span><span class="n">step</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_setslice_trap"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_setslice_trap">[docs]</a>    <span class="k">def</span> <span class="nf">test_setslice_trap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># This test verifies that we correctly handle assigning self</span>
        <span class="c"># to a slice of self (the old Lambert Meertens trap).</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">))</span>
        <span class="n">b</span><span class="p">[</span><span class="mi">8</span><span class="p">:]</span> <span class="o">=</span> <span class="n">b</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">))))</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_iconcat"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_iconcat">[docs]</a>    <span class="k">def</span> <span class="nf">test_iconcat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
        <span class="n">b1</span> <span class="o">=</span> <span class="n">b</span>
        <span class="n">b</span> <span class="o">+=</span> <span class="n">b</span><span class="s">&quot;def&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abcdef&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span> <span class="ow">is</span> <span class="n">b1</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">+=</span> <span class="n">b</span><span class="s">&quot;xyz&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abcdefxyz&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">b</span> <span class="o">+=</span> <span class="s">&quot;&quot;</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;bytes += unicode didn&#39;t raise TypeError&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_irepeat"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_irepeat">[docs]</a>    <span class="k">def</span> <span class="nf">test_irepeat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span>
        <span class="n">b1</span> <span class="o">=</span> <span class="n">b</span>
        <span class="n">b</span> <span class="o">*=</span> <span class="mi">3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abcabcabc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span> <span class="ow">is</span> <span class="n">b1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_irepeat_1char"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_irepeat_1char">[docs]</a>    <span class="k">def</span> <span class="nf">test_irepeat_1char</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x&quot;</span><span class="p">)</span>
        <span class="n">b1</span> <span class="o">=</span> <span class="n">b</span>
        <span class="n">b</span> <span class="o">*=</span> <span class="mi">100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;x&quot;</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span> <span class="ow">is</span> <span class="n">b1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_alloc"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_alloc">[docs]</a>    <span class="k">def</span> <span class="nf">test_alloc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">alloc</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">__alloc__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">alloc</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">seq</span> <span class="o">=</span> <span class="p">[</span><span class="n">alloc</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">+=</span> <span class="n">b</span><span class="s">&quot;x&quot;</span>
            <span class="n">alloc</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">__alloc__</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">alloc</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">alloc</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">:</span>
                <span class="n">seq</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">alloc</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_extend"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_extend">[docs]</a>    <span class="k">def</span> <span class="nf">test_extend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">orig</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;hello&#39;</span>
        <span class="n">a</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">orig</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">orig</span> <span class="o">+</span> <span class="n">orig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">:],</span> <span class="n">orig</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="c"># Test iterators that don&#39;t have a __length_hint__</span>
        <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">orig</span> <span class="o">*</span> <span class="mi">25</span><span class="p">))</span>
        <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">orig</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">orig</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:],</span> <span class="n">orig</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">orig</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">orig</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:],</span> <span class="n">orig</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">orig</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">orig</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:],</span> <span class="n">orig</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">256</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">Indexable</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">))])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_remove"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_remove">[docs]</a>    <span class="k">def</span> <span class="nf">test_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;l&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;helo&#39;</span><span class="p">)</span>
        <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;l&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;heo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;l&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">400</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">))</span>
        <span class="c"># remove first and last</span>
        <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;o&#39;</span><span class="p">))</span>
        <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;h&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;e&#39;</span><span class="p">))</span>
        <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">Indexable</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_pop"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_pop">[docs]</a>    <span class="k">def</span> <span class="nf">test_pop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;world&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">pop</span><span class="p">(),</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;w&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;r&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">IndexError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">bytearray</span><span class="p">()</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
        <span class="c"># test for issue #6846</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\xff</span><span class="s">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pop</span><span class="p">(),</span> <span class="mh">0xff</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_nosort"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_nosort">[docs]</a>    <span class="k">def</span> <span class="nf">test_nosort</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">bytearray</span><span class="p">()</span><span class="o">.</span><span class="n">sort</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_append"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_append">[docs]</a>    <span class="k">def</span> <span class="nf">test_append</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;hell&#39;</span><span class="p">)</span>
        <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;o&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;o&#39;</span><span class="p">))</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Indexable</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;A&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_insert"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_insert">[docs]</a>    <span class="k">def</span> <span class="nf">test_insert</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;msssspp&#39;</span><span class="p">)</span>
        <span class="n">b</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">))</span>
        <span class="n">b</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">))</span>
        <span class="n">b</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">))</span>
        <span class="n">b</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;mississippi&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">b</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;1&#39;</span><span class="p">))</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="n">b</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Indexable</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;A&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_copied"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_copied">[docs]</a>    <span class="k">def</span> <span class="nf">test_copied</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue 4348.  Make sure that operations that don&#39;t mutate the array</span>
        <span class="c"># copy the bytes.</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b</span> <span class="ow">is</span> <span class="n">b</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;abc&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;cde&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="n">t</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">)])</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">x</span> <span class="ow">is</span> <span class="n">x</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_partition_bytearray_doesnt_share_nullstring"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_partition_bytearray_doesnt_share_nullstring">[docs]</a>    <span class="k">def</span> <span class="nf">test_partition_bytearray_doesnt_share_nullstring</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;y&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">c</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">+=</span> <span class="n">b</span><span class="s">&quot;!&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;y&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="c"># Same for rpartition</span>
        <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rpartition</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;y&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">b</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">c</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">+=</span> <span class="n">b</span><span class="s">&quot;!&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;x&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rpartition</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;y&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ByteArrayTest.test_resize_forbidden"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayTest.test_resize_forbidden">[docs]</a>    <span class="k">def</span> <span class="nf">test_resize_forbidden</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># #4509: can&#39;t resize a bytearray when there are buffer exports, even</span>
        <span class="c"># if it wouldn&#39;t reallocate the underlying buffer.</span>
        <span class="c"># Furthermore, no destructive changes to the buffer may be applied</span>
        <span class="c"># before raising the error.</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">resize</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">resize</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">orig</span> <span class="o">=</span> <span class="n">b</span><span class="p">[:]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">BufferError</span><span class="p">,</span> <span class="n">resize</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">orig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">BufferError</span><span class="p">,</span> <span class="n">resize</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">orig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">BufferError</span><span class="p">,</span> <span class="n">resize</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">orig</span><span class="p">)</span>
        <span class="c"># Other operations implying resize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">BufferError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">pop</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">orig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">BufferError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">remove</span><span class="p">,</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">orig</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">delitem</span><span class="p">():</span>
            <span class="k">del</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">BufferError</span><span class="p">,</span> <span class="n">delitem</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">orig</span><span class="p">)</span>
        <span class="c"># deleting a non-contiguous slice</span>
        <span class="k">def</span> <span class="nf">delslice</span><span class="p">():</span>
            <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">BufferError</span><span class="p">,</span> <span class="n">delslice</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">orig</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="AssortedBytesTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest">[docs]</a><span class="k">class</span> <span class="nc">AssortedBytesTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="c">#</span>
    <span class="c"># Test various combinations of bytes and bytearray</span>
    <span class="c">#</span>

    <span class="nd">@check_bytes_warnings</span>
<div class="viewcode-block" id="AssortedBytesTest.test_repr_str"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_repr_str">[docs]</a>    <span class="k">def</span> <span class="nf">test_repr_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">repr</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">()),</span> <span class="s">&quot;bytearray(b&#39;&#39;)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">([</span><span class="mi">0</span><span class="p">])),</span> <span class="s">&quot;bytearray(b&#39;</span><span class="se">\\</span><span class="s">x00&#39;)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">255</span><span class="p">])),</span>
                             <span class="s">&quot;bytearray(b&#39;</span><span class="se">\\</span><span class="s">x00</span><span class="se">\\</span><span class="s">x01</span><span class="se">\\</span><span class="s">xfe</span><span class="se">\\</span><span class="s">xff&#39;)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="s">&quot;b&#39;abc&#39;&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&#39;&quot;</span><span class="p">),</span> <span class="s">&#39;&#39;&#39;b&quot;&#39;&quot;&#39;&#39;&#39;</span><span class="p">)</span> <span class="c"># &#39;&#39;&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;&#39;</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">),</span> <span class="s">r&quot;&quot;&quot;b&#39;\&#39;&quot;&#39;&quot;&quot;&quot;</span><span class="p">)</span> <span class="c"># &#39;</span>
</div>
<div class="viewcode-block" id="AssortedBytesTest.test_compare_bytes_to_bytearray"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_compare_bytes_to_bytearray">[docs]</a>    <span class="k">def</span> <span class="nf">test_compare_bytes_to_bytearray</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span> <span class="o">==</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span> <span class="o">!=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span> <span class="o">&lt;=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span> <span class="o">&lt;</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span> <span class="o">&gt;=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span> <span class="o">&gt;</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="bp">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span> <span class="o">!=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span> <span class="o">==</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span> <span class="o">&gt;</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span> <span class="o">&gt;=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span> <span class="o">&lt;</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span> <span class="o">&lt;=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">),</span> <span class="bp">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abc&quot;</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">b</span><span class="s">&quot;ab&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
</div>
    <span class="nd">@test.support.requires_docstrings</span>
<div class="viewcode-block" id="AssortedBytesTest.test_doc"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_doc">[docs]</a>    <span class="k">def</span> <span class="nf">test_doc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNotNone</span><span class="p">(</span><span class="nb">bytearray</span><span class="o">.</span><span class="n">__doc__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">bytearray</span><span class="o">.</span><span class="n">__doc__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&quot;bytearray(&quot;</span><span class="p">),</span> <span class="nb">bytearray</span><span class="o">.</span><span class="n">__doc__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNotNone</span><span class="p">(</span><span class="nb">bytes</span><span class="o">.</span><span class="n">__doc__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">bytes</span><span class="o">.</span><span class="n">__doc__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&quot;bytes(&quot;</span><span class="p">),</span> <span class="nb">bytes</span><span class="o">.</span><span class="n">__doc__</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="AssortedBytesTest.test_from_bytearray"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_from_bytearray">[docs]</a>    <span class="k">def</span> <span class="nf">test_from_bytearray</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sample</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;Hello world</span><span class="se">\n\x80\x81\xfe\xff</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="n">buf</span> <span class="o">=</span> <span class="n">memoryview</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">sample</span><span class="p">))</span>
</div>
    <span class="nd">@check_bytes_warnings</span>
<div class="viewcode-block" id="AssortedBytesTest.test_to_str"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_to_str">[docs]</a>    <span class="k">def</span> <span class="nf">test_to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">),</span> <span class="s">&quot;b&#39;&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;x&#39;</span><span class="p">),</span> <span class="s">&quot;b&#39;x&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\x80</span><span class="s">&#39;</span><span class="p">),</span> <span class="s">&quot;b&#39;</span><span class="se">\\</span><span class="s">x80&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)),</span> <span class="s">&quot;bytearray(b&#39;&#39;)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;x&#39;</span><span class="p">)),</span> <span class="s">&quot;bytearray(b&#39;x&#39;)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;</span><span class="se">\x80</span><span class="s">&#39;</span><span class="p">)),</span> <span class="s">&quot;bytearray(b&#39;</span><span class="se">\\</span><span class="s">x80&#39;)&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="AssortedBytesTest.test_literal"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_literal">[docs]</a>    <span class="k">def</span> <span class="nf">test_literal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tests</span> <span class="o">=</span>  <span class="p">[</span>
            <span class="p">(</span><span class="n">b</span><span class="s">&quot;Wonderful spam&quot;</span><span class="p">,</span> <span class="s">&quot;Wonderful spam&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="n">br</span><span class="s">&quot;Wonderful spam too&quot;</span><span class="p">,</span> <span class="s">&quot;Wonderful spam too&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="n">b</span><span class="s">&quot;</span><span class="se">\xaa\x00\000\200</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">&quot;</span><span class="se">\xaa\x00\000\200</span><span class="s">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="n">br</span><span class="s">&quot;</span><span class="se">\xaa\x00\000\200</span><span class="s">&quot;</span><span class="p">,</span> <span class="s">r&quot;\xaa\x00\000\200&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">b</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">tests</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&#39;latin-1&#39;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">256</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">SyntaxError</span><span class="p">,</span> <span class="nb">eval</span><span class="p">,</span>
                              <span class="s">&#39;b&quot;</span><span class="si">%s</span><span class="s">&quot;&#39;</span> <span class="o">%</span> <span class="nb">chr</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="AssortedBytesTest.test_translate"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_translate">[docs]</a>    <span class="k">def</span> <span class="nf">test_translate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="s">&#39;hello&#39;</span>
        <span class="n">ba</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="n">rosetta</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">256</span><span class="p">))</span>
        <span class="n">rosetta</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="s">&#39;o&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">rosetta</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;l&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;hee&#39;</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">rosetta</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;l&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">ba</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;hee&#39;</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;hllo&#39;</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">ba</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;hllo&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">translate</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">ba</span><span class="o">.</span><span class="n">translate</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="AssortedBytesTest.test_split_bytearray"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_split_bytearray">[docs]</a>    <span class="k">def</span> <span class="nf">test_split_bytearray</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a b&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&#39; &#39;</span><span class="p">)),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="AssortedBytesTest.test_rsplit_bytearray"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_rsplit_bytearray">[docs]</a>    <span class="k">def</span> <span class="nf">test_rsplit_bytearray</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;a b&#39;</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="n">memoryview</span><span class="p">(</span><span class="n">b</span><span class="s">&#39; &#39;</span><span class="p">)),</span> <span class="p">[</span><span class="n">b</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;b&#39;</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="AssortedBytesTest.test_return_self"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_return_self">[docs]</a>    <span class="k">def</span> <span class="nf">test_return_self</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># bytearray.replace must always return a new bytearray</span>
        <span class="n">b</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">b</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="AssortedBytesTest.test_compare"><a class="viewcode-back" href="../../test.html#test.test_bytes.AssortedBytesTest.test_compare">[docs]</a>    <span class="k">def</span> <span class="nf">test_compare</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="n">bytes_warning</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">bytes_warning</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">test</span><span class="o">.</span><span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">((</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">BytesWarning</span><span class="p">))</span>
            <span class="k">with</span> <span class="n">bytes_warning</span><span class="p">():</span>
                <span class="n">b</span><span class="s">&#39;&#39;</span> <span class="o">==</span> <span class="s">&#39;&#39;</span>
            <span class="k">with</span> <span class="n">bytes_warning</span><span class="p">():</span>
                <span class="n">b</span><span class="s">&#39;&#39;</span> <span class="o">!=</span> <span class="s">&#39;&#39;</span>
            <span class="k">with</span> <span class="n">bytes_warning</span><span class="p">():</span>
                <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;&#39;</span>
            <span class="k">with</span> <span class="n">bytes_warning</span><span class="p">():</span>
                <span class="nb">bytearray</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="s">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&quot;BytesWarning is needed for this test: use -bb option&quot;</span><span class="p">)</span>

    <span class="c"># Optimizations:</span>
    <span class="c"># __iter__? (optimization)</span>
    <span class="c"># __reversed__? (optimization)</span>

    <span class="c"># XXX More string methods?  (Those that don&#39;t use character properties)</span>

    <span class="c"># There are tests in string_tests.py that are more</span>
    <span class="c"># comprehensive for things like split, partition, etc.</span>
    <span class="c"># Unfortunately they are all bundled with tests that</span>
    <span class="c"># are not appropriate for bytes</span>

    <span class="c"># I&#39;ve started porting some of those into bytearray_tests.py, we should port</span>
    <span class="c"># the rest that make sense (the code can be cleaned up to use modern</span>
    <span class="c"># unittest methods at the same time).</span>
</div></div>
<div class="viewcode-block" id="BytearrayPEP3137Test"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytearrayPEP3137Test">[docs]</a><span class="k">class</span> <span class="nc">BytearrayPEP3137Test</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">,</span>
                       <span class="n">test</span><span class="o">.</span><span class="n">buffer_tests</span><span class="o">.</span><span class="n">MixinBytesBufferCommonTests</span><span class="p">):</span>
<div class="viewcode-block" id="BytearrayPEP3137Test.marshal"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytearrayPEP3137Test.marshal">[docs]</a>    <span class="k">def</span> <span class="nf">marshal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="BytearrayPEP3137Test.test_returns_new_copy"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytearrayPEP3137Test.test_returns_new_copy">[docs]</a>    <span class="k">def</span> <span class="nf">test_returns_new_copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">marshal</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;1234&#39;</span><span class="p">)</span>
        <span class="c"># On immutable types these MAY return a reference to themselves</span>
        <span class="c"># but on mutable types like bytearray they MUST return a new copy.</span>
        <span class="k">for</span> <span class="n">methname</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;zfill&#39;</span><span class="p">,</span> <span class="s">&#39;rjust&#39;</span><span class="p">,</span> <span class="s">&#39;ljust&#39;</span><span class="p">,</span> <span class="s">&#39;center&#39;</span><span class="p">):</span>
            <span class="n">method</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">methname</span><span class="p">)</span>
            <span class="n">newval</span> <span class="o">=</span> <span class="n">method</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">newval</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">newval</span><span class="p">,</span>
                            <span class="n">methname</span><span class="o">+</span><span class="s">&#39; returned self on a mutable object&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">expr</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;val.split()[0]&#39;</span><span class="p">,</span> <span class="s">&#39;val.rsplit()[0]&#39;</span><span class="p">,</span>
                     <span class="s">&#39;val.partition(b&quot;.&quot;)[0]&#39;</span><span class="p">,</span> <span class="s">&#39;val.rpartition(b&quot;.&quot;)[2]&#39;</span><span class="p">,</span>
                     <span class="s">&#39;val.splitlines()[0]&#39;</span><span class="p">,</span> <span class="s">&#39;val.replace(b&quot;&quot;, b&quot;&quot;)&#39;</span><span class="p">):</span>
            <span class="n">newval</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">newval</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">newval</span><span class="p">,</span>
                            <span class="n">expr</span><span class="o">+</span><span class="s">&#39; returned val on a mutable object&#39;</span><span class="p">)</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">marshal</span><span class="p">(</span><span class="n">b</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">newval</span> <span class="o">=</span> <span class="n">sep</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">val</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">newval</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNot</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">newval</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="FixedStringTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.FixedStringTest">[docs]</a><span class="k">class</span> <span class="nc">FixedStringTest</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">string_tests</span><span class="o">.</span><span class="n">BaseTest</span><span class="p">):</span>

<div class="viewcode-block" id="FixedStringTest.fixtype"><a class="viewcode-back" href="../../test.html#test.test_bytes.FixedStringTest.fixtype">[docs]</a>    <span class="k">def</span> <span class="nf">fixtype</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">fixtype</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="c"># Currently the bytes containment testing uses a single integer</span>
    <span class="c"># value. This may not be the final design, but until then the</span>
    <span class="c"># bytes section with in a bytes containment not valid</span></div>
<div class="viewcode-block" id="FixedStringTest.test_contains"><a class="viewcode-back" href="../../test.html#test.test_bytes.FixedStringTest.test_contains">[docs]</a>    <span class="k">def</span> <span class="nf">test_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>
<div class="viewcode-block" id="FixedStringTest.test_expandtabs"><a class="viewcode-back" href="../../test.html#test.test_bytes.FixedStringTest.test_expandtabs">[docs]</a>    <span class="k">def</span> <span class="nf">test_expandtabs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>
<div class="viewcode-block" id="FixedStringTest.test_upper"><a class="viewcode-back" href="../../test.html#test.test_bytes.FixedStringTest.test_upper">[docs]</a>    <span class="k">def</span> <span class="nf">test_upper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>
<div class="viewcode-block" id="FixedStringTest.test_lower"><a class="viewcode-back" href="../../test.html#test.test_bytes.FixedStringTest.test_lower">[docs]</a>    <span class="k">def</span> <span class="nf">test_lower</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</div></div>
<div class="viewcode-block" id="ByteArrayAsStringTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArrayAsStringTest">[docs]</a><span class="k">class</span> <span class="nc">ByteArrayAsStringTest</span><span class="p">(</span><span class="n">FixedStringTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">type2test</span> <span class="o">=</span> <span class="nb">bytearray</span>
    <span class="n">contains_bytes</span> <span class="o">=</span> <span class="bp">True</span>
</div>
<div class="viewcode-block" id="BytesAsStringTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytesAsStringTest">[docs]</a><span class="k">class</span> <span class="nc">BytesAsStringTest</span><span class="p">(</span><span class="n">FixedStringTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">type2test</span> <span class="o">=</span> <span class="nb">bytes</span>
    <span class="n">contains_bytes</span> <span class="o">=</span> <span class="bp">True</span>

</div>
<div class="viewcode-block" id="SubclassTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.SubclassTest">[docs]</a><span class="k">class</span> <span class="nc">SubclassTest</span><span class="p">:</span>

<div class="viewcode-block" id="SubclassTest.test_basic"><a class="viewcode-back" href="../../test.html#test.test_bytes.SubclassTest.test_basic">[docs]</a>    <span class="k">def</span> <span class="nf">test_basic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subclass2test</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">subclass2test</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">)</span>

        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;efgh&quot;</span>
        <span class="n">_a</span><span class="p">,</span> <span class="n">_b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclass2test</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclass2test</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

        <span class="c"># test comparison operators with subclass instances</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">_a</span> <span class="o">==</span> <span class="n">_a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">_a</span> <span class="o">!=</span> <span class="n">_b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">_a</span> <span class="o">&lt;</span> <span class="n">_b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">_a</span> <span class="o">&lt;=</span> <span class="n">_b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">_b</span> <span class="o">&gt;=</span> <span class="n">_a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">_b</span> <span class="o">&gt;</span> <span class="n">_a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">_a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span><span class="p">)</span>

        <span class="c"># test concat of subclass instances</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="n">_a</span> <span class="o">+</span> <span class="n">_b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">_b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="n">_a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>

        <span class="c"># test repeat</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="mi">5</span> <span class="o">==</span> <span class="n">_a</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SubclassTest.test_join"><a class="viewcode-back" href="../../test.html#test.test_bytes.SubclassTest.test_join">[docs]</a>    <span class="k">def</span> <span class="nf">test_join</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Make sure join returns a NEW object for single item sequences</span>
        <span class="c"># involving a subclass.</span>
        <span class="c"># Make sure that it is of the appropriate type.</span>
        <span class="n">s1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclass2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="n">s2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">()</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">s1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">s1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">s2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">s2</span><span class="p">))</span>

        <span class="c"># Test reverse, calling join on subclass</span>
        <span class="n">s3</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">s3</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">type2test</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SubclassTest.test_pickle"><a class="viewcode-back" href="../../test.html#test.test_bytes.SubclassTest.test_pickle">[docs]</a>    <span class="k">def</span> <span class="nf">test_pickle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclass2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">a</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclass2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;efgh&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">proto</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">proto</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">id</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="SubclassTest.test_copy"><a class="viewcode-back" href="../../test.html#test.test_bytes.SubclassTest.test_copy">[docs]</a>    <span class="k">def</span> <span class="nf">test_copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclass2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="n">a</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">a</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subclass2test</span><span class="p">(</span><span class="n">b</span><span class="s">&quot;efgh&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">copy_method</span> <span class="ow">in</span> <span class="p">(</span><span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">,</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">):</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">copy_method</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">id</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>

</div></div>
<div class="viewcode-block" id="ByteArraySubclass"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArraySubclass">[docs]</a><span class="k">class</span> <span class="nc">ByteArraySubclass</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">):</span>
    <span class="k">pass</span>
</div>
<div class="viewcode-block" id="BytesSubclass"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytesSubclass">[docs]</a><span class="k">class</span> <span class="nc">BytesSubclass</span><span class="p">(</span><span class="nb">bytes</span><span class="p">):</span>
    <span class="k">pass</span>
</div>
<div class="viewcode-block" id="ByteArraySubclassTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArraySubclassTest">[docs]</a><span class="k">class</span> <span class="nc">ByteArraySubclassTest</span><span class="p">(</span><span class="n">SubclassTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">type2test</span> <span class="o">=</span> <span class="nb">bytearray</span>
    <span class="n">subclass2test</span> <span class="o">=</span> <span class="n">ByteArraySubclass</span>

<div class="viewcode-block" id="ByteArraySubclassTest.test_init_override"><a class="viewcode-back" href="../../test.html#test.test_bytes.ByteArraySubclassTest.test_init_override">[docs]</a>    <span class="k">def</span> <span class="nf">test_init_override</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">class</span> <span class="nc">subclass</span><span class="p">(</span><span class="nb">bytearray</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">me</span><span class="p">,</span> <span class="n">newarg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
                <span class="nb">bytearray</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">me</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">subclass</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">subclass</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">subclass</span><span class="p">(</span><span class="n">newarg</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">b</span><span class="s">&quot;abcd&quot;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="BytesSubclassTest"><a class="viewcode-back" href="../../test.html#test.test_bytes.BytesSubclassTest">[docs]</a><span class="k">class</span> <span class="nc">BytesSubclassTest</span><span class="p">(</span><span class="n">SubclassTest</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="n">type2test</span> <span class="o">=</span> <span class="nb">bytes</span>
    <span class="n">subclass2test</span> <span class="o">=</span> <span class="n">BytesSubclass</span>

</div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>