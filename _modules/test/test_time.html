

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>test.test_time &mdash; ArcherBashPYDocs 1.0.0. documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ArcherBashPYDocs 1.0.0. documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> ArcherBashPYDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ArcherBashPYDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>test.test_time</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <h1>Source code for test.test_time</h1><div class="highlight"><pre>
<span class="kn">from</span> <span class="nn">test</span> <span class="kn">import</span> <span class="n">support</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">locale</span>
<span class="kn">import</span> <span class="nn">sysconfig</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">platform</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">threading</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">threading</span> <span class="o">=</span> <span class="bp">None</span>

<span class="c"># Max year is only limited by the size of C int.</span>
<span class="n">SIZEOF_INT</span> <span class="o">=</span> <span class="n">sysconfig</span><span class="o">.</span><span class="n">get_config_var</span><span class="p">(</span><span class="s">&#39;SIZEOF_INT&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">4</span>
<span class="n">TIME_MAXYEAR</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="o">*</span> <span class="n">SIZEOF_INT</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">TIME_MINYEAR</span> <span class="o">=</span> <span class="o">-</span><span class="n">TIME_MAXYEAR</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">_PyTime_ROUND_DOWN</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">_PyTime_ROUND_UP</span> <span class="o">=</span> <span class="mi">1</span>


<div class="viewcode-block" id="TimeTestCase"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase">[docs]</a><span class="k">class</span> <span class="nc">TimeTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

<div class="viewcode-block" id="TimeTestCase.setUp"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_data_attributes"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_data_attributes">[docs]</a>    <span class="k">def</span> <span class="nf">test_data_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">altzone</span>
        <span class="n">time</span><span class="o">.</span><span class="n">daylight</span>
        <span class="n">time</span><span class="o">.</span><span class="n">timezone</span>
        <span class="n">time</span><span class="o">.</span><span class="n">tzname</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_time"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_time">[docs]</a>    <span class="k">def</span> <span class="nf">test_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">get_clock_info</span><span class="p">(</span><span class="s">&#39;time&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">monotonic</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">adjustable</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_clock"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_clock">[docs]</a>    <span class="k">def</span> <span class="nf">test_clock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">clock</span><span class="p">()</span>

        <span class="n">info</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">get_clock_info</span><span class="p">(</span><span class="s">&#39;clock&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">monotonic</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">adjustable</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;clock_gettime&#39;</span><span class="p">),</span>
                         <span class="s">&#39;need time.clock_gettime()&#39;</span><span class="p">)</span>
<div class="viewcode-block" id="TimeTestCase.test_clock_realtime"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_clock_realtime">[docs]</a>    <span class="k">def</span> <span class="nf">test_clock_realtime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">clock_gettime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">CLOCK_REALTIME</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;clock_gettime&#39;</span><span class="p">),</span>
                         <span class="s">&#39;need time.clock_gettime()&#39;</span><span class="p">)</span>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;CLOCK_MONOTONIC&#39;</span><span class="p">),</span>
                         <span class="s">&#39;need time.CLOCK_MONOTONIC&#39;</span><span class="p">)</span>
<div class="viewcode-block" id="TimeTestCase.test_clock_monotonic"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_clock_monotonic">[docs]</a>    <span class="k">def</span> <span class="nf">test_clock_monotonic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clock_gettime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">CLOCK_MONOTONIC</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clock_gettime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">CLOCK_MONOTONIC</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertLessEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;clock_getres&#39;</span><span class="p">),</span>
                         <span class="s">&#39;need time.clock_getres()&#39;</span><span class="p">)</span>
<div class="viewcode-block" id="TimeTestCase.test_clock_getres"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_clock_getres">[docs]</a>    <span class="k">def</span> <span class="nf">test_clock_getres</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clock_getres</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">CLOCK_REALTIME</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertGreater</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertLessEqual</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;clock_settime&#39;</span><span class="p">),</span>
                         <span class="s">&#39;need time.clock_settime()&#39;</span><span class="p">)</span>
<div class="viewcode-block" id="TimeTestCase.test_clock_settime"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_clock_settime">[docs]</a>    <span class="k">def</span> <span class="nf">test_clock_settime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clock_gettime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">CLOCK_REALTIME</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">clock_settime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">CLOCK_REALTIME</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">PermissionError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;CLOCK_MONOTONIC&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OSError</span><span class="p">,</span>
                              <span class="n">time</span><span class="o">.</span><span class="n">clock_settime</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">CLOCK_MONOTONIC</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_conversions"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_conversions">[docs]</a>    <span class="k">def</span> <span class="nf">test_conversions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">),</span>
                         <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">))),</span>
                         <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_sleep"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_sleep">[docs]</a>    <span class="k">def</span> <span class="nf">test_sleep</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_strftime"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_strftime">[docs]</a>    <span class="k">def</span> <span class="nf">test_strftime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">directive</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;H&#39;</span><span class="p">,</span> <span class="s">&#39;I&#39;</span><span class="p">,</span>
                          <span class="s">&#39;j&#39;</span><span class="p">,</span> <span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="s">&#39;M&#39;</span><span class="p">,</span> <span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="s">&#39;S&#39;</span><span class="p">,</span>
                          <span class="s">&#39;U&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">,</span> <span class="s">&#39;W&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;Y&#39;</span><span class="p">,</span> <span class="s">&#39;Z&#39;</span><span class="p">,</span> <span class="s">&#39;%&#39;</span><span class="p">):</span>
            <span class="n">format</span> <span class="o">=</span> <span class="s">&#39; %&#39;</span> <span class="o">+</span> <span class="n">directive</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">format</span><span class="p">,</span> <span class="n">tt</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&#39;conversion specifier: </span><span class="si">%r</span><span class="s"> failed.&#39;</span> <span class="o">%</span> <span class="n">format</span><span class="p">)</span>

        <span class="c"># Issue #10762: Guard against invalid/non-supported format string</span>
        <span class="c"># so that Python don&#39;t crash (Windows crashes when the format string</span>
        <span class="c"># input to [w]strftime is not kosher.</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;win&#39;</span><span class="p">):</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
                <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%f</span><span class="s">&#39;</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">_bounds_checking</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
        <span class="c"># Make sure that strftime() checks the bounds of the various parts</span>
        <span class="c"># of the time tuple (0 is valid for *all* values).</span>

        <span class="c"># The year field is tested by other test cases above</span>

        <span class="c"># Check month [1, 12] + zero support</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="c"># Check day of month [1, 31] + zero support</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="c"># Check hour [0, 23]</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="c"># Check minute [0, 59]</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="c"># Check second [0, 61]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="c"># C99 only requires allowing for one leap second, but Python&#39;s docs say</span>
        <span class="c"># allow two leap seconds (0..61)</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="c"># No check for upper-bound day of week;</span>
        <span class="c">#  value forced into range by a ``% 7`` calculation.</span>
        <span class="c"># Start check at -2 since gettmarg() increments value before taking</span>
        <span class="c">#  modulo.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)),</span>
                         <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">+</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="c"># Check day of the year [1, 366] + zero support</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">func</span><span class="p">((</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">366</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span>
                            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">367</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

<div class="viewcode-block" id="TimeTestCase.test_strftime_bounding_check"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_strftime_bounding_check">[docs]</a>    <span class="k">def</span> <span class="nf">test_strftime_bounding_check</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bounds_checking</span><span class="p">(</span><span class="k">lambda</span> <span class="n">tup</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">tup</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_default_values_for_zero"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_default_values_for_zero">[docs]</a>    <span class="k">def</span> <span class="nf">test_default_values_for_zero</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Make sure that using all zeros uses the proper default</span>
        <span class="c"># values.  No test for daylight savings since strftime() does</span>
        <span class="c"># not change output based on its value and no test for year</span>
        <span class="c"># because systems vary in their support for year 0.</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="s">&quot;2000 01 01 00 00 00 1 001&quot;</span>
        <span class="k">with</span> <span class="n">support</span><span class="o">.</span><span class="n">check_warnings</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%Y %m </span><span class="si">%d</span><span class="s"> %H %M %S %w %j&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,)</span><span class="o">+</span><span class="p">(</span><span class="mi">0</span><span class="p">,)</span><span class="o">*</span><span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_strptime"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_strptime">[docs]</a>    <span class="k">def</span> <span class="nf">test_strptime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Should be able to go round-trip from strftime to strptime without</span>
        <span class="c"># raising an exception.</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">directive</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;H&#39;</span><span class="p">,</span> <span class="s">&#39;I&#39;</span><span class="p">,</span>
                          <span class="s">&#39;j&#39;</span><span class="p">,</span> <span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="s">&#39;M&#39;</span><span class="p">,</span> <span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="s">&#39;S&#39;</span><span class="p">,</span>
                          <span class="s">&#39;U&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">,</span> <span class="s">&#39;W&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;Y&#39;</span><span class="p">,</span> <span class="s">&#39;Z&#39;</span><span class="p">,</span> <span class="s">&#39;%&#39;</span><span class="p">):</span>
            <span class="n">format</span> <span class="o">=</span> <span class="s">&#39;%&#39;</span> <span class="o">+</span> <span class="n">directive</span>
            <span class="n">strf_output</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">format</span><span class="p">,</span> <span class="n">tt</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">strf_output</span><span class="p">,</span> <span class="n">format</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s">&quot;conversion specifier </span><span class="si">%r</span><span class="s"> failed with &#39;</span><span class="si">%s</span><span class="s">&#39; input.&quot;</span> <span class="o">%</span>
                          <span class="p">(</span><span class="n">format</span><span class="p">,</span> <span class="n">strf_output</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_strptime_bytes"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_strptime_bytes">[docs]</a>    <span class="k">def</span> <span class="nf">test_strptime_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Make sure only strings are accepted as arguments to strptime.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;2009&#39;</span><span class="p">,</span> <span class="s">&quot;%Y&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">,</span> <span class="s">&#39;2009&#39;</span><span class="p">,</span> <span class="n">b</span><span class="s">&#39;%Y&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_strptime_exception_context"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_strptime_exception_context">[docs]</a>    <span class="k">def</span> <span class="nf">test_strptime_exception_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># check that this doesn&#39;t chain exceptions needlessly (see #17572)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;%D&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">__suppress_context__</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="c"># additional check for IndexError branch (issue #19545)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s">&#39;19&#39;</span><span class="p">,</span> <span class="s">&#39;%Y %&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">__suppress_context__</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_asctime"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_asctime">[docs]</a>    <span class="k">def</span> <span class="nf">test_asctime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">))</span>

        <span class="c"># Max year is only limited by the size of C int.</span>
        <span class="k">for</span> <span class="n">bigyear</span> <span class="ow">in</span> <span class="n">TIME_MAXYEAR</span><span class="p">,</span> <span class="n">TIME_MINYEAR</span><span class="p">:</span>
            <span class="n">asc</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">((</span><span class="n">bigyear</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">asc</span><span class="p">[</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">bigyear</span><span class="p">)):],</span> <span class="nb">str</span><span class="p">(</span><span class="n">bigyear</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">,</span>
                          <span class="p">(</span><span class="n">TIME_MAXYEAR</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">,</span>
                          <span class="p">(</span><span class="n">TIME_MINYEAR</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">,</span> <span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_asctime_bounding_check"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_asctime_bounding_check">[docs]</a>    <span class="k">def</span> <span class="nf">test_asctime_bounding_check</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bounds_checking</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_ctime"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_ctime">[docs]</a>    <span class="k">def</span> <span class="nf">test_ctime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">((</span><span class="mi">1973</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="s">&#39;Sun Sep 16 01:03:52 1973&#39;</span><span class="p">)</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">((</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="s">&#39;Sat Jan  1 00:00:00 2000&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">2050</span><span class="p">,</span> <span class="mi">10000</span><span class="p">]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">testval</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">((</span><span class="n">year</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span><span class="o">*</span><span class="mi">6</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">OverflowError</span><span class="p">):</span>
                <span class="c"># If mktime fails, ctime will fail too.  This may happen</span>
                <span class="c"># on some platforms.</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">(</span><span class="n">testval</span><span class="p">)[</span><span class="mi">20</span><span class="p">:],</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">))</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&quot;tzset&quot;</span><span class="p">),</span>
                         <span class="s">&quot;time module has no attribute tzset&quot;</span><span class="p">)</span>
<div class="viewcode-block" id="TimeTestCase.test_tzset"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_tzset">[docs]</a>    <span class="k">def</span> <span class="nf">test_tzset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">environ</span>

        <span class="c"># Epoch time of midnight Dec 25th 2002. Never DST in northern</span>
        <span class="c"># hemisphere.</span>
        <span class="n">xmas2002</span> <span class="o">=</span> <span class="mf">1040774400.0</span>

        <span class="c"># These formats are correct for 2002, and possibly future years</span>
        <span class="c"># This format is the &#39;standard&#39; as documented at:</span>
        <span class="c"># http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap08.html</span>
        <span class="c"># They are also documented in the tzset(3) man page on most Unix</span>
        <span class="c"># systems.</span>
        <span class="n">eastern</span> <span class="o">=</span> <span class="s">&#39;EST+05EDT,M4.1.0,M10.5.0&#39;</span>
        <span class="n">victoria</span> <span class="o">=</span> <span class="s">&#39;AEST-10AEDT-11,M10.5.0,M3.5.0&#39;</span>
        <span class="n">utc</span><span class="o">=</span><span class="s">&#39;UTC+0&#39;</span>

        <span class="n">org_TZ</span> <span class="o">=</span> <span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;TZ&#39;</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c"># Make sure we can switch to UTC time and results are correct</span>
            <span class="c"># Note that unknown timezones default to UTC.</span>
            <span class="c"># Note that altzone is undefined in UTC, as there is no DST</span>
            <span class="n">environ</span><span class="p">[</span><span class="s">&#39;TZ&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eastern</span>
            <span class="n">time</span><span class="o">.</span><span class="n">tzset</span><span class="p">()</span>
            <span class="n">environ</span><span class="p">[</span><span class="s">&#39;TZ&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">utc</span>
            <span class="n">time</span><span class="o">.</span><span class="n">tzset</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
                <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="n">xmas2002</span><span class="p">),</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">xmas2002</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">daylight</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">timezone</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">xmas2002</span><span class="p">)</span><span class="o">.</span><span class="n">tm_isdst</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

            <span class="c"># Make sure we can switch to US/Eastern</span>
            <span class="n">environ</span><span class="p">[</span><span class="s">&#39;TZ&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eastern</span>
            <span class="n">time</span><span class="o">.</span><span class="n">tzset</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="n">xmas2002</span><span class="p">),</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">xmas2002</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">tzname</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;EST&#39;</span><span class="p">,</span> <span class="s">&#39;EDT&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">tzname</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">daylight</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">timezone</span><span class="p">,</span> <span class="mi">18000</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">altzone</span><span class="p">,</span> <span class="mi">14400</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">xmas2002</span><span class="p">)</span><span class="o">.</span><span class="n">tm_isdst</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">tzname</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

            <span class="c"># Now go to the southern hemisphere.</span>
            <span class="n">environ</span><span class="p">[</span><span class="s">&#39;TZ&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">victoria</span>
            <span class="n">time</span><span class="o">.</span><span class="n">tzset</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="n">xmas2002</span><span class="p">),</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">xmas2002</span><span class="p">))</span>

            <span class="c"># Issue #11886: Australian Eastern Standard Time (UTC+10) is called</span>
            <span class="c"># &quot;EST&quot; (as Eastern Standard Time, UTC-5) instead of &quot;AEST&quot;</span>
            <span class="c"># (non-DST timezone), and &quot;EDT&quot; instead of &quot;AEDT&quot; (DST timezone),</span>
            <span class="c"># on some operating systems (e.g. FreeBSD), which is wrong. See for</span>
            <span class="c"># example this bug:</span>
            <span class="c"># http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=93810</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">tzname</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="s">&#39;AEST&#39;</span> <span class="s">&#39;EST&#39;</span><span class="p">),</span> <span class="n">time</span><span class="o">.</span><span class="n">tzname</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">tzname</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;AEDT&#39;</span><span class="p">,</span> <span class="s">&#39;EDT&#39;</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">tzname</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">tzname</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">daylight</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">timezone</span><span class="p">,</span> <span class="o">-</span><span class="mi">36000</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">altzone</span><span class="p">,</span> <span class="o">-</span><span class="mi">39600</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">xmas2002</span><span class="p">)</span><span class="o">.</span><span class="n">tm_isdst</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="c"># Repair TZ environment variable in case any other tests</span>
            <span class="c"># rely on it.</span>
            <span class="k">if</span> <span class="n">org_TZ</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">environ</span><span class="p">[</span><span class="s">&#39;TZ&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">org_TZ</span>
            <span class="k">elif</span> <span class="s">&#39;TZ&#39;</span> <span class="ow">in</span> <span class="n">environ</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">environ</span><span class="p">[</span><span class="s">&#39;TZ&#39;</span><span class="p">]</span>
            <span class="n">time</span><span class="o">.</span><span class="n">tzset</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_insane_timestamps"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_insane_timestamps">[docs]</a>    <span class="k">def</span> <span class="nf">test_insane_timestamps</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># It&#39;s possible that some platform maps time_t to double,</span>
        <span class="c"># and that this test will fail there.  This test should</span>
        <span class="c"># exempt such platforms (provided they return reasonable</span>
        <span class="c"># results!).</span>
        <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">unreasonable</span> <span class="ow">in</span> <span class="o">-</span><span class="mf">1e200</span><span class="p">,</span> <span class="mf">1e200</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">unreasonable</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_ctime_without_arg"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_ctime_without_arg">[docs]</a>    <span class="k">def</span> <span class="nf">test_ctime_without_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Not sure how to check the values, since the clock could tick</span>
        <span class="c"># at any time.  Make sure these are at least accepted and</span>
        <span class="c"># don&#39;t raise errors.</span>
        <span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_gmtime_without_arg"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_gmtime_without_arg">[docs]</a>    <span class="k">def</span> <span class="nf">test_gmtime_without_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">gt0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">()</span>
        <span class="n">gt1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">gt0</span><span class="p">)</span>
        <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">gt1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">t0</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_localtime_without_arg"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_localtime_without_arg">[docs]</a>    <span class="k">def</span> <span class="nf">test_localtime_without_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lt0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()</span>
        <span class="n">lt1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">lt0</span><span class="p">)</span>
        <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">lt1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="n">t0</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_mktime"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_mktime">[docs]</a>    <span class="k">def</span> <span class="nf">test_mktime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue #1726687</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;aix&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">t</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="c"># Issue #11188, #19748: mktime() returns -1 on error. On Linux,</span>
                <span class="c"># the tm_wday field is used as a sentinel () to detect if -1 is</span>
                <span class="c"># really an error or a valid timestamp. On AIX, tm_wday is</span>
                <span class="c"># unchanged even on success and so cannot be used as a</span>
                <span class="c"># sentinel.</span>
                <span class="k">continue</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">tt</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="ne">OSError</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">tt</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>

    <span class="c"># Issue #13309: passing extreme values to mktime() or localtime()</span>
    <span class="c"># borks the glibc&#39;s internal timezone data.</span></div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="n">platform</span><span class="o">.</span><span class="n">libc_ver</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s">&#39;glibc&#39;</span><span class="p">,</span>
                         <span class="s">&quot;disabled because of a bug in glibc. Issue #13309&quot;</span><span class="p">)</span>
<div class="viewcode-block" id="TimeTestCase.test_mktime_error"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_mktime_error">[docs]</a>    <span class="k">def</span> <span class="nf">test_mktime_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># It may not be possible to reliably make mktime return error</span>
        <span class="c"># on all platfom.  This will make sure that no other exception</span>
        <span class="c"># than OverflowError is raised for an extreme value.</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">)</span>
        <span class="n">tzname</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Z&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">tzname</span><span class="p">,</span> <span class="s">&#39;LMT&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">OverflowError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Z&#39;</span><span class="p">,</span> <span class="n">tt</span><span class="p">),</span> <span class="n">tzname</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;monotonic&#39;</span><span class="p">),</span>
                         <span class="s">&#39;need time.monotonic&#39;</span><span class="p">)</span>
<div class="viewcode-block" id="TimeTestCase.test_monotonic"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_monotonic">[docs]</a>    <span class="k">def</span> <span class="nf">test_monotonic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># monotonic() should not go backward</span>
        <span class="n">times</span> <span class="o">=</span> <span class="p">[</span><span class="n">time</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)]</span>
        <span class="n">t1</span> <span class="o">=</span> <span class="n">times</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">t2</span> <span class="ow">in</span> <span class="n">times</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span><span class="n">t2</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="s">&quot;times=</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">times</span><span class="p">)</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="n">t2</span>

        <span class="c"># monotonic() includes time elapsed during a sleep</span>
        <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">t2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertGreater</span><span class="p">(</span><span class="n">t2</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>
        <span class="c"># Issue #20101: On some Windows machines, dt may be slightly low</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="mf">0.45</span> <span class="o">&lt;=</span> <span class="n">dt</span> <span class="o">&lt;=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">dt</span><span class="p">)</span>

        <span class="c"># monotonic() is a monotonic but non adjustable clock</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">get_clock_info</span><span class="p">(</span><span class="s">&#39;monotonic&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">monotonic</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">adjustable</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_perf_counter"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_perf_counter">[docs]</a>    <span class="k">def</span> <span class="nf">test_perf_counter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_process_time"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_process_time">[docs]</a>    <span class="k">def</span> <span class="nf">test_process_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># process_time() should not include time spend during a sleep</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">process_time</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.100</span><span class="p">)</span>
        <span class="n">stop</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">process_time</span><span class="p">()</span>
        <span class="c"># use 20 ms because process_time() has usually a resolution of 15 ms</span>
        <span class="c"># on Windows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertLess</span><span class="p">(</span><span class="n">stop</span> <span class="o">-</span> <span class="n">start</span><span class="p">,</span> <span class="mf">0.020</span><span class="p">)</span>

        <span class="n">info</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">get_clock_info</span><span class="p">(</span><span class="s">&#39;process_time&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">monotonic</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">adjustable</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;monotonic&#39;</span><span class="p">),</span>
                         <span class="s">&#39;need time.monotonic&#39;</span><span class="p">)</span>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;clock_settime&#39;</span><span class="p">),</span>
                         <span class="s">&#39;need time.clock_settime&#39;</span><span class="p">)</span>
<div class="viewcode-block" id="TimeTestCase.test_monotonic_settime"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_monotonic_settime">[docs]</a>    <span class="k">def</span> <span class="nf">test_monotonic_settime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span>
        <span class="n">realtime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">clock_gettime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">CLOCK_REALTIME</span><span class="p">)</span>
        <span class="c"># jump backward with an offset of 1 hour</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">clock_settime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">CLOCK_REALTIME</span><span class="p">,</span> <span class="n">realtime</span> <span class="o">-</span> <span class="mi">3600</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">PermissionError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
        <span class="n">t2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">monotonic</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">clock_settime</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">CLOCK_REALTIME</span><span class="p">,</span> <span class="n">realtime</span><span class="p">)</span>
        <span class="c"># monotonic must not be affected by system clock updates</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertGreaterEqual</span><span class="p">(</span><span class="n">t2</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_localtime_failure"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_localtime_failure">[docs]</a>    <span class="k">def</span> <span class="nf">test_localtime_failure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Issue #13847: check for localtime() failure</span>
        <span class="n">invalid_time_t</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">time_t</span> <span class="ow">in</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">30</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">60</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">time_t</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OverflowError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&quot;need 64-bit time_t&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
                <span class="n">invalid_time_t</span> <span class="o">=</span> <span class="n">time_t</span>
                <span class="k">break</span>
        <span class="k">if</span> <span class="n">invalid_time_t</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&quot;unable to find an invalid time_t value&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">,</span> <span class="n">invalid_time_t</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OSError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">,</span> <span class="n">invalid_time_t</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TimeTestCase.test_get_clock_info"><a class="viewcode-back" href="../../test.html#test.test_time.TimeTestCase.test_get_clock_info">[docs]</a>    <span class="k">def</span> <span class="nf">test_get_clock_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">clocks</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;clock&#39;</span><span class="p">,</span> <span class="s">&#39;perf_counter&#39;</span><span class="p">,</span> <span class="s">&#39;process_time&#39;</span><span class="p">,</span> <span class="s">&#39;time&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&#39;monotonic&#39;</span><span class="p">):</span>
            <span class="n">clocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;monotonic&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">clocks</span><span class="p">:</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">get_clock_info</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="c">#self.assertIsInstance(info, dict)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">implementation</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">implementation</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">monotonic</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">resolution</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
            <span class="c"># 0.0 &lt; resolution &lt;= 1.0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertGreater</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">resolution</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertLessEqual</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">resolution</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">adjustable</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">get_clock_info</span><span class="p">,</span> <span class="s">&#39;xxx&#39;</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="TestLocale"><a class="viewcode-back" href="../../test.html#test.test_time.TestLocale">[docs]</a><span class="k">class</span> <span class="nc">TestLocale</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="TestLocale.setUp"><a class="viewcode-back" href="../../test.html#test.test_time.TestLocale.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">oldloc</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestLocale.tearDown"><a class="viewcode-back" href="../../test.html#test.test_time.TestLocale.tearDown">[docs]</a>    <span class="k">def</span> <span class="nf">tearDown</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">oldloc</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TestLocale.test_bug_3061"><a class="viewcode-back" href="../../test.html#test.test_time.TestLocale.test_bug_3061">[docs]</a>    <span class="k">def</span> <span class="nf">test_bug_3061</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s">&quot;fr_FR&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">locale</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">skipTest</span><span class="p">(</span><span class="s">&#39;could not set locale.LC_ALL to fr_FR&#39;</span><span class="p">)</span>
        <span class="c"># This should not cause an exception</span>
        <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%B&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2009</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

</div></div>
<span class="k">class</span> <span class="nc">_TestAsctimeYear</span><span class="p">:</span>
    <span class="n">_format</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">&#39;</span>

    <span class="k">def</span> <span class="nf">yearstr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">asctime</span><span class="p">((</span><span class="n">y</span><span class="p">,)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">test_large_year</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that it doesn&#39;t crash for year &gt; 9999</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="mi">12345</span><span class="p">),</span> <span class="s">&#39;12345&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="mi">123456789</span><span class="p">),</span> <span class="s">&#39;123456789&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">_TestStrftimeYear</span><span class="p">:</span>

    <span class="c"># Issue 13305:  For years &lt; 1000, the value is not always</span>
    <span class="c"># padded to 4 digits across platforms.  The C standard</span>
    <span class="c"># assumes year &gt;= 1900, so it does not specify the number</span>
    <span class="c"># of digits.</span>

    <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;0001&#39;</span><span class="p">:</span>
        <span class="n">_format</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%04d</span><span class="s">&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_format</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">&#39;</span>

    <span class="k">def</span> <span class="nf">yearstr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span><span class="p">,)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_4dyear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Check that we can return the zero padded value.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format</span> <span class="o">==</span> <span class="s">&#39;</span><span class="si">%04d</span><span class="s">&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">test_year</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%04d</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">def</span> <span class="nf">year4d</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%4Y&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span><span class="p">,)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">test_year</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%04d</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">year4d</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">skip_if_not_supported</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;strftime() is limited to [1; 9999] with Visual Studio&quot;</span>
        <span class="c"># Check that it doesn&#39;t crash for year &gt; 9999</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span><span class="p">,)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">cond</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cond</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="n">unittest</span><span class="o">.</span><span class="n">skipUnless</span><span class="p">(</span><span class="n">cond</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>

    <span class="nd">@skip_if_not_supported</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_large_year</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">test_large_year</span><span class="p">()</span>

    <span class="nd">@skip_if_not_supported</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_negative</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">test_negative</span><span class="p">()</span>

    <span class="k">del</span> <span class="n">skip_if_not_supported</span>


<span class="k">class</span> <span class="nc">_Test4dYear</span><span class="p">:</span>
    <span class="n">_format</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">&#39;</span>

    <span class="k">def</span> <span class="nf">test_year</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">fmt</span> <span class="o">=</span> <span class="n">fmt</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">func</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>    <span class="n">fmt</span> <span class="o">%</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="mi">68</span><span class="p">),</span>   <span class="n">fmt</span> <span class="o">%</span> <span class="mi">68</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="mi">69</span><span class="p">),</span>   <span class="n">fmt</span> <span class="o">%</span> <span class="mi">69</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="mi">99</span><span class="p">),</span>   <span class="n">fmt</span> <span class="o">%</span> <span class="mi">99</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="mi">999</span><span class="p">),</span>  <span class="n">fmt</span> <span class="o">%</span> <span class="mi">999</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="mi">9999</span><span class="p">),</span> <span class="n">fmt</span> <span class="o">%</span> <span class="mi">9999</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_large_year</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="mi">12345</span><span class="p">),</span> <span class="s">&#39;12345&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="mi">123456789</span><span class="p">),</span> <span class="s">&#39;123456789&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="n">TIME_MAXYEAR</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">TIME_MAXYEAR</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">,</span> <span class="n">TIME_MAXYEAR</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_negative</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format</span> <span class="o">%</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="o">-</span><span class="mi">1234</span><span class="p">),</span> <span class="s">&#39;-1234&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="o">-</span><span class="mi">123456</span><span class="p">),</span> <span class="s">&#39;-123456&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="o">-</span><span class="mi">123456789</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="mi">123456789</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="o">-</span><span class="mi">1234567890</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="o">-</span><span class="mi">1234567890</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="n">TIME_MINYEAR</span> <span class="o">+</span> <span class="mi">1900</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">TIME_MINYEAR</span> <span class="o">+</span> <span class="mi">1900</span><span class="p">))</span>
        <span class="c"># Issue #13312: it may return wrong value for year &lt; TIME_MINYEAR + 1900</span>
        <span class="c"># Skip the value test, but check that no error is raised</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">(</span><span class="n">TIME_MINYEAR</span><span class="p">)</span>
        <span class="c"># self.assertEqual(self.yearstr(TIME_MINYEAR), str(TIME_MINYEAR))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">yearstr</span><span class="p">,</span> <span class="n">TIME_MINYEAR</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>


<div class="viewcode-block" id="TestAsctime4dyear"><a class="viewcode-back" href="../../test.html#test.test_time.TestAsctime4dyear">[docs]</a><span class="k">class</span> <span class="nc">TestAsctime4dyear</span><span class="p">(</span><span class="n">_TestAsctimeYear</span><span class="p">,</span> <span class="n">_Test4dYear</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">pass</span>
</div>
<div class="viewcode-block" id="TestStrftime4dyear"><a class="viewcode-back" href="../../test.html#test.test_time.TestStrftime4dyear">[docs]</a><span class="k">class</span> <span class="nc">TestStrftime4dyear</span><span class="p">(</span><span class="n">_TestStrftimeYear</span><span class="p">,</span> <span class="n">_Test4dYear</span><span class="p">,</span> <span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">pass</span>

</div>
<div class="viewcode-block" id="TestPytime"><a class="viewcode-back" href="../../test.html#test.test_time.TestPytime">[docs]</a><span class="k">class</span> <span class="nc">TestPytime</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
<div class="viewcode-block" id="TestPytime.setUp"><a class="viewcode-back" href="../../test.html#test.test_time.TestPytime.setUp">[docs]</a>    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">invalid_values</span> <span class="o">=</span> <span class="p">(</span>
            <span class="o">-</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">100</span><span class="p">),</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">100</span><span class="p">,</span>
            <span class="o">-</span><span class="p">(</span><span class="mf">2.0</span> <span class="o">**</span> <span class="mf">100.0</span><span class="p">),</span> <span class="mf">2.0</span> <span class="o">**</span> <span class="mf">100.0</span><span class="p">,</span>
        <span class="p">)</span>
</div>
    <span class="nd">@support.cpython_only</span>
<div class="viewcode-block" id="TestPytime.test_time_t"><a class="viewcode-back" href="../../test.html#test.test_time.TestPytime.test_time_t">[docs]</a>    <span class="k">def</span> <span class="nf">test_time_t</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">_testcapi</span> <span class="kn">import</span> <span class="n">pytime_object_to_time_t</span>
        <span class="k">for</span> <span class="n">obj</span><span class="p">,</span> <span class="n">time_t</span><span class="p">,</span> <span class="n">rnd</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="c"># Round towards zero</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.9</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="c"># Round away from zero</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.9</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pytime_object_to_time_t</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">rnd</span><span class="p">),</span> <span class="n">time_t</span><span class="p">)</span>

        <span class="n">rnd</span> <span class="o">=</span> <span class="n">_PyTime_ROUND_DOWN</span>
        <span class="k">for</span> <span class="n">invalid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">invalid_values</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span>
                              <span class="n">pytime_object_to_time_t</span><span class="p">,</span> <span class="n">invalid</span><span class="p">,</span> <span class="n">rnd</span><span class="p">)</span>
</div>
    <span class="nd">@support.cpython_only</span>
<div class="viewcode-block" id="TestPytime.test_timeval"><a class="viewcode-back" href="../../test.html#test.test_time.TestPytime.test_timeval">[docs]</a>    <span class="k">def</span> <span class="nf">test_timeval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">_testcapi</span> <span class="kn">import</span> <span class="n">pytime_object_to_timeval</span>
        <span class="k">for</span> <span class="n">obj</span><span class="p">,</span> <span class="n">timeval</span><span class="p">,</span> <span class="n">rnd</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="c"># Round towards zero</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1e-6</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1e-7</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1e-6</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1e-7</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">800000</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">0.9999999</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">0.0000041</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.1234560</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">123456</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.1234569</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">123456</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">0.0000040</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999996</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">0.0000041</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999995</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.1234560</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">876544</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.1234561</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">876543</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="c"># Round away from zero</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1e-6</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1e-7</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1e-6</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1e-7</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">800000</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">0.9999999</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">0.0000041</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.1234560</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">123457</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.1234569</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">123457</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">0.0000040</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999996</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">0.0000041</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999995</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.1234560</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">876544</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.1234561</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">876543</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
        <span class="p">):</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">subTest</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">round</span><span class="o">=</span><span class="n">rnd</span><span class="p">,</span> <span class="n">timeval</span><span class="o">=</span><span class="n">timeval</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pytime_object_to_timeval</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">rnd</span><span class="p">),</span> <span class="n">timeval</span><span class="p">)</span>

        <span class="n">rnd</span> <span class="o">=</span> <span class="n">_PyTime_ROUND_DOWN</span>
        <span class="k">for</span> <span class="n">invalid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">invalid_values</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span>
                              <span class="n">pytime_object_to_timeval</span><span class="p">,</span> <span class="n">invalid</span><span class="p">,</span> <span class="n">rnd</span><span class="p">)</span>
</div>
    <span class="nd">@support.cpython_only</span>
<div class="viewcode-block" id="TestPytime.test_timespec"><a class="viewcode-back" href="../../test.html#test.test_time.TestPytime.test_timespec">[docs]</a>    <span class="k">def</span> <span class="nf">test_timespec</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">_testcapi</span> <span class="kn">import</span> <span class="n">pytime_object_to_timespec</span>
        <span class="k">for</span> <span class="n">obj</span><span class="p">,</span> <span class="n">timespec</span><span class="p">,</span> <span class="n">rnd</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="c"># Round towards zero</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1e-9</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1e-10</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1e-9</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1e-10</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">800000000</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">0.9999999999</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">999999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.1234567890</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">123456789</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.1234567899</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">123456789</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.1234567890</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">876543211</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.1234567891</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">876543210</span><span class="p">),</span> <span class="n">_PyTime_ROUND_DOWN</span><span class="p">),</span>
            <span class="c"># Round away from zero</span>
            <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1e-9</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1e-10</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1e-9</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1e-10</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999999999</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">800000000</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">0.9999999999</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.1234567890</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">123456790</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="mf">1.1234567899</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">123456790</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.1234567890</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">876543211</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
            <span class="p">(</span><span class="o">-</span><span class="mf">1.1234567891</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">876543210</span><span class="p">),</span> <span class="n">_PyTime_ROUND_UP</span><span class="p">),</span>
        <span class="p">):</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">subTest</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="nb">round</span><span class="o">=</span><span class="n">rnd</span><span class="p">,</span> <span class="n">timespec</span><span class="o">=</span><span class="n">timespec</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">pytime_object_to_timespec</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">rnd</span><span class="p">),</span> <span class="n">timespec</span><span class="p">)</span>

        <span class="n">rnd</span> <span class="o">=</span> <span class="n">_PyTime_ROUND_DOWN</span>
        <span class="k">for</span> <span class="n">invalid</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">invalid_values</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span>
                              <span class="n">pytime_object_to_timespec</span><span class="p">,</span> <span class="n">invalid</span><span class="p">,</span> <span class="n">rnd</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">_STRUCT_TM_ITEMS</span> <span class="o">==</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&quot;needs tm_zone support&quot;</span><span class="p">)</span>
<div class="viewcode-block" id="TestPytime.test_localtime_timezone"><a class="viewcode-back" href="../../test.html#test.test_time.TestPytime.test_localtime_timezone">[docs]</a>    <span class="k">def</span> <span class="nf">test_localtime_timezone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c"># Get the localtime and examine it for the offset and zone.</span>
        <span class="n">lt</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">lt</span><span class="p">,</span> <span class="s">&quot;tm_gmtoff&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="n">lt</span><span class="p">,</span> <span class="s">&quot;tm_zone&quot;</span><span class="p">))</span>

        <span class="c"># See if the offset and zone are similar to the module</span>
        <span class="c"># attributes.</span>
        <span class="k">if</span> <span class="n">lt</span><span class="o">.</span><span class="n">tm_gmtoff</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&quot;timezone&quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">tm_gmtoff</span><span class="p">,</span> <span class="o">-</span><span class="p">[</span><span class="n">time</span><span class="o">.</span><span class="n">timezone</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">altzone</span><span class="p">][</span><span class="n">lt</span><span class="o">.</span><span class="n">tm_isdst</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">lt</span><span class="o">.</span><span class="n">tm_zone</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="s">&quot;tzname&quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">tm_zone</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">tzname</span><span class="p">[</span><span class="n">lt</span><span class="o">.</span><span class="n">tm_isdst</span><span class="p">])</span>

        <span class="c"># Try and make UNIX times from the localtime and a 9-tuple</span>
        <span class="c"># created from the localtime. Test to see that the times are</span>
        <span class="c"># the same.</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">lt</span><span class="p">);</span> <span class="n">t9</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">lt</span><span class="p">[:</span><span class="mi">9</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">t9</span><span class="p">)</span>

        <span class="c"># Make localtimes from the UNIX times and compare them to</span>
        <span class="c"># the original localtime, thus making a round trip.</span>
        <span class="n">new_lt</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">t</span><span class="p">);</span> <span class="n">new_lt9</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">t9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">new_lt</span><span class="p">,</span> <span class="n">lt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">new_lt</span><span class="o">.</span><span class="n">tm_gmtoff</span><span class="p">,</span> <span class="n">lt</span><span class="o">.</span><span class="n">tm_gmtoff</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">new_lt</span><span class="o">.</span><span class="n">tm_zone</span><span class="p">,</span> <span class="n">lt</span><span class="o">.</span><span class="n">tm_zone</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">new_lt9</span><span class="p">,</span> <span class="n">lt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">new_lt</span><span class="o">.</span><span class="n">tm_gmtoff</span><span class="p">,</span> <span class="n">lt</span><span class="o">.</span><span class="n">tm_gmtoff</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">new_lt9</span><span class="o">.</span><span class="n">tm_zone</span><span class="p">,</span> <span class="n">lt</span><span class="o">.</span><span class="n">tm_zone</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">_STRUCT_TM_ITEMS</span> <span class="o">==</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&quot;needs tm_zone support&quot;</span><span class="p">)</span>
<div class="viewcode-block" id="TestPytime.test_strptime_timezone"><a class="viewcode-back" href="../../test.html#test.test_time.TestPytime.test_strptime_timezone">[docs]</a>    <span class="k">def</span> <span class="nf">test_strptime_timezone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s">&quot;UTC&quot;</span><span class="p">,</span> <span class="s">&quot;%Z&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">tm_zone</span><span class="p">,</span> <span class="s">&#39;UTC&#39;</span><span class="p">)</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s">&quot;+0500&quot;</span><span class="p">,</span> <span class="s">&quot;%z&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">tm_gmtoff</span><span class="p">,</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">3600</span><span class="p">)</span>
</div>
    <span class="nd">@unittest.skipUnless</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">_STRUCT_TM_ITEMS</span> <span class="o">==</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&quot;needs tm_zone support&quot;</span><span class="p">)</span>
<div class="viewcode-block" id="TestPytime.test_short_times"><a class="viewcode-back" href="../../test.html#test.test_time.TestPytime.test_short_times">[docs]</a>    <span class="k">def</span> <span class="nf">test_short_times</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="kn">import</span> <span class="nn">pickle</span>

        <span class="c"># Load a short time structure using pickle.</span>
        <span class="n">st</span> <span class="o">=</span> <span class="n">b</span><span class="s">&quot;ctime</span><span class="se">\n</span><span class="s">struct_time</span><span class="se">\n</span><span class="s">p0</span><span class="se">\n</span><span class="s">((I2007</span><span class="se">\n</span><span class="s">I8</span><span class="se">\n</span><span class="s">I11</span><span class="se">\n</span><span class="s">I1</span><span class="se">\n</span><span class="s">I24</span><span class="se">\n</span><span class="s">I49</span><span class="se">\n</span><span class="s">I5</span><span class="se">\n</span><span class="s">I223</span><span class="se">\n</span><span class="s">I1</span><span class="se">\n</span><span class="s">tp1</span><span class="se">\n</span><span class="s">(dp2</span><span class="se">\n</span><span class="s">tp3</span><span class="se">\n</span><span class="s">Rp4</span><span class="se">\n</span><span class="s">.&quot;</span>
        <span class="n">lt</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">tm_gmtoff</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIs</span><span class="p">(</span><span class="n">lt</span><span class="o">.</span><span class="n">tm_zone</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

</div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Weldon Henson.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0.',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>